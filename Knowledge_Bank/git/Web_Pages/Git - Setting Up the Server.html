<!DOCTYPE html>
<html class="js fontface no-webkit no-chrome no-windows no-ie8 wf-adelle-n4-inactive wf-adelle-n7-inactive wf-inactive" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<script src="Git%20-%20Setting%20Up%20the%20Server_files/track.js" data-site-id="4f919d1df5a1f504b3000026" id="gauges-tracker" async="" type="text/javascript"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-6.newrelic.com","errorBeacon":"bam.nr-data.net","licenseKey":"20c4a8c482","applicationID":"454369","transactionName":"dl5cQkcLXF9XRBoHW1paQRlGAVNHW1lb","queueTime":6,"applicationTime":98,"ttGuid":"","agentToken":null,"agent":"js-agent.newrelic.com/nr-411.min.js"}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o?o:n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({D5DuLP:[function(t,n){function e(t,n){var e=r[t];return e?e.apply(this,n):(o[t]||(o[t]=[]),void o[t].push(n))}var r={},o={};n.exports=e,e.queues=o,e.handlers=r},{}],handle:[function(t,n){n.exports=t("D5DuLP")},{}],G9z0Bl:[function(t,n){function e(){var t=l.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&p&&p.body){l.proto="https"===f.split(":")[0]||t.sslForHttp?"https://":"http://",i("mark",["onload",a()]);var n=p.createElement("script");n.src=l.proto+t.agent,p.body.appendChild(n)}}function r(){"complete"===p.readyState&&o()}function o(){i("mark",["domContent",a()])}function a(){return(new Date).getTime()}var i=t("handle"),u=window,p=u.document,s="addEventListener",c="attachEvent",f=(""+location).split("?")[0],l=n.exports={offset:a(),origin:f,features:[]};p[s]?(p[s]("DOMContentLoaded",o,!1),u[s]("load",e,!1)):(p[c]("onreadystatechange",r),u[c]("onload",e)),i("mark",["firstbyte",a()])},{handle:"D5DuLP"}],loader:[function(t,n){n.exports=t("G9z0Bl")},{}]},{},["G9z0Bl"]);</script>

  <title>Git - Setting Up the Server</title>

  <link href="http://git-scm.com/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="alternate" href="http://git-scm.com/blog.rss" type="application/rss+xml" title="Git - Blog">

  <link href="Git%20-%20Setting%20Up%20the%20Server_files/git-scm-c6d584847a7dd6bb94d6fe55fccaa7ac.css" media="screen" rel="stylesheet" type="text/css">
  <script src="Git%20-%20Setting%20Up%20the%20Server_files/modernizr-6caa5d3c04a79bb71ff5bc169599c7bb.js" type="text/javascript"></script>
<script src="Git%20-%20Setting%20Up%20the%20Server_files/modernizr-tests-7d276fc9b3f84590beb0bba47cdd823a.js" type="text/javascript"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js" type="text/javascript"></script>
  <![endif]-->

  <script src="Git%20-%20Setting%20Up%20the%20Server_files/jsq2fql.js" type="text/javascript"></script>
  <style type="text/css">.tk-adelle{font-family:"adelle",serif;}</style><link href="Git%20-%20Setting%20Up%20the%20Server_files/d.css" rel="stylesheet"><script>
    //<![CDATA[
      try{Typekit.load();}catch(e){}
    //]]>
  </script>

</head>

<body id="documentation">

  <div class="inner">
    <header>
  <a href="http://git-scm.com/"><img src="Git%20-%20Setting%20Up%20the%20Server_files/logo2x.png" alt="Git" height="46" width="110"></a>
  <span id="tagline">
    <em>--</em>distributed-even-if-your-workflow-isnt
  </span>

  <form id="search" action="/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text">
  </form>
  <div id="search-results"></div>
</header>
  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="http://git-scm.com/about">About</a>
      </li>
      <li>
        <a href="http://git-scm.com/doc" class="active">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="http://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a href="http://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="http://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="http://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/blog">Blog</a>
      </li>
      <li>
        <a href="http://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="http://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="http://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="http://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>Download this book in <a href="https://github.s3.amazonaws.com/media/progit.en.pdf">PDF</a>, <a href="https://github.s3.amazonaws.com/media/pro-git.en.mobi">mobi</a>, or <a href="https://github.s3.amazonaws.com/media/progit.epub">ePub</a> form for free.</p>

  <p>
This book is translated into 
  <a href="http://git-scm.com/book/de">Deutsch</a>,
  <a href="http://git-scm.com/book/zh">简体中文</a>,
  <a href="http://git-scm.com/book/zh-tw">正體中文</a>,
  <a href="http://git-scm.com/book/fr">Français</a>,
  <a href="http://git-scm.com/book/ja">日本語</a>,
  <a href="http://git-scm.com/book/nl">Nederlands</a>,
  <a href="http://git-scm.com/book/ru">Русский</a>,
  <a href="http://git-scm.com/book/ko">한국어</a>,
  <a href="http://git-scm.com/book/pt-br">Português (Brasil)</a> and
  <a href="http://git-scm.com/book/cs">Čeština</a>.
</p>
<p>
Partial translations available in
  <a href="http://git-scm.com/book/ar">Arabic</a>,
  <a href="http://git-scm.com/book/es">Español</a>,
  <a href="http://git-scm.com/book/id">Indonesian</a>,
  <a href="http://git-scm.com/book/it">Italiano</a>,
  <a href="http://git-scm.com/book/fi">Suomi</a>,
  <a href="http://git-scm.com/book/mk">Македонски</a>,
  <a href="http://git-scm.com/book/pl">Polski</a> and
  <a href="http://git-scm.com/book/tr">Türkçe</a>.
</p>
<p>
Translations started for
  <a href="http://git-scm.com/book/az">Azərbaycan dili</a>,
  <a href="http://git-scm.com/book/be">Беларуская</a>,
  <a href="http://git-scm.com/book/ca">Català</a>,
  <a href="http://git-scm.com/book/eo">Esperanto</a>,
  <a href="http://git-scm.com/book/es-ni">Español (Nicaragua)</a>,
  <a href="http://git-scm.com/book/hi">हिन्दी</a>,
  <a href="http://git-scm.com/book/hu">Magyar</a>,
  <a href="http://git-scm.com/book/no-nb">Norwegian Bokmål</a>,
  <a href="http://git-scm.com/book/ro">Română</a>,
  <a href="http://git-scm.com/book/sr">Српски</a>,
  <a href="http://git-scm.com/book/th">ภาษาไทย</a> and
  <a href="http://git-scm.com/book/vi">Tiếng Việt</a>.
</p>
<hr class="sidebar">
<p>
The source of this book and the translations are <a href="https://github.com/progit/progit">hosted on GitHub.</a><br>
Patches, suggestions, and comments are welcome.
</p>

  <h4> Related StackOverflow Questions</h4>

<ul class="stackoverflow">
</ul>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">About Git's merge and rebase</a>
    <span>
      <strong>5</strong> votes <em>/</em> <strong>3</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">git rebase vs git merge</a>
    <span>
      <strong>81</strong> votes <em>/</em> <strong>5</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">How to do a rebase with git gui?</a>
    <span>
      <strong>5</strong> votes <em>/</em> <strong>3</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">recovering from git rebase</a>
    <span>
      <strong>27</strong> votes <em>/</em> <strong>15</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">git pull VS git fetch git rebase</a>
    <span>
      <strong>15</strong> votes <em>/</em> <strong>3</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">Undoing a git rebase</a>
    <span>
      <strong>160</strong> votes <em>/</em> <strong>7</strong> Answers
    </span>
  </li>
  <li>
    <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">How to know if there is a git rebase in progress?</a>
    <span>
      <strong>16</strong> votes <em>/</em> <strong>7</strong> Answers
    </span>
  </li>


  </nav>
</aside>
        <div id="content">
          

<div id="book-chapters">
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="#">Chapters ▾</a>
<div class="dropdown-panel" id="chapters-dropdown">
  <div class="three-column">
    <div class="column-left">
      <ol class="book-toc">
  <li class="chapter">
  <h2>1. <a href="http://git-scm.com/book/en/Getting-Started">Getting Started</a></h2>
    <ol>
          <li>
            1.1
            <a href="http://git-scm.com/book/en/Getting-Started-About-Version-Control">About Version Control</a>
          </li>
          <li>
            1.2
            <a href="http://git-scm.com/book/en/Getting-Started-A-Short-History-of-Git">A Short History of Git</a>
          </li>
          <li>
            1.3
            <a href="http://git-scm.com/book/en/Getting-Started-Git-Basics">Git Basics</a>
          </li>
          <li>
            1.4
            <a href="http://git-scm.com/book/en/Getting-Started-Installing-Git">Installing Git</a>
          </li>
          <li>
            1.5
            <a href="http://git-scm.com/book/en/Getting-Started-First-Time-Git-Setup">First-Time Git Setup</a>
          </li>
          <li>
            1.6
            <a href="http://git-scm.com/book/en/Getting-Started-Getting-Help">Getting Help</a>
          </li>
          <li>
            1.7
            <a href="http://git-scm.com/book/en/Getting-Started-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>2. <a href="http://git-scm.com/book/en/Git-Basics">Git Basics</a></h2>
    <ol>
          <li>
            2.1
            <a href="http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository">Getting a Git Repository</a>
          </li>
          <li>
            2.2
            <a href="http://git-scm.com/book/en/Git-Basics-Recording-Changes-to-the-Repository">Recording Changes to the Repository</a>
          </li>
          <li>
            2.3
            <a href="http://git-scm.com/book/en/Git-Basics-Viewing-the-Commit-History">Viewing the Commit History</a>
          </li>
          <li>
            2.4
            <a href="http://git-scm.com/book/en/Git-Basics-Undoing-Things">Undoing Things</a>
          </li>
          <li>
            2.5
            <a href="http://git-scm.com/book/en/Git-Basics-Working-with-Remotes">Working with Remotes</a>
          </li>
          <li>
            2.6
            <a href="http://git-scm.com/book/en/Git-Basics-Tagging">Tagging</a>
          </li>
          <li>
            2.7
            <a href="http://git-scm.com/book/en/Git-Basics-Tips-and-Tricks">Tips and Tricks</a>
          </li>
          <li>
            2.8
            <a href="http://git-scm.com/book/en/Git-Basics-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>3. <a href="http://git-scm.com/book/en/Git-Branching">Git Branching</a></h2>
    <ol>
          <li>
            3.1
            <a href="http://git-scm.com/book/en/Git-Branching-What-a-Branch-Is">What a Branch Is</a>
          </li>
          <li>
            3.2
            <a href="http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging">Basic Branching and Merging</a>
          </li>
          <li>
            3.3
            <a href="http://git-scm.com/book/en/Git-Branching-Branch-Management">Branch Management</a>
          </li>
          <li>
            3.4
            <a href="http://git-scm.com/book/en/Git-Branching-Branching-Workflows">Branching Workflows</a>
          </li>
          <li>
            3.5
            <a href="http://git-scm.com/book/en/Git-Branching-Remote-Branches">Remote Branches</a>
          </li>
          <li>
            3.6
            <a href="http://git-scm.com/book/en/Git-Branching-Rebasing">Rebasing</a>
          </li>
          <li>
            3.7
            <a href="http://git-scm.com/book/en/Git-Branching-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class="column-middle">
      <ol class="book-toc">
  <li class="chapter">
  <h2>4. <a href="http://git-scm.com/book/en/Git-on-the-Server">Git on the Server</a></h2>
    <ol>
          <li>
            4.1
            <a href="http://git-scm.com/book/en/Git-on-the-Server-The-Protocols">The Protocols</a>
          </li>
          <li>
            4.2
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Getting-Git-on-a-Server">Getting Git on a Server</a>
          </li>
          <li>
            4.3
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Generating-Your-SSH-Public-Key">Generating Your SSH Public Key</a>
          </li>
          <li>
            4.4
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Setting-Up-the-Server">Setting Up the Server</a>
          </li>
          <li>
            4.5
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Public-Access">Public Access</a>
          </li>
          <li>
            4.6
            <a href="http://git-scm.com/book/en/Git-on-the-Server-GitWeb">GitWeb</a>
          </li>
          <li>
            4.7
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Gitosis">Gitosis</a>
          </li>
          <li>
            4.8
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Gitolite">Gitolite</a>
          </li>
          <li>
            4.9
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Git-Daemon">Git Daemon</a>
          </li>
          <li>
            4.10
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Hosted-Git">Hosted Git</a>
          </li>
          <li>
            4.11
            <a href="http://git-scm.com/book/en/Git-on-the-Server-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>5. <a href="http://git-scm.com/book/en/Distributed-Git">Distributed Git</a></h2>
    <ol>
          <li>
            5.1
            <a href="http://git-scm.com/book/en/Distributed-Git-Distributed-Workflows">Distributed Workflows</a>
          </li>
          <li>
            5.2
            <a href="http://git-scm.com/book/en/Distributed-Git-Contributing-to-a-Project">Contributing to a Project</a>
          </li>
          <li>
            5.3
            <a href="http://git-scm.com/book/en/Distributed-Git-Maintaining-a-Project">Maintaining a Project</a>
          </li>
          <li>
            5.4
            <a href="http://git-scm.com/book/en/Distributed-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>6. <a href="http://git-scm.com/book/en/Git-Tools">Git Tools</a></h2>
    <ol>
          <li>
            6.1
            <a href="http://git-scm.com/book/en/Git-Tools-Revision-Selection">Revision Selection</a>
          </li>
          <li>
            6.2
            <a href="http://git-scm.com/book/en/Git-Tools-Interactive-Staging">Interactive Staging</a>
          </li>
          <li>
            6.3
            <a href="http://git-scm.com/book/en/Git-Tools-Stashing">Stashing</a>
          </li>
          <li>
            6.4
            <a href="http://git-scm.com/book/en/Git-Tools-Rewriting-History">Rewriting History</a>
          </li>
          <li>
            6.5
            <a href="http://git-scm.com/book/en/Git-Tools-Debugging-with-Git">Debugging with Git</a>
          </li>
          <li>
            6.6
            <a href="http://git-scm.com/book/en/Git-Tools-Submodules">Submodules</a>
          </li>
          <li>
            6.7
            <a href="http://git-scm.com/book/en/Git-Tools-Subtree-Merging">Subtree Merging</a>
          </li>
          <li>
            6.8
            <a href="http://git-scm.com/book/en/Git-Tools-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class="column-right">
      <ol class="book-toc">
  <li class="chapter">
  <h2>7. <a href="http://git-scm.com/book/en/Customizing-Git">Customizing Git</a></h2>
    <ol>
          <li>
            7.1
            <a href="http://git-scm.com/book/en/Customizing-Git-Git-Configuration">Git Configuration</a>
          </li>
          <li>
            7.2
            <a href="http://git-scm.com/book/en/Customizing-Git-Git-Attributes">Git Attributes</a>
          </li>
          <li>
            7.3
            <a href="http://git-scm.com/book/en/Customizing-Git-Git-Hooks">Git Hooks</a>
          </li>
          <li>
            7.4
            <a href="http://git-scm.com/book/en/Customizing-Git-An-Example-Git-Enforced-Policy">An Example Git-Enforced Policy</a>
          </li>
          <li>
            7.5
            <a href="http://git-scm.com/book/en/Customizing-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>8. <a href="http://git-scm.com/book/en/Git-and-Other-Systems">Git and Other Systems</a></h2>
    <ol>
          <li>
            8.1
            <a href="http://git-scm.com/book/en/Git-and-Other-Systems-Git-and-Subversion">Git and Subversion</a>
          </li>
          <li>
            8.2
            <a href="http://git-scm.com/book/en/Git-and-Other-Systems-Migrating-to-Git">Migrating to Git</a>
          </li>
          <li>
            8.3
            <a href="http://git-scm.com/book/en/Git-and-Other-Systems-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>9. <a href="http://git-scm.com/book/en/Git-Internals">Git Internals</a></h2>
    <ol>
          <li>
            9.1
            <a href="http://git-scm.com/book/en/Git-Internals-Plumbing-and-Porcelain">Plumbing and Porcelain</a>
          </li>
          <li>
            9.2
            <a href="http://git-scm.com/book/en/Git-Internals-Git-Objects">Git Objects</a>
          </li>
          <li>
            9.3
            <a href="http://git-scm.com/book/en/Git-Internals-Git-References">Git References</a>
          </li>
          <li>
            9.4
            <a href="http://git-scm.com/book/en/Git-Internals-Packfiles">Packfiles</a>
          </li>
          <li>
            9.5
            <a href="http://git-scm.com/book/en/Git-Internals-The-Refspec">The Refspec</a>
          </li>
          <li>
            9.6
            <a href="http://git-scm.com/book/en/Git-Internals-Transfer-Protocols">Transfer Protocols</a>
          </li>
          <li>
            9.7
            <a href="http://git-scm.com/book/en/Git-Internals-Maintenance-and-Data-Recovery">Maintenance and Data Recovery</a>
          </li>
          <li>
            9.8
            <a href="http://git-scm.com/book/en/Git-Internals-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

      <ol class="book-toc">
        <li class="chapter">
          <h2><a href="http://git-scm.com/book/commands">Index of Commands</a></h2>
        </li>
      </ol>
    </div>
  </div>
 </div>

</div>

<div id="main" class="book">
    <h1>4.4 Git on the Server - Setting Up the Server</h1>
  <div><h2>Setting Up the Server</h2>

<p>Let’s walk through setting up SSH access on the server side. In this example, you’ll use the <code>authorized_keys</code>
 method for authenticating your users. We also assume you’re running a 
standard Linux distribution like Ubuntu. First, you create a 'git' user 
and a <code>.ssh</code> directory for that user.</p>

<pre><code>$ sudo adduser git
$ su git
$ cd
$ mkdir .ssh
</code></pre>

<p>Next, you need to add some developer SSH public keys to the <code>authorized_keys</code>
 file for that user. Let’s assume you’ve received a few keys by e-mail 
and saved them to temporary files. Again, the public keys look something
 like this:</p>

<pre><code>$ cat /tmp/id_rsa.john.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4L
ojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4k
Yjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9Ez
Sdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myiv
O7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPq
dAv8JggJICUvax2T9va5 gsg-keypair
</code></pre>

<p>You just append them to your <code>authorized_keys</code> file:</p>

<pre><code>$ cat /tmp/id_rsa.john.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.josie.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.jessica.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>

<p>Now, you can set up an empty repository for them by running <code>git init</code> with the <code>--bare</code> option, which initializes the repository without a working directory:</p>

<pre><code>$ cd /opt/git
$ mkdir project.git
$ cd project.git
$ git --bare init
</code></pre>

<p>Then, John, Josie, or Jessica can push the first version of their 
project into that repository by adding it as a remote and pushing up a 
branch. Note that someone must shell onto the machine and create a bare 
repository every time you want to add a project. Let’s use <code>gitserver</code>
 as the hostname of the server on which you’ve set up your 'git' user 
and repository. If you’re running it internally, and you set up DNS for <code>gitserver</code> to point to that server, then you can use the commands pretty much as is:</p>

<pre><code># on Johns computer
$ cd myproject
$ git init
$ git add .
$ git commit -m 'initial commit'
$ git remote add origin git@gitserver:/opt/git/project.git
$ git push origin master
</code></pre>

<p>At this point, the others can clone it down and push changes back up just as easily:</p>

<pre><code>$ git clone git@gitserver:/opt/git/project.git
$ cd project
$ vim README
$ git commit -am 'fix for the README file'
$ git push origin master
</code></pre>

<p>With this method, you can quickly get a read/write Git server up and running for a handful of developers.</p>

<p>As an extra precaution, you can easily restrict the 'git' user to only doing Git activities with a limited shell tool called <code>git-shell</code>
 that comes with Git. If you set this as your 'git' user’s login shell, 
then the 'git' user can’t have normal shell access to your server. To 
use this, specify <code>git-shell</code> instead of bash or csh for your user’s login shell. To do so, you’ll likely have to edit your <code>/etc/passwd</code> file:</p>

<pre><code>$ sudo vim /etc/passwd
</code></pre>

<p>At the bottom, you should find a line that looks something like this:</p>

<pre><code>git:x:1000:1000::/home/git:/bin/sh
</code></pre>

<p>Change <code>/bin/sh</code> to <code>/usr/bin/git-shell</code> (or run <code>which git-shell</code> to see where it’s installed). The line should look something like this:</p>

<pre><code>git:x:1000:1000::/home/git:/usr/bin/git-shell
</code></pre>

<p>Now, the 'git' user can only use the SSH connection to push and pull 
Git repositories and can’t shell onto the machine. If you try, you’ll 
see a login rejection like this:</p>

<pre><code>$ ssh git@gitserver
fatal: What do you think I am? A shell?
Connection to gitserver closed.
</code></pre>

<div id="nav"><a href="http://git-scm.com/book/en/Git-on-the-Server-Generating-Your-SSH-Public-Key">prev</a> | <a href="http://git-scm.com/book/en/Git-on-the-Server-Public-Access">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    This <a href="https://github.com/git/git-scm.com/blob/master/README.md#license">open sourced</a> site is <a href="https://github.com/git/git-scm.com">hosted on GitHub.</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="http://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

<script src="Git%20-%20Setting%20Up%20the%20Server_files/jquery-1.js" type="text/javascript"></script>
<script src="Git%20-%20Setting%20Up%20the%20Server_files/jquery-ui-1.js" type="text/javascript"></script>
<script src="Git%20-%20Setting%20Up%20the%20Server_files/jquery.js" type="text/javascript"></script>
<script src="Git%20-%20Setting%20Up%20the%20Server_files/session.js" type="text/javascript"></script>
<script src="Git%20-%20Setting%20Up%20the%20Server_files/site-3dd075acbe877e96db5a97894c829a9a.js" type="text/javascript"></script>

    </div><script src="Git%20-%20Setting%20Up%20the%20Server_files/jsapi" type="text/javascript"></script>


<script src="Git%20-%20Setting%20Up%20the%20Server_files/nr-411.js"></script><script src="Git%20-%20Setting%20Up%20the%20Server_files/20c4a8c482" type="text/javascript"></script></body></html>