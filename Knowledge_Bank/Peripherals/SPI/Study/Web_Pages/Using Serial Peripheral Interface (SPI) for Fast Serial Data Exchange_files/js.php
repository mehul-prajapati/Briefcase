var DOKU_BASE='/embedded-systems/';var DOKU_TPL='/embedded-systems/lib/tpl/mosaic/';var DOKU_UHN=1;var DOKU_UHC=1;LANG={"notsavedyet":"Unsaved changes will be lost.","searchmedia":"Search for files","keepopen":"Keep window open on selection","hidedetails":"Hide Details","mediatitle":"Link settings","mediadisplay":"Link type","mediaalign":"Alignment","mediasize":"Image size","mediatarget":"Link target","mediaclose":"Close","mediainsert":"Insert","mediadisplayimg":"Show the image.","mediadisplaylnk":"Show only the link.","mediasmall":"Small version","mediamedium":"Medium version","medialarge":"Large version","mediaoriginal":"Original version","medialnk":"Link to detail page","mediadirect":"Direct link to original","medianolnk":"No link","medianolink":"Do not link the image","medialeft":"Align the image on the left.","mediaright":"Align the image on the right.","mediacenter":"Align the image in the middle.","medianoalign":"Use no align.","nosmblinks":"Linking to Windows shares only works in Microsoft Internet Explorer.\nYou still can copy and paste the link.","linkwiz":"Link Wizard","linkto":"Link to:","del_confirm":"Really delete selected item(s)?","mu_btn":"Upload multiple files at once","plugins":{"searchindex":{"rebuild":"Rebuild Index","indexing":"Now indexing:","done":"Finished indexing.","pages":"%d pages found.","clearing":"Clearing index...","finding":"Finding pages..."}}};var toolbar=[{"type":"format","title":"Bold Text","icon":"bold.png","key":"b","open":"**","close":"**","block":false},{"type":"format","title":"Italic Text","icon":"italic.png","key":"i","open":"\/\/","close":"\/\/","block":false},{"type":"format","title":"Underlined Text","icon":"underline.png","key":"u","open":"__","close":"__","block":false},{"type":"format","title":"Monospace Font","icon":"mono.png","key":"c","open":"''","close":"''","block":false},{"type":"format","title":"Strike-through Text","icon":"strike.png","key":"d","open":"<del>","close":"<\/del>","block":false},{"type":"format","title":"Subscript Text","icon":"subscript.png","open":"<sub>","close":"<\/sub>","block":false},{"type":"format","title":"Superscript Text","icon":"superscript.png","open":"<sup>","close":"<\/sup>","block":false},{"type":"autohead","title":"Same Level Headline","icon":"hequal.png","key":"8","text":"Headline","mod":0,"block":true},{"type":"autohead","title":"Lower Headline","icon":"hminus.png","key":"9","text":"Headline","mod":1,"block":true},{"type":"autohead","title":"Higher Headline","icon":"hplus.png","key":"0","text":"Headline","mod":-1,"block":true},{"type":"picker","title":"Select Headline","icon":"h.png","class":"pk_hl","list":[{"type":"format","title":"Level 1 Headline","icon":"h1.png","key":"1","open":"====== ","close":" ======\\n"},{"type":"format","title":"Level 2 Headline","icon":"h2.png","key":"2","open":"===== ","close":" =====\\n"},{"type":"format","title":"Level 3 Headline","icon":"h3.png","key":"3","open":"==== ","close":" ====\\n"},{"type":"format","title":"Level 4 Headline","icon":"h4.png","key":"4","open":"=== ","close":" ===\\n"},{"type":"format","title":"Level 5 Headline","icon":"h5.png","key":"5","open":"== ","close":" ==\\n"}],"block":true},{"type":"linkwiz","title":"Internal Link","icon":"link.png","key":"l","open":"[[","close":"]]","block":false},{"type":"format","title":"External Link","icon":"linkextern.png","open":"[[","close":"]]","sample":"http:\/\/example.com|External Link","block":false},{"type":"formatln","title":"Ordered List Item","icon":"ol.png","open":" - ","close":"","key":"-","block":true},{"type":"formatln","title":"Unordered List Item","icon":"ul.png","open":" * ","close":"","key":".","block":true},{"type":"insert","title":"Horizontal Rule","icon":"hr.png","insert":"\\n----\\n","block":true},{"type":"mediapopup","title":"Add Images and other files","icon":"image.png","url":"lib\/exe\/mediamanager.php?ns=","name":"mediaselect","options":"width=750,height=500,left=20,top=20,scrollbars=yes,resizable=yes","block":false},{"type":"picker","title":"Smileys","icon":"smiley.png","list":{":accept:":"icon_accept.png",":add:":"icon_add.png",":->":"icon_arrow.gif","<-:":"icon_arrow_left.gif",":^:":"icon_arrow_up.gif",":v:":"icon_arrow_down.gif",":refresh:":"icon_arrow_refresh.png",":-D":"icon_biggrin.gif",":-->:":"icon_bullet_go.png",":x:":"icon_cancel.png",":!!!:":"icon_caution.png",":-?":"icon_confused.gif","8-)":"icon_rolleyes.gif",":X:":"icon_cross.png",";-(":"icon_cry.gif",":delete:":"icon_delete.png",":-\/":"icon_doubt.gif",":-\\":"icon_doubt2.gif","8-O":"icon_eek.gif","8-o":"icon_eek.gif",":email:":"icon_email.png","^:^":"icon_evil.gif",":!!:":"icon_exclamation.png",":down:":"icon_green_arrow_down.png",":up:":"icon_green_arrow_up.png",":left:":"icon_green_arrow_left.png",":right:":"icon_green_arrow_right.png",":help:":"icon_help.png",":@:":"icon_idea.gif",":info:":"icon_information.png",";<P":"icon_kaddi.gif",":lightbulb:":"icon_lightbulb.png",":-=":"icon_mrgreen.gif",":music:":"icon_music.png",":-|":"icon_neutral.gif",":-P":"icon_razz.gif",":-R":"icon_redface.gif",":-(":"icon_sad.gif",":-x":"icon_silenced.gif",":-X":"icon_silenced.gif",":-)":"icon_smile.gif","=)":"icon_smile2.gif",":-o":"icon_surprised.gif",":-O":"icon_surprised.gif",":tick:":"icon_tick.png",":S(":"icon_twisted.gif",";-)":"icon_wink.gif",":[empty]:":"icon_box.png",":[checked]:":"icon_checkbox.png",":[x]:":"icon_xbox.png","m(":"facepalm.gif","^_^":"icon_fun.gif",":?:":"icon_question.gif",":!:":"icon_exclaim.gif","LOL":"icon_lol.gif","FIXME":"fixme.gif","DELETEME":"delete.gif"},"icobase":"smileys","block":false},{"type":"picker","title":"Special Chars","icon":"chars.png","list":["$","\u00a2","\u00a3","\u00a4","\u00a5","\u20ac","\u00a6","\u00a7","\u00aa","\u00ba","\u00b0","\u00ac","_","\u00af","\u00b0","\u2030","\u2031","\u00bd","\u2153","\u2154","\u00bc","\u00be","\u2155","\u2156","\u2157","\u2158","\u2159","\u215a","\u215b","\u215c","\u215d","\u215e","\u00ba","\u00b9","\u00b2","\u00b3","\u00b5","\u00b6","\u2020","\u2021","\u00b7","\u2022","\u2200","\u2202","\u2203","\u018f","\u0259","\u2205","\u2207","\u2208","\u2209","\u220b","\u220f","\u2211","\u203e","\u2212","\u00b1","\u2213","\u00f7","\u2217","\u00d7","\u221a","\u221b","\u221c","\u221d","\u221e","\u2220","\u2221","\u2227","\u2228","\u222b","\u222c","\u222e","\u222f","\u2234","\u223c","\u2245","\u2248","\u2260","\u2261","<",">","\u2264","\u2265","\u226a","\u226b","\u2229","\u222a","\u2282","\u2283","\u2284","\u2286","\u2287","\u2295","\u2297","\u22a5","\u22c5","\u25ca","\u2118","\u2111","\u211c","\u2135","\u2660","\u2663","\u2665","\u2666","\u2714","\u2605","\u2606","\u25a3","\u25a0","\u25a1","\u25aa","\u25ab","\u25ac","\u25b2","\u25ba","\u25bc","\u25c4","\u260e","\u2639","\u263a","\u2714","\u2718","\u2640","\u2642","\u266a","\u266b","\u266d","\u266e","\u266f","\u2708","\u0391","\u03b1","\u0392","\u03b2","\u03a7","\u03c7","\u0394","\u03b4","\u0395","\u03b5","\u0397","\u03b7","\u0393","\u03b3","\u0399","\u03b9","\u039a","\u03ba","\u039b","\u03bb","\u039c","\u03bc","\u039d","\u03bd","\u03a9","\u03c9","\u039f","\u03bf","\u03a6","\u03c6","\u03a0","\u03c0","\u03d6","\u03a8","\u03c8","\u03a1","\u03c1","\u03a3","\u03c3","\u03c2","\u03a4","\u03c4","\u0398","\u03b8","\u03d1","\u03d2","\u03a5","\u03c5","\u039e","\u03be","\u0396","\u03b6","\u0192","\u2020","\u2021","\u00a5","\u261a","\u261b","\u261c","\u261d","\u261e","\u261f","\u263a","\u201e","\u201c","\u201d","\u201a","\u2018","\u2019","\u00ab","\u00bb","\u2039","\u203a","\u2014","\u2013","\u2026","\u2190","\u2191","\u2192","\u2193","\u2195","\u2194","\u21b5","\u21d0","\u21d1","\u21d2","\u21d3","\u21d4","\u00a9","\u2122","\u00ae","\u2032","\u2033","[","]","{","}","~","(",")","%","$","#","|","@","\u00c0","\u00e0","\u00c1","\u00e1","\u00c2","\u00e2","\u00c3","\u00e3","\u00c4","\u00e4","\u01cd","\u01ce","\u0102","\u0103","\u00c5","\u00e5","\u0100","\u0101","\u0104","\u0105","\u00c6","\u00e6","\u0106","\u0107","\u00c7","\u00e7","\u010c","\u010d","\u0108","\u0109","\u010a","\u010b","\u00d0","\u0111","\u00f0","\u010e","\u010f","\u00c8","\u00e8","\u00c9","\u00e9","\u00ca","\u00ea","\u00cb","\u00eb","\u011a","\u011b","\u0112","\u0113","\u0116","\u0117","\u0118","\u0119","\u0122","\u0123","\u011c","\u011d","\u011e","\u011f","\u0120","\u0121","\u0124","\u0125","\u00cc","\u00ec","\u00cd","\u00ed","\u00ce","\u00ee","\u00cf","\u00ef","\u01cf","\u01d0","\u012a","\u012b","\u0130","\u0131","\u012e","\u012f","\u0134","\u0135","\u0136","\u0137","\u0139","\u013a","\u013b","\u013c","\u013d","\u013e","\u0141","\u0142","\u013f","\u0140","\u0143","\u0144","\u00d1","\u00f1","\u0145","\u0146","\u0147","\u0148","\u00d2","\u00f2","\u00d3","\u00f3","\u00d4","\u00f4","\u00d5","\u00f5","\u00d6","\u00f6","\u01d1","\u01d2","\u014c","\u014d","\u0150","\u0151","\u0152","\u0153","\u00d8","\u00f8","\u0154","\u0155","\u0156","\u0157","\u0158","\u0159","\u015a","\u015b","\u015e","\u015f","\u0160","\u0161","\u015c","\u015d","\u0162","\u0163","\u0164","\u0165","\u00d9","\u00f9","\u00da","\u00fa","\u00db","\u00fb","\u00dc","\u00fc","\u01d3","\u01d4","\u016c","\u016d","\u016a","\u016b","\u016e","\u016f","\u01d6","\u01d8","\u01da","\u01dc","\u0172","\u0173","\u0170","\u0171","\u0174","\u0175","\u00dd","\u00fd","\u0178","\u00ff","\u0176","\u0177","\u0179","\u017a","\u017d","\u017e","\u017b","\u017c","\u00de","\u00fe","\u00df","\u0126","\u0127","\u00bf","\u00a1","\u2009\u00b0C","\u2009\u00b0F","\u2009\u00b0K","\u2009TB","\u2009GB","\u2009MB","\u2009KB","\u2009byte","\u2009THz","\u2009GHz","\u2009MHz","\u2009KHz","\u2009Hz","\u2009\u03bcF","\u2009M\u03a9","\u2009K\u03a9","\u2009\u03a9","\u2009V","\u2009mV","\u2009\u03bcV","\u2009A","\u2009mA","\u2009\u03bcA","\u2009km","\u2009m","\u2009cm","\u2009mm","\u2009\u03bcm","\u2009mm","\u2009nm","\u2009\u00c5","\u2009kg"],"block":false},{"type":"signature","title":"Insert Signature","icon":"sig.png","key":"y","block":false},{"type":"picker","title":"Insert equation","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/equation.png","class":"pk_equation","list":[{"type":"format","title":"Insert indented equation","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/equationindented.png","open":"\\n\/* You may include any block classes or style, removing the comments within the ' [' and ']'. Equation numbers must start with a numeral. Equations are given an anchor so you can link to them. *\/\\n<equation [classes style=\"\"] 1.1|Descriptive tooltip text>\\n","close":"\\n<\/equation>\\n"},{"type":"format","title":"Insert boxed equation","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/equationboxed.png","open":"\\n\/* You may include any block classes or style, removing the comments within the ' [' and ']'. Equation numbers must start with a numeral. Equations are given an anchor so you can link to them. *\/\\n<equation gray shadow [classes style=\"\"] 1.1|Descriptive tooltip text>\\n","close":"\\n<\/equation>"},{"type":"format","title":"Link to Eqn. x.x","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/equationlink.png","open":"\/* Replace the x.x in the following link with the equation number.*\/[[#eqnx.x|","close":"|| class= action16 eqn | title=tooltip text]]"}],"block":true},{"type":"picker","title":"Insert a captioned table or link to one","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/table.png","class":"pk_table","list":[{"type":"insert","title":"Insert a titled\/captioned table","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/tablecaptioned.png","insert":"\\n\/* You may include any block classes or style, removing the comments within the ' [' and ']'. Classes in the opening tag are applied to a block containing the table, including a title or caption positioned before the table, and those in the closing tag are applied only to the title\/caption below the table, if any. Table numbers must start with a numeral or a # and can be applied to either the opening or closing tag. You can title and\/or caption, just delete what is not needed. Tables are given an anchor so you can link to them. Use the \"primary\" class if the table is the main content of the page. Remove the sortable tags if you don't need sorted tables, and remove the width specification if you don't need it. Width is specified as total width followed by column widths, using \"-\" for liquid or remaining width. It's best to specify a total width of 100% and make the width narrower in the opening tag if needed. You can add rows and columns as needed. Text alignment is done using preceding and trailing spaces. *\/\\n<table 70% center primary scroll [other_classes style=\"\"]|Optional title (or caption if an enumerator is given) to be placed above the table>\\n<sortable>\\n|< 100% 25% - >|\\n^  Heading 1  ^  Heading 2  ^\\n|  1  |  2  |\\n|  1  |  2  |\\n<\/sortable>\\n<\/table [caption_classes style=\"\"] #1.1|Optional caption (or title if there is no enumerator) to be placed below the table>\\n","block":true},{"type":"format","title":"Link to Table x.x","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/tablelink.png","open":"\/* Replace the x.x in the following link with the table number.*\/[[#tabx.x|","close":"|| title=tooltip popup text]]"}],"block":true},{"type":"picker","title":"Insert a captioned figure or link to one","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/figure.png","class":"pk_figure","list":[{"type":"format","title":"Insert a captioned figure","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/figurecaptioned.png","open":"\\n\/* You may include any block classes or style, removing the comments within the ' [' and ']'. Classes in the opening tag are applied to the entire figure, including title and caption, and those in the closing tag are applied only to the caption below. Figure numbers must start with a numeral or a # and can be applied to the title or caption. You can title and\/or caption, just delete what is not needed. Figures are given an anchor so you can link to them. Use the \"primary\" class if the figure is the only or primary figure on the page. *\/\\n<figure primary [other_classes style=\"\"]|Title (or caption) to be placed above figure>\\n","close":"\\n<\/figure [caption_classes style=\"\"] #1.1|Caption (or title) to be placed below the figure>\\n"},{"type":"format","title":"Link to Fig. x.x","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/figurelink.png","open":"\/* Replace the x.x in the following link with the figure number.*\/[[#figx.x|","close":"|| title=tooltip popup text]]"}],"block":true},{"type":"picker","title":"Insert a note box","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notebutton.png","class":"pk_note","list":[{"type":"format","title":"Plain note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/note.png","key":"1","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note shadow [width classes style=\"\"]|Note>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Informative note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteinfo.png","key":"2","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note info shadow [width classes style=\"\"]|Info>\\n","close":"<\/note>\\n"},{"type":"format","title":"Insert your cautionary tale","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notecaution.png","key":"3","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note caution shadow [width classes style=\"\"]|Caution>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Idea note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteidea.png","key":"4","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note idea shadow [width classes style=\"\"]|Idea>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Idea note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notecflidea.png","key":"5","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note cfl_idea shadow [width classes style=\"\"]|Idea>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"To-do note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notetodo.png","key":"6","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note to-do shadow [width classes style=\"\"]|To-do>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Warning note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notewarning.png","key":"7","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note warning shadow [width classes style=\"\"]|Warning>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Error note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteerror.png","key":"8","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note error shadow [width classes style=\"\"]|Error>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Shortcut note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteshortcut.png","key":"9","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note shortcut shadow [width classes style=\"\"]|Shortcut>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Download note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notedownload.png","key":"0","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note download shadow [width classes style=\"\"]|Download>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Development tools note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notedevtools.png","key":"a","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note devtools shadow [width classes style=\"\"]|Development tools>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Under construction note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteconstruction.png","key":"b","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note construction shadow [width classes style=\"\"]|Under construction>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Documentation note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notedocs.png","key":"c","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note docs shadow [width classes style=\"\"]|Documents>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Caution Internet Explorer note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/noteie.png","key":"d","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note ie shadow [width classes style=\"\"]|Caution - Internet Explorer>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Dokuwiki note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notedw.png","key":"e","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note dw shadow [width classes style=\"\"]|Dokuwiki>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Tip note","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notetip.png","key":"f","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note tip shadow [width classes style=\"\"]|Tip>\\n","close":"\\n<\/note>\\n"},{"type":"format","title":"Note with no image","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/notenoimage.png","key":"g","open":"\\n\/* Width, classes and style are optional. Anything within ' [' and ']' are comments. You may remove the shadow class for crisp borders. *\/\\n<note noimage shadow [width classes style=\"\"]|Note without an image>\\n","close":"\\n<\/note>\\n"}],"block":true},{"type":"picker","title":"Insert block or inline elements","class":"pk_syntax","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/syntax.png","list":[{"type":"format","title":"Insert block syntax","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/blocksyntax.png","open":"\\n\/* Width and height (in length units), classes and style are optional. Anything within ' [' and ']' are comments. You may insert classes using the \"style\" button. *\/\\n<block [width height classes style=\"\"]|Optional tooltip text>\\n","close":"\\n<\/block>\\n"},{"type":"picker","title":"Choose from block styles","class":"pk_blockstyles","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/blockstyles.png","list":["default","red","orange","tan","yellow","chartreuse","olive","green","turquoise","teal","aqua","blue","indigo","purple","pink","gray","noimage","dark-default","dark-red","dark-orange","dark-tan","dark-yellow","dark-chartreuse","dark-olive","dark-green","dark-turquoise","dark-teal","dark-aqua","dark-blue","dark-indigo","dark-purple","dark-pink","dark-gray","resize","leftalign","centeralign","rightalign","justify","left","center","right","indent","indent1","indent2","indent3","clearleft","clearright","clearboth","clearnone","clearer","denselists","ul_box_empty","ul_long_arrow","ul_short_arrow","ul_plus","ul_box_checked","ul_checkmark","ul_ok","ul_caution","ul_box_x","ul_warning","ul_red_x","round","shadow","shaded","scroll","tagline","noprint","pagebreak","nopagebreak","avoidbreak","columnbreak","columnspan","col2","col3","col4","col5","col6","col7","col8","ruled","wrap","public or local"]},{"type":"format","title":"Insert inline syntax","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/inlinesyntax.png","open":"\\n\/* Classes and style are optional. Anything within ' [' and ']' are comments. You may insert classes using the \"style\" button. *\/\\n<inline [classes style=\"\"]|Optional tooltip text>","close":"<\/inline>\\n"},{"type":"picker","title":"Choose from inline styles","class":"pk_inlinestyles","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/inlinestyles.png","list":["default","red","orange","tan","yellow","chartreuse","olive","green","turquoise","teal","aqua","blue","indigo","purple","pink","gray","local","public","dark-default","dark-red","dark-orange","dark-tan","dark-yellow","dark-chartreuse","dark-olive","dark-green","dark-turquoise","dark-teal","dark-aqua","dark-blue","dark-indigo","dark-purple","dark-pink","dark-gray","noimage","round"]}],"block":false},{"type":"picker","title":"Insert text-wrapping columns","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/columns.png","class":"pk_columns","list":[{"type":"format","title":"Text in two wrapping columns","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/col2.png","open":"\\n\/* Width and height (in length units), classes and style are optional. Anything within [] are comments. You may insert classes using the block syntax \"style\" button.  Uncomment [ruled] for a vertical rule between columns. You may specify as many as 8 columns.*\/\\n<block col2 [width height classes style=\"\"] [ruled] >\\n","close":"\\n<\/block>\\n"},{"type":"format","title":"Text in three wrapping columns","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/col3.png","open":"\\n\/* Width and height (in length units), classes and style are optional. Anything within ' [' and ']' are comments. You may insert classes using the block syntax \"style\" button.  Uncomment [ruled] for a vertical rule between columns. You may specify as many as 8 columns.*\/\\n<block col3 [width height classes style=\"\"] [ruled] >\\n","close":"\\n<\/block>\\n"},{"type":"format","title":"Text in four wrapping columns","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/col4.png","open":"\\n\/* Width and height (in length units), classes and style are optional. Anything within ' [' and ']' are comments. You may insert classes using the block syntax \"style\" button.  Uncomment [ruled] for a vertical rule between columns. You may specify as many as 8 columns.*\/\\n<block col4 [width height classes style=\"\"] [ruled] >\\n","close":"\\n<\/block>\\n"},{"type":"format","title":"Text in five wrapping columns","icon":"..\/..\/plugins\/blockinline\/images\/toolbar\/col5.png","open":"\\n\/* Width and height (in length units), classes and style are optional. Anything within ' [' and ']' are comments. You may insert classes using the block syntax \"style\" button.  Uncomment [ruled] for a vertical rule between columns. You may specify as many as 8 columns.*\/\\n<block col5 [width height classes style=\"\"] [ruled] >\\n","close":"\\n<\/block>\\n"}],"block":true},{"type":"picker","title":"Enclose your content in a colored box","class":"pk_box","icon":"..\/..\/plugins\/box\/images\/toolbar\/box.png","list":[{"type":"format","title":"Insert box content here","icon":"..\/..\/plugins\/box\/images\/toolbar\/boxsyntax.png","open":"\\n\/* Set the box width in css units (default is 50%).  Choose optional classes and styles from the styles menu button.  Colors are in css RGB in the order content-background, title-background, padding-background and borders.*\/\\n<box width classes styles colors|**Optional title text**>\\n","close":"\\n<\/box |Optional bottom caption text>\\n"},{"type":"picker","title":"Choose box styles","class":"pk_boxstyles","icon":"..\/..\/plugins\/box\/images\/toolbar\/boxstyles.png","list":["red","orange","yellow","chartreuse","green","turquoise","teal","aqua","blue","indigo","purple","pink","tan","gray","olive","dark-red","dark-orange","dark-yellow","dark-chartreuse","dark-green","dark-turquoise","dark-teal","dark-aqua","dark-blue","dark-indigo","dark-purple","dark-pink","dark-tan","dark-gray","dark-olive","round","left","center","right","margin:","margin-top:","margin-right:","margin-bottom:","margin-left:","padding:","padding-top:","padding-right:","padding-bottom:","padding-left:"]}],"block":false},{"type":"picker","title":"Insert non-wrapping columns","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/columnsb.png","class":"pk_columnsb","list":[{"type":"format","title":"Content of first of two nonwrapping block columns","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/col2b.png","open":"\\n\/* The first width specifies the combined width of the columns, while others are for the individual columns. Use \"-\" for liquid width. You can also specify horizontal alignment using left, right, center and justify, and vertical alignment using top, bottom and middle, for example as,\\n  <columns 100% left 50% right bottom - >\\n *\/\\n<columns 100% 50% - >\\n","close":"\\n<newcolumn>\\nSecond column content\\n<\/columns>\\n"},{"type":"format","title":"Content of first of three nonwrapping block columns","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/col3b.png","open":"\\n\/* The first width specifies the combined width of the columns, while others are for the individual columns. Use \"-\" for liquid width. You can also specify horizontal alignment using left, right, center and justify, and vertical alignment using top, bottom and middle, for example as,\\n  <columns 100% left 50% right bottom - >\\n *\/\\n<columns 100% 33% 33% - >\\n","close":"\\n<newcolumn>\\nSecond column content\\n<newcolumn>\\nThird column content\\n<\/columns>\\n"},{"type":"format","title":"Content of first of four nonwrapping block columns","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/col4b.png","open":"\\n\/* The first width specifies the combined width of the columns, while others are for the individual columns. Use \"-\" for liquid width. You can also specify horizontal alignment using left, right, center and justify, and vertical alignment using top, bottom and middle, for example as,\\n  <columns 100% left 50% right bottom - >\\n *\/\\n<columns 100% 25% 25% 25% - >\\n","close":"\\n<newcolumn>\\nSecond column content\\n<newcolumn>\\nThird column content\\n<newcolumn>\\nFourth column content\\n<\/columns>\\n"}],"block":true},{"type":"picker","title":"Insert code blocks","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/code.png","class":"pk_code","list":[{"type":"format","title":"Insert your file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codefile.png","open":"\\n<file>\\n","close":"\\n<\/file>\\n"},{"type":"format","title":"Insert your C file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codec.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code c 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your Forth file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codeforth.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code forth 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your html file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codehtml.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code html 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your css file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codecss.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code css 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your php file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codephp.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code php 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your javascript file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codejs.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code js 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert youre bash file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codebash.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code bash 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your asm file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codeasm.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code asm 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"},{"type":"format","title":"Insert your text file here","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/codetxt.png","open":"\\n\/* Syntax is <code language linenum | [t or f for title or footer] Title | [s or h for show or hide]> *\/\\n<code text 1 |t Code block title |h>\\n","close":"\\n<\/code>\\n"}],"block":true},{"type":"insert","title":"Insert table","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/addtable.png","insert":"\\n\/* Remove any of the following syntax if you don't need it.  Remove the sortable tags if you don't need sorted tables, and remove the width specification if you don't need it. Width is specified as total width followed by column widths, using \"-\" for liquid or remaining width. You can add rows and columns as needed. Text alignment is done using preceding and trailing spaces. *\/\\n<block scroll>\\n<sortable>\\n|< 95% 10em - >|\\n^  Heading 1  ^  Heading 2  ^\\n|  1  |  2  |\\n<\/sortable>\\n<\/block>\\n","block":true},{"type":"picker","title":"Insert extended link syntax for followable and custom styled links","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-extended.png","class":"pk_links","list":[{"type":"picker","title":"","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-click-text.png","class":"pk_links_list","list":[{"type":"format","title":"Link text for an internal link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-internal.png","open":"\/*Customize the following link prototype with the wiki ns:pg address, link text, and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[ns:pg#section|","close":"||title=popup_tooltip |class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Link text for an external link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-external.png","open":"\/*In the following link prototype insert the desired url, link text, and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[http:\/\/www.domain.com\/page.html#heading|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Link text for a baselink to a file on the server","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-baselink.png","open":"\/*In the following link prototype insert the fle path, link text, and attributes. Baselinks work only if your server's .htaccess file allow them. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[\/path\/file.ext|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Link text for an email link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-email.png","open":"\/*In the following link prototype insert the email address, link text, and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[info@addr.com|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Link text for an interwiki or wikipedia link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-interwiki.png","open":"\/*In the following link prototype insert the interwiki address or wikipedia topic, link text, and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[wp>topic|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Link text for a Windows share","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-winshare.png","open":"\/*In the following link prototype insert the Windows share address, link text, and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n[[\\share\\path\\file.ext|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"picker","title":"","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-file.png","class":"pk_links_list2","list":[{"type":"format","title":"Link text for a local file in the media directory","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-internal.png","open":"\/*In the following link to an internal image\/file insert the media file wiki location, image alt text (after the first |), and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n{{:ns:pg:file.ext|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank}}"},{"type":"format","title":"Link text for an external file","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-external.png","open":"\/*In the following link to an external image\/file insert the file url, image alt text (after the first |), and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n{{http:\/\/www.domain.com\/path\/file.ext|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank}}"}],"block":true},{"type":"format","title":"Link text for an image showing only the link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-image.png","open":"\/*In the following link to an internal image\/file insert the image\/file address, alt text (after the first |), and attributes. Additional attributes are style, pre, suf, and id. Delete any not needed.*\/\\n{{:ns:pg:image.ext?linkonly|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank}}"}],"block":true},{"type":"picker","title":"Insert a link using a clickable image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-click-image.png","class":"pk_links_list","list":[{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-internal.png","open":"\/*In the following image link insert the local wiki page address, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), optional width and\/or height, and attributes. Additional classes are applied to both the link and the image. You can resize local images, but not external ones.  Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[ns:pg#section|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-external.png","open":"\/*In the following image link insert the external url, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), optional width and\/or height, and attributes. Additional classes are applied to both the link and the image. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[http:\/\/www.domain.com\/page.html#heading|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-baselink.png","open":"\/*In the following image link insert the file path, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. Baselinks only work if your server allows it. Additional classes are applied to both the link and the image. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[\/path\/file.ext|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-email.png","open":"\/*In the following image link insert the email address, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. Additional classes are applied to both the link and the image. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[name@addr.com|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-interwiki.png","open":"\/*In the following link prototype insert the interwiki address or Wikipedia topic, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. Additional classes are applied to both the link and the image. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[wp>topic|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"format","title":"Descriptive alt text for the image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-winshare.png","open":"\/*In the following link prototype insert the Windows share path, image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. Additional classes are applied to both the link and the image. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n[[\\share\\path\\file.ext|{{image_url?wxh|","close":"}}||title=popup_tooltip|class=+ |rel=nofollow |target=_blank]]"},{"type":"picker","title":"Display either a local or external image","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-image-more.png","class":"pk_links_list2","list":[{"type":"format","title":"Descriptive image alt text for an image that opens in a new window","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-image-direct.png","open":"\/*In the following link prototype insert an image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n{{:ns:pg:image.ext?direct&wxh|","close":"||title=popup_tooltip|class=+ |rel=nofollow |target=_blank}}"},{"type":"format","title":"Descriptive image alt text for an image that opens a detail page","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-image-detail.png","open":"\/*In the following link prototype insert an image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n{{:ns:pg:image.ext?wxh|","close":"||title=popup_tooltip|class=+ |alt=+ |rel=nofollow |target=_blank}}"},{"type":"format","title":"Descriptive image alt text for an image without a link","icon":"..\/..\/plugins\/customeditbuttons\/images\/toolbar\/link-image-nolink.png","open":"\/*In the following link prototype insert an image location (either a local wiki image or external url), image alt text (after the | within the {{...}}), and attributes. You can resize local images, but not external ones. Additional attributes are style, pre, suf, alt, and id. Delete any not needed.*\/\\n{{:ns:pg:image.ext?nolink&wxh|","close":"||title=popup_tooltip|class=+ |alt=+ |rel=nofollow |target=_blank}}"}],"block":true}],"block":true}],"block":true},{"type":"format","title":"Glossary term text","icon":"..\/..\/plugins\/glossary\/images\/toolbar\/glossaryterm.png","open":"``","close":"``","block":false},{"type":"format","title":"Popup Link","icon":"..\/..\/plugins\/popup\/images\/toolbar\/popup.png","open":"\\n\/* You may include width, height, top and left as distances, any inline or block classes, a tooltip title, or any style. Remove the comments in the []. Use the inline keyword for an inline link. *\/\\n<popup [max-width max-height top left inline classes title=\"\" style=\"\"] |","close":">\\nPlace your popup content here\\n<\/popup>\\n"},{"type":"format","title":"Insert Tag-Syntax","icon":"..\/..\/plugins\/tag\/images\/tag-toolbar.png","open":"{{tag>","close":"}}"}];function isUndefined(prop){return(typeof prop=='undefined');}function isFunction(prop){return(typeof prop=='function');}function isString(prop){return(typeof prop=='string');}function isNumber(prop){return(typeof prop=='number');}function isNumeric(prop){return isNumber(prop)&&!isNaN(prop)&&isFinite(prop);}function isArray(prop){return(prop instanceof Array);}function isRegExp(prop){return(prop instanceof RegExp);}function isBoolean(prop){return('boolean'==typeof prop);}function isScalar(prop){return isNumeric(prop)||isString(prop);}function isEmpty(prop){if(isBoolean(prop))return false;if(isRegExp(prop)&&new RegExp("").toString()==prop.toString())return true;if(isString(prop)||isNumber(prop))return!prop;if(Boolean(prop)&&false!=prop){for(var i in prop)if(prop.hasOwnProperty(i))return false;}return true;}if('undefined'==typeof Object.hasOwnProperty){Object.prototype.hasOwnProperty=function(prop){return!('undefined'==typeof this[prop]||this.constructor&&this.constructor.prototype[prop]&&this[prop]===this.constructor.prototype[prop]);};}function hasFlash(version){var ver=0;try{if(navigator.plugins!=null&&navigator.plugins.length>0){ver=navigator.plugins["Shockwave Flash"].description.split(' ')[2].split('.')[0];}else{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");ver=axo.GetVariable("$version").split(' ')[1].split(',')[0];}}catch(e){}if(ver>=version)return true;return false;}function addEvent(element,type,handler){if(!handler.$$guid)handler.$$guid=addEvent.guid++;if(!element.events)element.events={};var handlers=element.events[type];if(!handlers){handlers=element.events[type]={};if(element["on"+type]){handlers[0]=element["on"+type];}}handlers[handler.$$guid]=handler;element["on"+type]=handleEvent;};addEvent.guid=1;function removeEvent(element,type,handler){if(element.events&&element.events[type]){delete element.events[type][handler.$$guid];}};function handleEvent(event){var returnValue=true;event=event||fixEvent(window.event,this);var handlers=this.events[event.type];for(var i in handlers){if(!handlers.hasOwnProperty(i))continue;if(handlers[i].call(this,event)===false){returnValue=false;}}return returnValue;};function fixEvent(event,_this){event.preventDefault=fixEvent.preventDefault;event.stopPropagation=fixEvent.stopPropagation;event.target=event.srcElement;event.currentTarget=_this;var base=(document.documentElement.scrollTop?document.documentElement:document.body);event.pageX=(typeof event.pageX!=='undefined')?event.pageX:event.clientX+base.scrollLeft;event.pageY=(typeof event.pageY!=='undefined')?event.pageY:event.clientY+base.scrollTop;return event;};fixEvent.preventDefault=function(){this.returnValue=false;};fixEvent.stopPropagation=function(){this.cancelBubble=true;};window.fireoninit=function(){if(arguments.callee.done)return;arguments.callee.done=true;if(_timer){clearInterval(_timer);_timer=null;}if(typeof window.oninit=='function'){window.oninit();}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",window.fireoninit,null);}/*@cc_on @if(@_win32)document.write("<scr"+"ipt id=\"__ie_init\" defer=\"true\" src=\"//:\"><\/script>");var script=document.getElementById("__ie_init");script.onreadystatechange=function(){if(this.readyState=="complete"){window.fireoninit();}};@end @*/if(/WebKit/i.test(navigator.userAgent)){var _timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){window.fireoninit();}},10);}window.onload=window.fireoninit;window.oninit=function(){};function addInitEvent(func){var oldoninit=window.oninit;if(typeof window.oninit!='function'){window.oninit=func;}else{window.oninit=function(){oldoninit();func();};}}function bind(fnc){var args=Array.prototype.slice.call(arguments,1);return function(){return fnc.apply(this,args);};}var timer={_cur_id:0,_handlers:{},execDispatch:function(id){timer._handlers[id]();},add:function(func,timeout){var id=++timer._cur_id;timer._handlers[id]=func;return window.setTimeout('timer.execDispatch('+id+')',timeout);}};function Delay(func,timeout){this.func=func;if(timeout){this.timeout=timeout;}}Delay.prototype={func:null,timeout:500,delTimer:function(){if(this.timer!==null){window.clearTimeout(this.timer);this.timer=null;}},start:function(){this.delTimer();var _this=this;this.timer=timer.add(function(){_this.exec.call(_this);},this.timeout);this._data={_this:arguments[0],_params:Array.prototype.slice.call(arguments,2)};},exec:function(){this.delTimer();this.func.call(this._data._this,this._data._params);}};DokuCookie={data:Array(),name:'DOKU_PREFS',setValue:function(key,val){DokuCookie.init();DokuCookie.data[key]=val;var now=new Date();DokuCookie.fixDate(now);now.setTime(now.getTime()+365*24*60*60*1000);var text='';for(var key in DokuCookie.data){if(!DokuCookie.data.hasOwnProperty(key))continue;text+='#'+escape(key)+'#'+DokuCookie.data[key];}DokuCookie.setCookie(DokuCookie.name,text.substr(1),now,DOKU_BASE);},getValue:function(key){DokuCookie.init();return DokuCookie.data[key];},init:function(){if(DokuCookie.data.length)return;var text=DokuCookie.getCookie(DokuCookie.name);if(text){var parts=text.split('#');for(var i=0;i<parts.length;i+=2){DokuCookie.data[unescape(parts[i])]=unescape(parts[i+1]);}}},setCookie:function(name,value,expires,path,domain,secure){var curCookie=name+"="+escape(value)+((expires)?"; expires="+expires.toGMTString():"")+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+((secure)?"; secure":"");document.cookie=curCookie;},getCookie:function(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!==0){return null;}}else{begin+=2;}var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length;}return unescape(dc.substring(begin+prefix.length,end));},fixDate:function(date){var base=new Date(0);var skew=base.getTime();if(skew>0){date.setTime(date.getTime()-skew);}}};var clientPC=navigator.userAgent.toLowerCase();var is_macos=navigator.appVersion.indexOf('Mac')!=-1;var is_gecko=((clientPC.indexOf('gecko')!=-1)&&(clientPC.indexOf('spoofer')==-1)&&(clientPC.indexOf('khtml')==-1)&&(clientPC.indexOf('netscape/7.0')==-1));var is_safari=((clientPC.indexOf('applewebkit')!=-1)&&(clientPC.indexOf('spoofer')==-1));var is_khtml=(navigator.vendor=='KDE'||(document.childNodes&&!document.all&&!navigator.taintEnabled));if(clientPC.indexOf('opera')!=-1){var is_opera=true;var is_opera_preseven=(window.opera&&!document.childNodes);var is_opera_seven=(window.opera&&document.childNodes);}function $(){var elements=new Array();for(var i=0;i<arguments.length;i++){var element=arguments[i];if(typeof element=='string')element=document.getElementById(element);if(arguments.length==1)return element;elements.push(element);}return elements;}function isset(varname){return(typeof(window[varname])!='undefined');}function getElementsByClass(searchClass,node,tag){var classElements=new Array();if(node==null)node=document;if(tag==null)tag='*';var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(var i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++;}}return classElements;}function findPosX(object){var curleft=0;var obj=$(object);if(obj.offsetParent){do{curleft+=obj.offsetLeft;}while(obj=obj.offsetParent);}else if(obj.x){curleft+=obj.x;}return curleft;}function findPosY(object){var curtop=0;var obj=$(object);if(obj.offsetParent){do{curtop+=obj.offsetTop;}while(obj=obj.offsetParent);}else if(obj.y){curtop+=obj.y;}return curtop;}function gcs(node){if(node.currentStyle){return node.currentStyle;}else{return node.ownerDocument.defaultView.getComputedStyle(node,null);}}function jsEscape(text){var re=new RegExp("\\\\","g");text=text.replace(re,"\\\\");re=new RegExp("'","g");text=text.replace(re,"\\'");re=new RegExp('"',"g");text=text.replace(re,'&quot;');re=new RegExp("\\\\\\\\n","g");text=text.replace(re,"\\n");return text;}function escapeQuotes(text){var re=new RegExp("'","g");text=text.replace(re,"\\'");re=new RegExp('"',"g");text=text.replace(re,'&quot;');re=new RegExp("\\n","g");text=text.replace(re,"\\n");return text;}function prependChild(parent,element){if(!parent.firstChild){parent.appendChild(element);}else{parent.insertBefore(element,parent.firstChild);}}function showLoadBar(){document.write('<img src="'+DOKU_BASE+'lib/images/loading.gif" '+'width="150" height="12" alt="..." />');}function hideLoadBar(id){obj=$(id);if(obj)obj.style.display="none";}function addTocToggle(){if(!document.getElementById)return;var header=$('toc__header');if(!header)return;var toc=$('toc__inside');var obj=document.createElement('span');obj.id='toc__toggle';obj.style.cursor='pointer';if(toc&&toc.style.display=='none'){obj.innerHTML='<span>+</span>';obj.className='toc_open';}else{obj.innerHTML='<span>&minus;</span>';obj.className='toc_close';}prependChild(header,obj);obj.parentNode.onclick=toggleToc;obj.parentNode.style.cursor='pointer';}function toggleToc(){var toc=$('toc__inside');var obj=$('toc__toggle');if(toc.style.display=='none'){toc.style.display='';obj.innerHTML='<span>&minus;</span>';obj.className='toc_close';}else{toc.style.display='none';obj.innerHTML='<span>+</span>';obj.className='toc_open';}}function insitu_popup(target,popup_id){var fndiv=$(popup_id);if(!fndiv){fndiv=document.createElement('div');fndiv.id=popup_id;fndiv.className='insitu-footnote JSpopup dokuwiki';addEvent(fndiv,'mouseout',function(e){var p=e.relatedTarget||e.toElement;while(p&&p!==this){p=p.parentNode;}if(p===this){return;}this.style.display='none';});getElementsByClass('dokuwiki',document.body,'div')[0].appendChild(fndiv);}var non_static_parent=fndiv.parentNode;while(non_static_parent!=document&&gcs(non_static_parent)['position']=='static'){non_static_parent=non_static_parent.parentNode;}var fixed_target_parent=target;while(fixed_target_parent!=document&&gcs(fixed_target_parent)['position']!='fixed'){fixed_target_parent=fixed_target_parent.parentNode;}if(fixed_target_parent!=document){fndiv.style.position='fixed';}else{fndiv.style.position='absolute';}if(fixed_target_parent!=document||non_static_parent==document){fndiv.style.left=findPosX(target)+'px';fndiv.style.top=(findPosY(target)+target.offsetHeight*1.5)+'px';}else{fndiv.style.left=(findPosX(target)-findPosX(non_static_parent))+'px';fndiv.style.top=(findPosY(target)+target.offsetHeight*1.5-findPosY(non_static_parent))+'px';}fndiv.style.display='';return fndiv;}function footnote(e){var fndiv=insitu_popup(e.target,'insitu__fn');var a=$("fn__"+e.target.id.substr(5));if(!a){return;}var content=new String(a.parentNode.parentNode.innerHTML);content=content.replace(/^<sup>.*<\/sup>/gi,'');content=content.replace(/^\s+(,\s+)+/,'');content=content.replace(/\bid=(['"])([^"']+)\1/gi,'id="insitu__$2');fndiv.innerHTML=content;}addInitEvent(function(){var elems=getElementsByClass('fn_top',null,'a');for(var i=0;i<elems.length;i++){addEvent(elems[i],'mouseover',function(e){footnote(e);});}});function initSizeCtl(ctlid,edid){if(!document.getElementById){return;}var ctl=$(ctlid);var textarea=$(edid);if(!ctl||!textarea)return;var hgt=DokuCookie.getValue('sizeCtl');if(hgt){textarea.style.height=hgt;}else{textarea.style.height='300px';}var wrp=DokuCookie.getValue('wrapCtl');if(wrp){setWrap(textarea,wrp);}var l=document.createElement('img');var s=document.createElement('img');var w=document.createElement('img');l.src=DOKU_BASE+'lib/images/larger.gif';s.src=DOKU_BASE+'lib/images/smaller.gif';w.src=DOKU_BASE+'lib/images/wrap.gif';addEvent(l,'click',function(){sizeCtl(edid,100);});addEvent(s,'click',function(){sizeCtl(edid,-100);});addEvent(w,'click',function(){toggleWrap(edid);});ctl.appendChild(l);ctl.appendChild(s);ctl.appendChild(w);}function sizeCtl(edid,val){var textarea=$(edid);var height=parseInt(textarea.style.height.substr(0,textarea.style.height.length-2));height+=val;textarea.style.height=height+'px';DokuCookie.setValue('sizeCtl',textarea.style.height);}function toggleWrap(edid){var textarea=$(edid);var wrap=textarea.getAttribute('wrap');if(wrap&&wrap.toLowerCase()=='off'){setWrap(textarea,'soft');}else{setWrap(textarea,'off');}DokuCookie.setValue('wrapCtl',textarea.getAttribute('wrap'));}function setWrap(textarea,wrapAttrValue){textarea.setAttribute('wrap',wrapAttrValue);var parNod=textarea.parentNode;var nxtSib=textarea.nextSibling;parNod.removeChild(textarea);parNod.insertBefore(textarea,nxtSib);}function closePopups(){if(!document.getElementById){return;}var divs=document.getElementsByTagName('div');for(var i=0;i<divs.length;i++){if(divs[i].className.indexOf('JSpopup')!=-1){divs[i].style.display='none';}}}function scrollToMarker(){var obj=$('scroll__here');if(obj)obj.scrollIntoView();}function focusMarker(){var obj=$('focus__this');if(obj)obj.focus();}function cleanMsgArea(){var elems=getElementsByClass('(success|info|error)',document,'div');if(elems){for(var i=0;i<elems.length;i++){elems[i].style.display='none';}}}addInitEvent(function(){var revForm=$('page__revisions');if(!revForm)return;var elems=revForm.elements;var countTicks=0;for(var i=0;i<elems.length;i++){var input1=elems[i];if(input1.type=='checkbox'){addEvent(input1,'click',function(e){if(this.checked)countTicks++;else countTicks--;for(var j=0;j<elems.length;j++){var input2=elems[j];if(countTicks>=2)input2.disabled=(input2.type=='checkbox'&&!input2.checked);else input2.disabled=(input2.type!='checkbox');}});input1.checked=false;}else if(input1.type=='submit'){input1.disabled=true;}}});addInitEvent(function(){var selects=getElementsByClass('quickselect',document,'select');for(var i=0;i<selects.length;i++){addEvent(selects[i],'change',function(e){this.form.submit();});var btns=selects[i].form.getElementsByTagName('input');for(var j=0;j<btns.length;j++){if(btns[j].type=='submit'){btns[j].style.display='none';}}}});function checkWindowsShares(){if(!LANG['nosmblinks'])return true;if(document.all!=null)return true;var elems=getElementsByClass('windows',document,'a');if(elems){for(var i=0;i<elems.length;i++){var share=elems[i];addEvent(share,'click',function(){alert(LANG['nosmblinks']);});}}}addInitEvent(function(){checkWindowsShares();});addInitEvent(function(){var btns=getElementsByClass('btn_secedit',document,'form');for(var i=0;i<btns.length;i++){addEvent(btns[i],'mouseover',function(e){var tgt=this.parentNode;var nr=tgt.className.match(/(\s+|^)editbutton_(\d+)(\s+|$)/)[2];do{tgt=tgt.previousSibling;}while(tgt!==null&&typeof tgt.tagName==='undefined');if(tgt===null)return;while(typeof tgt.className==='undefined'||tgt.className.match('(\\s+|^)sectionedit'+nr+'(\\s+|$)')===null){if(typeof tgt.className!=='undefined'){tgt.className+=' section_highlight';}tgt=(tgt.previousSibling!==null)?tgt.previousSibling:tgt.parentNode;}if(typeof tgt.className!=='undefined')tgt.className+=' section_highlight';});addEvent(btns[i],'mouseout',function(e){var secs=getElementsByClass('section_highlight');for(var j=0;j<secs.length;j++){secs[j].className=secs[j].className.replace(/section_highlight/g,'');}});}});function sack(file){this.AjaxFailedAlert="Your browser does not support the enhanced functionality of this website, and therefore you will have an experience that differs from the intended one.\n";this.requestFile=file;this.method="POST";this.URLString="";this.encodeURIString=true;this.execute=false;this.asynchronous=true;this.onLoading=function(){};this.onLoaded=function(){};this.onInteractive=function(){};this.onCompletion=function(){};this.afterCompletion=function(){};this.createAJAX=function(){try{this.xmlhttp=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}catch(err){this.xmlhttp=null;}}if(!this.xmlhttp&&typeof XMLHttpRequest!="undefined"){this.xmlhttp=new XMLHttpRequest();}if(!this.xmlhttp){this.failed=true;}};this.setVar=function(name,value){if(this.URLString.length<3){this.URLString=name+"="+value;}else{this.URLString+="&"+name+"="+value;}};this.encVar=function(name,value){var varString=encodeURIComponent(name)+"="+encodeURIComponent(value);return varString;};this.encodeURLString=function(string){varArray=string.split('&');for(i=0;i<varArray.length;i++){urlVars=varArray[i].split('=');if(urlVars[0].indexOf('amp;')!=-1){urlVars[0]=urlVars[0].substring(4);}varArray[i]=this.encVar(urlVars[0],urlVars[1]);}return varArray.join('&');};this.runResponse=function(){eval(this.response);};this.runAJAX=function(urlstring){this.responseStatus=new Array(2);if(this.failed&&this.AjaxFailedAlert){alert(this.AjaxFailedAlert);}else{if(urlstring){if(this.URLString.length){this.URLString=this.URLString+"&"+urlstring;}else{this.URLString=urlstring;}}if(this.encodeURIString){var timeval=new Date().getTime();this.URLString=this.encodeURLString(this.URLString);this.setVar("rndval",timeval);}if(this.element){this.elementObj=document.getElementById(this.element);}if(this.xmlhttp){var self=this;if(this.method=="GET"){var totalurlstring=this.requestFile+"?"+this.URLString;this.xmlhttp.open(this.method,totalurlstring,this.asynchronous);}else{this.xmlhttp.open(this.method,this.requestFile,this.asynchronous);}if(this.method=="POST"){try{this.xmlhttp.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');}catch(e){}}this.xmlhttp.onreadystatechange=function(){switch(self.xmlhttp.readyState){case 1:self.onLoading();break;case 2:self.onLoaded();break;case 3:self.onInteractive();break;case 4:self.response=self.xmlhttp.responseText;self.responseXML=self.xmlhttp.responseXML;self.responseStatus[0]=self.xmlhttp.status;self.responseStatus[1]=self.xmlhttp.statusText;self.onCompletion();if(self.execute){self.runResponse();}if(self.elementObj){var elemNodeName=self.elementObj.nodeName;elemNodeName.toLowerCase();if(elemNodeName=="input"||elemNodeName=="select"||elemNodeName=="option"||elemNodeName=="textarea"){self.elementObj.value=self.response;}else{self.elementObj.innerHTML=self.response;}}self.afterCompletion();self.URLString="";break;}};this.xmlhttp.send(this.URLString);}}};this.createAJAX();}var ajax_quicksearch={inObj:null,outObj:null,sackObj:null,delay:null,init:function(inID,outID){this.inObj=$(inID);this.outObj=$(outID);if(this.inObj===null)return;if(this.outObj===null)return;this.sackObj=new sack(DOKU_BASE+'lib/exe/ajax.php');this.sackObj.AjaxFailedAlert='';this.sackObj.encodeURIString=false;this.sackObj.onCompletion=ajax_quicksearch.onCompletion;this.delay=new Delay(function(){ajax_quicksearch.clear_results();var value=ajax_quicksearch.inObj.value;if(value===''){return;}ajax_quicksearch.sackObj.runAJAX('call=qsearch&q='+encodeURI(value));});addEvent(this.inObj,'keyup',function(){ajax_quicksearch.clear_results();ajax_quicksearch.delay.start();});addEvent(this.outObj,'click',function(){ajax_quicksearch.outObj.style.display='none';});},clear_results:function(){ajax_quicksearch.outObj.style.display='none';ajax_quicksearch.outObj.innerHTML='';},onCompletion:function(){var data=this.response;if(data===''){return;}var outObj=ajax_quicksearch.outObj;outObj.innerHTML=data;outObj.style.display='block';outObj.style['white-space']='nowrap';var width=outObj.clientWidth;var links=outObj.getElementsByTagName('a');for(var i=0;i<links.length;i++){var max=width-links[i].offsetLeft;var isRTL=(document.documentElement.dir=='rtl');if(!isRTL&&links[i].offsetWidth<max)continue;if(isRTL&&links[i].offsetLeft>0)continue;var nsL=links[i].innerText.indexOf('(');var nsR=links[i].innerText.indexOf(')');var eli=0;var runaway=0;while((nsR-nsL>3)&&((!isRTL&&links[i].offsetWidth>max)||(isRTL&&links[i].offsetLeft<0))){if(runaway++>500)return;if(eli){if((eli-nsL)>(nsR-eli)){links[i].innerText=links[i].innerText.substring(0,eli-2)+links[i].innerText.substring(eli);}else{links[i].innerText=links[i].innerText.substring(0,eli+1)+links[i].innerText.substring(eli+2);}}else{var mid=Math.floor(nsL+((nsR-nsL)/2));links[i].innerText=links[i].innerText.substring(0,mid)+''+links[i].innerText.substring(mid+1);}eli=links[i].innerText.indexOf('');nsL=links[i].innerText.indexOf('(');nsR=links[i].innerText.indexOf(')');}}}};addInitEvent(function(){ajax_quicksearch.init('qsearch__in','qsearch__out');});var index={throbber_delay:500,treeattach:function(obj){if(!obj)return;var items=getElementsByClass('idx_dir',obj,'a');for(var i=0;i<items.length;i++){var elem=items[i];addEvent(elem,'click',function(e){return index.toggle(e,this);});var listitem=elem.parentNode;while(listitem.tagName!='LI'){listitem=listitem.parentNode;}if(listitem.getElementsByTagName('ul').length){listitem.open=true;}}},toggle:function(e,clicky){var listitem=clicky.parentNode.parentNode;listitem.open=!listitem.open;var sublists=listitem.getElementsByTagName('ul');if(!listitem.open){if(sublists.length){sublists[0].style.display='none';}listitem.className='closed';e.preventDefault();return false;}if(sublists.length&&listitem.open){sublists[0].style.display='';listitem.className='open';e.preventDefault();return false;}var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;var ul=document.createElement('ul');ul.className='idx';timeout=window.setTimeout(function(){if(listitem.open){ul.innerHTML='<li><img src="'+DOKU_BASE+'lib/images/throbber.gif" alt="loading..." title="loading..." /></li>';listitem.appendChild(ul);listitem.className='open';}},this.throbber_delay);ajax.elementObj=ul;ajax.afterCompletion=function(){window.clearTimeout(timeout);index.treeattach(ul);if(listitem.className!='open'){if(!listitem.open){ul.style.display='none';}listitem.appendChild(ul);if(listitem.open){listitem.className='open';}}};ajax.runAJAX(clicky.search.substr(1)+'&call=index');e.preventDefault();return false;}};addInitEvent(function(){index.treeattach($('index__tree'));});var drag={obj:null,handle:null,oX:0,oY:0,eX:0,eY:0,attach:function(obj,handle){if(handle){handle.dragobject=obj;}else{handle=obj;}var _this=this;addEvent($(handle),'mousedown',function(e){return _this.start(e);});},start:function(e){this.handle=e.target;if(this.handle.dragobject){this.obj=this.handle.dragobject;}else{this.obj=this.handle;}this.handle.className+=' ondrag';this.obj.className+=' ondrag';this.oX=parseInt(this.obj.style.left);this.oY=parseInt(this.obj.style.top);this.eX=e.pageX;this.eY=e.pageY;var _this=this;this.mousehandlers=[function(e){return _this.drag(e);},function(e){return _this.stop(e);}];addEvent(document,'mousemove',this.mousehandlers[0]);addEvent(document,'mouseup',this.mousehandlers[1]);return false;},stop:function(){this.handle.className=this.handle.className.replace(/ ?ondrag/,'');this.obj.className=this.obj.className.replace(/ ?ondrag/,'');removeEvent(document,'mousemove',this.mousehandlers[0]);removeEvent(document,'mouseup',this.mousehandlers[1]);this.obj=null;this.handle=null;},drag:function(e){if(this.obj){this.obj.style.top=(e.pageY+this.oY-this.eY+'px');this.obj.style.left=(e.pageX+this.oX-this.eX+'px');}}};function selection_class(){this.start=0;this.end=0;this.obj=null;this.rangeCopy=null;this.scroll=0;this.fix=0;this.getLength=function(){return this.end-this.start;};this.getText=function(){if(!this.obj)return'';return this.obj.value.substring(this.start,this.end);};}function getSelection(textArea){if(textArea==null){return null}var sel=new selection_class();sel.obj=textArea;sel.start=textArea.value.length;sel.end=textArea.value.length;textArea.focus();if(document.getSelection){sel.start=textArea.selectionStart;sel.end=textArea.selectionEnd;sel.scroll=textArea.scrollTop;}else if(document.selection){sel.rangeCopy=document.selection.createRange().duplicate();if(textArea.tagName==='INPUT'){var before_range=textArea.createTextRange();before_range.expand('textedit');}else{var before_range=document.body.createTextRange();before_range.moveToElementText(textArea);}before_range.setEndPoint("EndToStart",sel.rangeCopy);var before_finished=false,selection_finished=false;var before_text,selection_text;before_text=before_range.text;selection_text=sel.rangeCopy.text;sel.start=before_text.length;sel.end=sel.start+selection_text.length;do{if(!before_finished){if(before_range.compareEndPoints("StartToEnd",before_range)==0){before_finished=true;}else{before_range.moveEnd("character",-1);if(before_range.text==before_text){sel.start+=2;sel.end+=2;}else{before_finished=true;}}}if(!selection_finished){if(sel.rangeCopy.compareEndPoints("StartToEnd",sel.rangeCopy)==0){selection_finished=true;}else{sel.rangeCopy.moveEnd("character",-1);if(sel.rangeCopy.text==selection_text){sel.end+=2;}else{selection_finished=true;}}}}while((!before_finished||!selection_finished));var countNL=function(str){var m=str.split("\r\n");if(!m||!m.length)return 0;return m.length-1;};sel.fix=countNL(sel.obj.value.substring(0,sel.start));}return sel;}function setSelection(selection){if(document.getSelection){selection.obj.setSelectionRange(selection.start,selection.end);if(selection.scroll)selection.obj.scrollTop=selection.scroll;}else if(document.selection){selection.rangeCopy.collapse(true);selection.rangeCopy.moveStart('character',selection.start-selection.fix);selection.rangeCopy.moveEnd('character',selection.end-selection.start);selection.rangeCopy.select();}}function pasteText(selection,text,opts){if(!opts)opts={};selection.obj.value=selection.obj.value.substring(0,selection.start)+text+selection.obj.value.substring(selection.end,selection.obj.value.length);if(is_opera){selection.end=selection.start+text.replace(/\r?\n/g,'\r\n').length;}else{selection.end=selection.start+text.length;}if(opts.startofs)selection.start+=opts.startofs;if(opts.endofs)selection.end-=opts.endofs;if(opts.nosel)selection.start=selection.end;setSelection(selection);}function insertTags(textAreaID,tagOpen,tagClose,sampleText){var txtarea=$(textAreaID);var selection=getSelection(txtarea);var text=selection.getText();var opts;if(text.charAt(text.length-1)==' '){selection.end--;text=selection.getText();}if(!text){text=sampleText;opts={startofs:tagOpen.length,endofs:tagClose.length};}else{opts={nosel:true};}text=tagOpen+text+tagClose;pasteText(selection,text,opts);}function insertAtCarret(textAreaID,text){var txtarea=$(textAreaID);var selection=getSelection(txtarea);pasteText(selection,text,{nosel:true});}var pickercounter=0;function initToolbar(tbid,edid,tb,allowblock){var toolbar=$(tbid);if(!toolbar)return;var edit=$(edid);if(!edit)return;if(edit.readOnly)return;if(typeof allowblock==='undefined'){allowblock=true;}toolbar.innerHTML='';var cnt=tb.length;for(var i=0;i<cnt;i++){if(!allowblock&&tb[i].block===true){continue;}var actionFunc;var btn=createToolButton(tb[i]['icon'],tb[i]['title'],tb[i]['key'],tb[i]['id'],tb[i]['class']);actionFunc='tb_'+tb[i]['type'];if(isFunction(window[actionFunc])){addEvent(btn,'click',bind(window[actionFunc],btn,tb[i],edid));toolbar.appendChild(btn);continue;}actionFunc='addBtnAction'+tb[i]['type'].charAt(0).toUpperCase()+tb[i]['type'].substring(1);if(isFunction(window[actionFunc])){if(window[actionFunc](btn,tb[i],edid)){toolbar.appendChild(btn);}continue;}alert('unknown toolbar type: '+tb[i]['type']+'  '+actionFunc);}}function tb_format(btn,props,edid){var sample=props['title'];if(props['sample']){sample=props['sample'];}insertTags(edid,fixtxt(props['open']),fixtxt(props['close']),fixtxt(sample));pickerClose();return false;}function tb_formatln(btn,props,edid){var sample=props['title'];if(props['sample']){sample=props['sample'];}sample=fixtxt(sample);props['open']=fixtxt(props['open']);props['close']=fixtxt(props['close']);var opts;var selection=getSelection($(edid));if(selection.getLength()){sample=selection.getText();opts={nosel:true};}else{opts={startofs:props['open'].length,endofs:props['close'].length};}sample=sample.split("\n").join(props['close']+"\n"+props['open']);sample=props['open']+sample+props['close'];pasteText(selection,sample,opts);pickerClose();return false;}function tb_insert(btn,props,edid){insertAtCarret(edid,fixtxt(props['insert']));pickerClose();return false;}function tb_mediapopup(btn,props,edid){window.open(DOKU_BASE+props['url']+encodeURIComponent(NS)+'&edid='+encodeURIComponent(edid),props['name'],props['options']);return false;}function tb_autohead(btn,props,edid){var lvl=currentHeadlineLevel(edid);lvl+=props['mod'];if(lvl<1)lvl=1;if(lvl>5)lvl=5;var tags='=';for(var i=0;i<=5-lvl;i++)tags+='=';insertTags(edid,tags+' ',' '+tags+"\n",props['text']);pickerClose();return false;}function addBtnActionPicker(btn,props,edid){var pickerid='picker'+(pickercounter++);createPicker(pickerid,props,edid);addEvent(btn,'click',function(){pickerToggle(pickerid,btn);return false;});return true;}function addBtnActionLinkwiz(btn,props,edid){linkwiz.init($(edid));addEvent(btn,'click',function(){linkwiz.toggle();return false;});return true;}function pickerToggle(pickerid,btn){var picker=$(pickerid);if(picker.style.marginLeft=='-10000px'){var x=findPosX(btn);var y=findPosY(btn);picker.style.left=(x+3)+'px';picker.style.top=(y+btn.offsetHeight+3)+'px';picker.style.marginLeft='0px';picker.style.marginTop='0px';}else{picker.style.marginLeft='-10000px';picker.style.marginTop='-10000px';}}function pickerClose(){var pobjs=getElementsByClass('picker');for(var i=0;i<pobjs.length;i++){pobjs[i].style.marginLeft='-10000px';pobjs[i].style.marginTop='-10000px';}}function fixtxt(str){return str.replace(/\\n/g,"\n");}function createToolButton(icon,label,key,id,classname){var btn=document.createElement('button');var ico=document.createElement('img');btn.className='toolbutton';if(classname){btn.className+=' '+classname;}btn.title=label;if(key){btn.title+=' ['+key.toUpperCase()+']';btn.accessKey=key;}if(id){btn.id=id;ico.id=id+'_ico';}if(icon.substr(0,1)=='/'){ico.src=icon;}else{ico.src=DOKU_BASE+'lib/images/toolbar/'+icon;}btn.appendChild(ico);return btn;}function createPicker(id,props,edid){var icobase=props['icobase'];var list=props['list'];var picker=document.createElement('div');picker.className='picker';if(props['class']){picker.className+=' '+props['class'];}picker.id=id;picker.style.position='absolute';picker.style.marginLeft='-10000px';picker.style.marginTop='-10000px';for(var key in list){if(!list.hasOwnProperty(key))continue;if(isNaN(key)){var btn=document.createElement('button');btn.className='pickerbutton';var ico=document.createElement('img');if(list[key].substr(0,1)=='/'){ico.src=list[key];}else{ico.src=DOKU_BASE+'lib/images/'+icobase+'/'+list[key];}btn.title=key;btn.appendChild(ico);addEvent(btn,'click',bind(pickerInsert,key,edid));picker.appendChild(btn);}else if(isString(list[key])){var btn=document.createElement('button');btn.className='pickerbutton';var txt=document.createTextNode(list[key]);btn.title=list[key];btn.appendChild(txt);addEvent(btn,'click',bind(pickerInsert,list[key],edid));picker.appendChild(btn);}else{initToolbar(picker,edid,list);break;}}var body=document.getElementsByTagName('body')[0];body.appendChild(picker);return picker;}function pickerInsert(text,edid){insertAtCarret(edid,text);pickerClose();}function addBtnActionSignature(btn,props,edid){if(typeof(SIG)!='undefined'&&SIG!=''){addEvent(btn,'click',bind(insertAtCarret,edid,SIG));return true;}return false;}function keyHandler(e){return;if(e.keyCode!=13&&e.keyCode!=8&&e.keyCode!=32)return;var field=e.target;var selection=getSelection(field);if(selection.getLength())return;var search="\n"+field.value.substr(0,selection.start);var linestart=Math.max(search.lastIndexOf("\n"),search.lastIndexOf("\r"));search=search.substr(linestart);if(e.keyCode==13){var match=search.match(/(\n  +([\*-] ?)?)/);if(match){var scroll=field.scrollHeight;var match2=search.match(/^\n  +[\*-]\s*$/);if(match2&&field.value.substr(selection.start).match(/^($|\r?\n)/)){field.value=field.value.substr(0,linestart)+"\n"+field.value.substr(selection.start);selection.start=linestart+1;selection.end=linestart+1;setSelection(selection);}else{insertAtCarret(field.id,match[1]);}field.scrollTop+=(field.scrollHeight-scroll);e.preventDefault();return false;}}else if(e.keyCode==8){var match=search.match(/(\n  +)([*-] ?)$/);if(match){var spaces=match[1].length-1;if(spaces>3){field.value=field.value.substr(0,linestart)+field.value.substr(linestart+2);selection.start=selection.start-2;selection.end=selection.start;}else{field.value=field.value.substr(0,linestart)+field.value.substr(selection.start);selection.start=linestart;selection.end=linestart;}setSelection(selection);e.preventDefault();return false;}}else if(e.keyCode==32){var match=search.match(/(\n  +)([*-] )$/);if(match){field.value=field.value.substr(0,linestart)+'  '+field.value.substr(linestart);selection.start=selection.start+2;selection.end=selection.start;setSelection(selection);e.preventDefault();return false;}}}addInitEvent(function(){var field=$('wiki__text');if(!field)return;if(is_opera){addEvent(field,'keypress',keyHandler);}else{addEvent(field,'keydown',keyHandler);}});function currentHeadlineLevel(textboxId){var field=$(textboxId);var selection=getSelection(field);var search="\n"+field.value.substr(0,selection.start);var lasthl=search.lastIndexOf("\n==");if(lasthl==-1&&field.form.prefix){search=field.form.prefix.value;lasthl=search.lastIndexOf("\n==");}search=search.substr(lasthl+1,6);if(search=='======')return 1;if(search.substr(0,5)=='=====')return 2;if(search.substr(0,4)=='====')return 3;if(search.substr(0,3)=='===')return 4;if(search.substr(0,2)=='==')return 5;return 0;}window.textChanged=false;function deleteDraft(){if(is_opera)return;if(window.keepDraft)return;var dwform=$('dw__editform');if(dwform){var params='call=draftdel';params+='&id='+encodeURIComponent(dwform.elements.id.value);var sackobj=new sack(DOKU_BASE+'lib/exe/ajax.php');sackobj.asynchronous=false;sackobj.method='GET';sackobj.AjaxFailedAlert='';sackobj.encodeURIString=false;sackobj.runAJAX(params);}}addInitEvent(function(){var editform=$('dw__editform');if(!editform)return;var edit_text=$('wiki__text');if(edit_text){if(edit_text.readOnly)return;var sel=getSelection(edit_text);sel.start=0;sel.end=0;setSelection(sel);edit_text.focus();}var checkfunc=function(){window.textChanged=true;summaryCheck();};addEvent(editform,'change',checkfunc);addEvent(editform,'keydown',checkfunc);window.onbeforeunload=function(){if(window.textChanged){return LANG.notsavedyet;}};window.onunload=deleteDraft;addEvent($('edbtn__save'),'click',function(){window.onbeforeunload='';window.textChanged=false;});addEvent($('edbtn__preview'),'click',function(){window.onbeforeunload='';window.textChanged=false;window.keepDraft=true;});var summary=$('edit__summary');addEvent(summary,'change',summaryCheck);addEvent(summary,'keyup',summaryCheck);if(window.textChanged)summaryCheck();});function summaryCheck(){var sum=document.getElementById('edit__summary');if(sum.value===''){sum.className='missing';}else{sum.className='edit';}}var locktimer={sack:null,timeout:0,timerID:null,lasttime:null,msg:'',pageid:'',init:function(timeout,msg,draft,edid){var edit=$(edid);if(!edit)return;if(edit.readOnly)return;locktimer.timeout=timeout*1000;locktimer.msg=msg;locktimer.draft=draft;locktimer.lasttime=new Date();if(!$('dw__editform'))return;locktimer.pageid=$('dw__editform').elements.id.value;if(!locktimer.pageid)return;locktimer.sack=new sack(DOKU_BASE+'lib/exe/ajax.php');locktimer.sack.AjaxFailedAlert='';locktimer.sack.encodeURIString=false;locktimer.sack.onCompletion=locktimer.refreshed;addEvent($('dw__editform'),'keypress',function(){locktimer.refresh();});locktimer.reset();},reset:function(){locktimer.clear();locktimer.timerID=window.setTimeout("locktimer.warning()",locktimer.timeout);},warning:function(){locktimer.clear();alert(locktimer.msg);},clear:function(){if(locktimer.timerID!==null){window.clearTimeout(locktimer.timerID);locktimer.timerID=null;}},refresh:function(){var now=new Date();if(now.getTime()-locktimer.lasttime.getTime()>30*1000){var params='call=lock&id='+encodeURIComponent(locktimer.pageid);var dwform=$('dw__editform');if(locktimer.draft&&dwform.elements.wikitext){params+='&prefix='+encodeURIComponent(dwform.elements.prefix.value);params+='&wikitext='+encodeURIComponent(dwform.elements.wikitext.value);params+='&suffix='+encodeURIComponent(dwform.elements.suffix.value);if(dwform.elements.date){params+='&date='+encodeURIComponent(dwform.elements.date.value);}}locktimer.sack.runAJAX(params);locktimer.lasttime=now;}},refreshed:function(){var data=this.response;var error=data.charAt(0);data=data.substring(1);$('draft__status').innerHTML=data;if(error!='1')return;locktimer.reset();}};var linkwiz={wiz:null,entry:null,result:null,timer:null,sack:null,textArea:null,selected:-1,selection:null,init:function(textArea){linkwiz.sack=new sack(DOKU_BASE+'lib/exe/ajax.php');linkwiz.sack.AjaxFailedAlert='';linkwiz.sack.encodeURIString=false;linkwiz.wiz=document.createElement('div');linkwiz.wiz.id='link__wiz';linkwiz.wiz.className='picker';linkwiz.wiz.style.top=(findPosY(textArea)+20)+'px';linkwiz.wiz.style.left=(findPosX(textArea)+80)+'px';linkwiz.wiz.style.marginLeft='-10000px';linkwiz.wiz.style.marginTop='-10000px';linkwiz.wiz.style.position='absolute';linkwiz.wiz.innerHTML='<div id="link__wiz_header">'+'<img src="'+DOKU_BASE+'lib/images/close.png" width="16" height="16" align="right" alt="" id="link__wiz_close" />'+LANG['linkwiz']+'</div>'+'<div>'+LANG['linkto']+' <input type="text" class="edit" id="link__wiz_entry" autocomplete="off" /></div>'+'<div id="link__wiz_result"></div>';$('dw__editform').parentNode.appendChild(linkwiz.wiz);linkwiz.textArea=textArea;linkwiz.result=$('link__wiz_result');linkwiz.entry=$('link__wiz_entry');var obj;obj=$('link__wiz_close');obj.onclick=linkwiz.hide;linkwiz.sack.elementObj=linkwiz.result;addEvent(linkwiz.entry,'keyup',linkwiz.onEntry);addEvent(linkwiz.result,'click',linkwiz.onResultClick);drag.attach(linkwiz.wiz,$('link__wiz_header'));},onEntry:function(e){if(e.keyCode==37||e.keyCode==39){return true;}if(e.keyCode==27){linkwiz.hide();e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==38){linkwiz.select(linkwiz.selected-1);e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==40){linkwiz.select(linkwiz.selected+1);e.preventDefault();e.stopPropagation();return false;}if(e.keyCode==13){if(linkwiz.selected>-1){var obj=linkwiz.getResult(linkwiz.selected);if(obj){var a=obj.getElementsByTagName('A')[0];linkwiz.resultClick(a);}}else if(linkwiz.entry.value){linkwiz.insertLink(linkwiz.entry.value);}e.preventDefault();e.stopPropagation();return false;}linkwiz.autocomplete();},getResult:function(num){var obj;var childs=linkwiz.result.getElementsByTagName('DIV');obj=childs[num];if(obj){return obj;}else{return null;}},select:function(num){if(num<0){linkwiz.deselect();return;}var obj=linkwiz.getResult(num);if(obj){linkwiz.deselect();obj.className+=' selected';if(obj.offsetTop>linkwiz.result.scrollTop+linkwiz.result.clientHeight){linkwiz.result.scrollTop+=obj.clientHeight;}else if(obj.offsetTop-linkwiz.result.clientHeight<linkwiz.result.scrollTop){linkwiz.result.scrollTop-=obj.clientHeight;}if((obj.offsetTop>linkwiz.result.scrollTop+linkwiz.result.clientHeight)||(obj.offsetTop<linkwiz.result.scrollTop)){obj.scrollIntoView();}linkwiz.selected=num;}},deselect:function(){if(linkwiz.selected>-1){var obj=linkwiz.getResult(linkwiz.selected);if(obj){obj.className=obj.className.replace(/ ?selected/,'');}}linkwiz.selected=-1;},onResultClick:function(e){if(e.target.tagName!='A')return;e.stopPropagation();e.preventDefault();linkwiz.resultClick(e.target);return false;},resultClick:function(a){var id=a.title;if(id==''||id.substr(id.length-1)==':'){linkwiz.entry.value=id;linkwiz.autocomplete_exec();}else{linkwiz.entry.value=id;if(a.nextSibling&&a.nextSibling.tagName=='SPAN'){linkwiz.insertLink(a.nextSibling.innerHTML);}else{linkwiz.insertLink('');}}},insertLink:function(title){if(!linkwiz.entry.value)return;var sel=getSelection(linkwiz.textArea);if(sel.start==0&&sel.end==0)sel=linkwiz.selection;var stxt=sel.getText();if(stxt.charAt(stxt.length-1)==' '){sel.end--;stxt=sel.getText();}if(!stxt&&!DOKU_UHC)stxt=title;if(linkwiz.textArea.form['id'].value.indexOf(':')!=-1&&linkwiz.entry.value.indexOf(':')==-1){linkwiz.entry.value=':'+linkwiz.entry.value;}var link='[['+linkwiz.entry.value+'|';if(stxt)link+=stxt;link+=']]';var so=linkwiz.entry.value.length+3;var eo=2;pasteText(sel,link,{startofs:so,endofs:eo});linkwiz.hide();linkwiz.entry.value=linkwiz.entry.value.replace(/(^:)?[^:]*$/,'');},autocomplete:function(){if(linkwiz.timer!==null){window.clearTimeout(linkwiz.timer);linkwiz.timer=null;}linkwiz.timer=window.setTimeout(linkwiz.autocomplete_exec,350);},autocomplete_exec:function(){linkwiz.deselect();linkwiz.result.innerHTML='<img src="'+DOKU_BASE+'lib/images/throbber.gif" alt="" width="16" height="16" />';linkwiz.sack.runAJAX('call=linkwiz&q='+encodeURI(linkwiz.entry.value));},clear:function(){linkwiz.result.innerHTML='Search for a matching page name above, or browse through the pages on the right';linkwiz.entry.value='';},show:function(){linkwiz.selection=getSelection(linkwiz.textArea);linkwiz.wiz.style.marginLeft='0px';linkwiz.wiz.style.marginTop='0px';linkwiz.entry.focus();linkwiz.autocomplete();},hide:function(){linkwiz.wiz.style.marginLeft='-10000px';linkwiz.wiz.style.marginTop='-10000px';linkwiz.textArea.focus();},toggle:function(){if(linkwiz.wiz.style.marginLeft=='-10000px'){linkwiz.show();}else{linkwiz.hide();}}};var media_manager={keepopen:false,hide:false,align:false,popup:false,id:false,display:false,link:false,size:false,ext:false,treeattach:function(obj){if(!obj)return;var items=obj.getElementsByTagName('li');for(var i=0;i<items.length;i++){var elem=items[i];var clicky=elem.getElementsByTagName('img')[0];clicky.style.cursor='pointer';addEvent(clicky,'click',function(event){return media_manager.toggle(event,this);});var link=elem.getElementsByTagName('a')[0];link.style.cursor='pointer';addEvent(link,'click',function(event){return media_manager.list(event,this);});}},selectorattach:function(obj){if(!obj)return;var items=getElementsByClass('select',obj,'a');for(var i=0;i<items.length;i++){var elem=items[i];elem.style.cursor='pointer';addEvent(elem,'click',function(event){return media_manager.select(event,this);});}items=getElementsByClass('example',obj,'div');for(var i=0;i<items.length;i++){elem=items[i];elem.style.display='none';}var file=$('upload__file');if(!file)return;addEvent(file,'change',media_manager.suggest);},confirmattach:function(obj){if(!obj)return;items=getElementsByClass('btn_media_delete',obj,'a');for(var i=0;i<items.length;i++){var elem=items[i];addEvent(elem,'click',function(e){if(e.target.tagName=='IMG'){var name=e.target.parentNode.title;}else{var name=e.target.title;}if(!confirm(LANG['del_confirm']+"\n"+name)){e.preventDefault();return false;}else{return true;}});}},attachoptions:function(obj){if(!obj)return;if(opener){var kobox=document.createElement('input');kobox.type='checkbox';kobox.id='media__keepopen';if(DokuCookie.getValue('keepopen')){kobox.checked=true;kobox.defaultChecked=true;media_manager.keepopen=true;}addEvent(kobox,'click',function(event){return media_manager.togglekeepopen(event,this);});var kolbl=document.createElement('label');kolbl.htmlFor='media__keepopen';kolbl.innerHTML=LANG['keepopen'];var kobr=document.createElement('br');obj.appendChild(kobox);obj.appendChild(kolbl);obj.appendChild(kobr);}var hdbox=document.createElement('input');hdbox.type='checkbox';hdbox.id='media__hide';if(DokuCookie.getValue('hide')){hdbox.checked=true;hdbox.defaultChecked=true;media_manager.hide=true;}addEvent(hdbox,'click',function(event){return media_manager.togglehide(event,this);});var hdlbl=document.createElement('label');hdlbl.htmlFor='media__hide';hdlbl.innerHTML=LANG['hidedetails'];var hdbr=document.createElement('br');obj.appendChild(hdbox);obj.appendChild(hdlbl);obj.appendChild(hdbr);media_manager.updatehide();},togglekeepopen:function(event,cb){if(cb.checked){DokuCookie.setValue('keepopen',1);media_manager.keepopen=true;}else{DokuCookie.setValue('keepopen','');media_manager.keepopen=false;}},togglehide:function(event,cb){if(cb.checked){DokuCookie.setValue('hide',1);media_manager.hide=true;}else{DokuCookie.setValue('hide','');media_manager.hide=false;}media_manager.updatehide();},updatehide:function(){var obj=$('media__content');if(!obj)return;var details=getElementsByClass('detail',obj,'div');for(var i=0;i<details.length;i++){if(media_manager.hide){details[i].style.display='none';}else{details[i].style.display='';}}},select:function(event,link){var id=link.id.substr(2);media_manager.id=id;if(!opener){var ex=$('ex'+id.replace(/:/g,'_'));if(ex.style.display==''){ex.style.display='none';}else{ex.style.display='';}return false;}media_manager.ext=false;var dot=id.lastIndexOf(".");if(dot!=-1){var ext=id.substr(dot,id.length);if(ext!='.jpg'&&ext!='.jpeg'&&ext!='.png'&&ext!='.gif'&&ext!='.swf'){media_manager.insert(null);return false;}}else{media_manager.insert(null);return false;}media_manager.popup.style.display='inline';media_manager.popup.style.left=event.pageX+'px';media_manager.popup.style.top=event.pageY+'px';for(var i=1;i<5;i++){media_manager.outSet('media__linkbtn'+i);media_manager.outSet('media__alignbtn'+i);media_manager.outSet('media__sizebtn'+i);}if(ext=='.swf'){media_manager.ext='swf';$('media__linkbtn1').style.display='none';$('media__linkbtn2').style.display='none';if(media_manager.link!==false){if(media_manager.link=='2'||media_manager.link=='1'){media_manager.inSet('media__linkbtn3');media_manager.link='3';DokuCookie.setValue('link','3');}else{media_manager.inSet('media__linkbtn'+media_manager.link);}}else if(DokuCookie.getValue('link')){if(DokuCookie.getValue('link')=='2'||DokuCookie.getValue('link')=='1'){media_manager.inSet('media__linkbtn3');media_manager.link='3';DokuCookie.setValue('link','3');}else{media_manager.inSet('media__linkbtn'+DokuCookie.getValue('link'));media_manager.link=DokuCookie.getValue('link');}}else{media_manager.link='3';media_manager.inSet('media__linkbtn3');DokuCookie.setValue('link','3');}$('media__sizebtn4').style.display='none';if(media_manager.size==4){media_manager.size=2;DokuCookie.setValue('size','2');media_manager.inSet('media__sizebtn2');}}else{media_manager.ext='img';$('media__linkbtn1').style.display='inline';$('media__linkbtn2').style.display='inline';$('media__sizebtn4').style.display='inline';if(DokuCookie.getValue('link')){media_manager.link=DokuCookie.getValue('link');}if(!media_manager.link){media_manager.link='1';DokuCookie.setValue('link','1');}media_manager.inSet('media__linkbtn'+media_manager.link);}if(media_manager.link=='4'){media_manager.align=false;media_manager.size=false;$('media__align').style.display='none';$('media__size').style.display='none';}else{$('media__align').style.display='block';$('media__size').style.display='block';if(media_manager.align!==false){media_manager.inSet('media__alignbtn'+media_manager.align);}else if(DokuCookie.getValue('align')){media_manager.inSet('media__alignbtn'+DokuCookie.getValue('align'));media_manager.align=DokuCookie.getValue('align');}else{media_manager.align='1';media_manager.inSet('media__alignbtn1');DokuCookie.setValue('align','1');}if(DokuCookie.getValue('size')){media_manager.size=DokuCookie.getValue('size');}if(!media_manager.size||(media_manager.size==='4'&&ext==='.swf')){media_manager.size='2';DokuCookie.setValue('size','2');}media_manager.inSet('media__sizebtn'+media_manager.size);$('media__sendbtn').focus();}return false;},initpopup:function(){media_manager.popup=document.createElement('div');media_manager.popup.setAttribute('id','media__popup');media_manager.popup.style.display='none';var root=document.getElementById('media__manager');if(root===null)return;root.appendChild(media_manager.popup);var headline=document.createElement('h1');headline.innerHTML=LANG.mediatitle;var headlineimg=document.createElement('img');headlineimg.src=DOKU_BASE+'lib/images/close.png';headlineimg.id='media__closeimg';addEvent(headlineimg,'click',function(event){return media_manager.closePopup(event,this);});headline.insertBefore(headlineimg,headline.firstChild);media_manager.popup.appendChild(headline);drag.attach(media_manager.popup,headline);var linkp=document.createElement('p');linkp.id="media__linkstyle";if(media_manager.display=="2"){linkp.style.display="none";}var linkl=document.createElement('label');linkl.innerHTML=LANG.mediatarget;linkp.appendChild(linkl);var linkbtns=['lnk','direct','nolnk','displaylnk'];for(var i=0;i<linkbtns.length;++i){var linkbtn=document.createElement('button');linkbtn.className='button';linkbtn.id="media__linkbtn"+(i+1);linkbtn.title=LANG['media'+linkbtns[i]];linkbtn.style.borderStyle='outset';addEvent(linkbtn,'click',function(event){return media_manager.setlink(event,this);});var linkimg=document.createElement('img');linkimg.src=DOKU_BASE+'lib/images/media_link_'+linkbtns[i]+'.png';linkbtn.appendChild(linkimg);linkp.appendChild(linkbtn);}media_manager.popup.appendChild(linkp);var alignp=document.createElement('p');var alignl=document.createElement('label');alignp.appendChild(alignl);alignp.id='media__align';if(media_manager.display=="2"){alignp.style.display="none";}alignl.innerHTML=LANG['mediaalign'];var alignbtns=['noalign','left','center','right'];for(var n=0;n<alignbtns.length;++n){var alignbtn=document.createElement('button');var alignimg=document.createElement('img');alignimg.src=DOKU_BASE+'lib/images/media_align_'+alignbtns[n]+'.png';alignbtn.id="media__alignbtn"+(n+1);alignbtn.title=LANG['media'+alignbtns[n]];alignbtn.className='button';alignbtn.appendChild(alignimg);alignbtn.style.borderStyle='outset';addEvent(alignbtn,'click',function(event){return media_manager.setalign(event,this);});alignp.appendChild(alignbtn);}media_manager.popup.appendChild(alignp);var sizep=document.createElement('p');var sizel=document.createElement('label');sizep.id='media__size';if(media_manager.display=="2"){sizep.style.display="none";}sizep.appendChild(sizel);sizel.innerHTML=LANG['mediasize'];var sizebtns=['small','medium','large','original'];for(var size=0;size<sizebtns.length;++size){var sizebtn=document.createElement('button');var sizeimg=document.createElement('img');sizep.appendChild(sizebtn);sizeimg.src=DOKU_BASE+'lib/images/media_size_'+sizebtns[size]+'.png';sizebtn.className='button';sizebtn.appendChild(sizeimg);sizebtn.id='media__sizebtn'+(size+1);sizebtn.title=LANG['media'+sizebtns[size]];sizebtn.style.borderStyle='outset';addEvent(sizebtn,'click',function(event){return media_manager.setsize(event,this);});}media_manager.popup.appendChild(sizep);var btnp=document.createElement('p');media_manager.popup.appendChild(btnp);btnp.setAttribute('class','btnlbl');var btn=document.createElement('input');btn.type='button';btn.id='media__sendbtn';btn.setAttribute('class','button');btn.value=LANG['mediainsert'];btnp.appendChild(btn);addEvent(btn,'click',function(event){return media_manager.insert(event);});},insert:function(event){var id=media_manager.id;$('media__popup').style.display='none';var opts='';var optsstart='';var alignleft='';var alignright='';if(media_manager.ext=='img'||media_manager.ext=='swf'){if(media_manager.link=='4'){opts='?linkonly';}else{if(media_manager.link=="3"&&media_manager.ext=='img'){opts='?nolink';optsstart=true;}else if(media_manager.link=="2"&&media_manager.ext=='img'){opts='?direct';optsstart=true;}var s=parseInt(media_manager.size,10);if(s&&s>=1){opts+=(optsstart)?'&':'?';if(s=="1"){opts+='100';if(media_manager.ext=='swf'){opts+='x62';}}else if(s=="2"){opts+='200';if(media_manager.ext=='swf'){opts+='x123';}}else if(s=="3"){opts+='300';if(media_manager.ext=='swf'){opts+='x185';}}}if(media_manager.align=='2'){alignleft='';alignright=' ';}if(media_manager.align=='3'){alignleft=' ';alignright=' ';}if(media_manager.align=='4'){alignleft=' ';alignright='';}}}var edid=String.prototype.match.call(document.location,/&edid=([^&]+)/);edid=edid?edid[1]:'wiki__text';opener.insertTags(edid,'{{'+alignleft+id+opts+alignright+'|','}}','');if(!media_manager.keepopen)window.close();opener.focus();return false;},list:function(event,link){var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;cleanMsgArea();var content=$('media__content');content.innerHTML='<img src="'+DOKU_BASE+'lib/images/loading.gif" alt="..." class="load" />';ajax.elementObj=content;ajax.afterCompletion=function(){media_manager.selectorattach(content);media_manager.confirmattach(content);media_manager.updatehide();media_manager.initFlashUpload();};ajax.runAJAX(link.search.substr(1)+'&call=medialist');return false;},toggle:function(event,clicky){var listitem=clicky.parentNode;var sublists=listitem.getElementsByTagName('ul');if(sublists.length){listitem.removeChild(sublists[0]);clicky.src=DOKU_BASE+'lib/images/plus.gif';return false;}var link=listitem.getElementsByTagName('a')[0];var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;var ul=document.createElement('ul');listitem.appendChild(ul);ajax.elementObj=ul;ajax.afterCompletion=function(){media_manager.treeattach(ul);};ajax.runAJAX(link.search.substr(1)+'&call=medians');clicky.src=DOKU_BASE+'lib/images/minus.gif';return false;},suggest:function(){var file=$('upload__file');var name=$('upload__name');if(!file||!name)return;var text=file.value;text=text.substr(text.lastIndexOf('/')+1);text=text.substr(text.lastIndexOf('\\')+1);name.value=text;},initFlashUpload:function(){if(!hasFlash(8))return;var oform=$('dw__upload');var oflash=$('dw__flashupload');if(!oform||!oflash)return;var clicky=document.createElement('img');clicky.src=DOKU_BASE+'lib/images/multiupload.png';clicky.title=LANG['mu_btn'];clicky.alt=LANG['mu_btn'];clicky.style.cursor='pointer';clicky.onclick=function(){oform.style.display='none';oflash.style.display='';};oform.appendChild(clicky);},closePopup:function(event){$('media__popup').style.display='none';},setalign:function(event,cb){var id=cb.id.substring(cb.id.length-1);if(id){DokuCookie.setValue('align',id);media_manager.align=id;for(var i=1;i<=4;i++){media_manager.outSet("media__alignbtn"+i);}media_manager.inSet("media__alignbtn"+id);}else{DokuCookie.setValue('align','');media_manager.align=false;}},setlink:function(event,cb){var id=cb.id.substring(cb.id.length-1);if(id){DokuCookie.setValue('link',id);for(var i=1;i<=4;i++){media_manager.outSet("media__linkbtn"+i);}media_manager.inSet("media__linkbtn"+id);var size=document.getElementById("media__size");var align=document.getElementById("media__align");if(id!='4'){size.style.display="block";align.style.display="block";if(media_manager.link=='4'){media_manager.align='1';DokuCookie.setValue('align','1');media_manager.inSet('media__alignbtn1');media_manager.size='2';DokuCookie.setValue('size','2');media_manager.inSet('media__sizebtn2');}}else{size.style.display="none";align.style.display="none";}media_manager.link=id;}else{DokuCookie.setValue('link','');media_manager.link=false;}},setdisplay:function(event,cb){if(cb.value){DokuCookie.setValue('display',cb.value);media_manager.display=cb.value;media_manager.outSet("media__displaybtn1");media_manager.outSet("media__displaybtn2");media_manager.inSet("media__displaybtn"+cb.value);}else{DokuCookie.setValue('display','');media_manager.align=false;}},outSet:function(id){var ele=document.getElementById(id);if(ele==null)return;ele.style.borderStyle="outset";},inSet:function(id){var ele=document.getElementById(id);if(ele==null)return;ele.style.borderStyle="inset";},setsize:function(event,cb){var id=cb.id.substring(cb.id.length-1);if(id){DokuCookie.setValue('size',id);media_manager.size=id;for(var i=1;i<=4;++i){media_manager.outSet("media__sizebtn"+i);}media_manager.inSet("media__sizebtn"+id);}else{DokuCookie.setValue('size','');media_manager.width=false;}}};addInitEvent(function(){media_manager.treeattach($('media__tree'));media_manager.selectorattach($('media__content'));media_manager.confirmattach($('media__content'));media_manager.attachoptions($('media__opts'));media_manager.initpopup();media_manager.initFlashUpload();});addInitEvent(function(){var form=$('subscribe__form');if(!form){return;}var styleradios={};function update_state(){if(!this.checked){return;}if(this.value.match(/:$/)){styleradios.list.parentNode.style.display='';}else{styleradios.list.parentNode.style.display='none';if(styleradios.list.checked){styleradios.digest.checked='checked';}}}var cur_sel=null;var inputs=form.getElementsByTagName('input');for(var i=0;i<inputs.length;++i){switch(inputs[i].name){case'sub_target':addEvent(inputs[i],'click',update_state);if(inputs[i].checked){cur_sel=inputs[i];}break;case'sub_style':styleradios[inputs[i].value]=inputs[i];break;}}update_state.call(cur_sel);});function toggleToc(){var toc=$('toc__inside');var obj=$('toc__toggle');var obj2=$('toc__header');if(toc.style.display=='none'){toc.style.display='';obj.innerHTML='<span>&minus;</span>';obj.className='toc_close';obj2.className='toc_opened';}else{toc.style.display='none';obj.innerHTML='<span>+</span>';obj.className='toc_open';obj2.className='toc_closed';}}if(!xGetElementById){var xGetElementById=function(e){if(typeof(e)=='string'){if(document.getElementById)e=document.getElementById(e);else if(document.all)e=document.all[e];else e=null;}return e;}}function toggleColumn(){var pad,margin_size='0',centercol=xGetElementById('center__content'),leftcol=xGetElementById('left__col'),rightcol=xGetElementById('right__col'),body__width=xGetElementById('body__width'),oldwidth=body__width.className;if(this.id=='btn__TLC'||this.id=='leftcolopenclosebtn'||this.id=='sbclosebtn'){if(leftcol.style.display!='none'){pad='0';xGetElementById('btn__TLC').className='ltglopen';xGetElementById('leftcolopenclosebtn').className='btn-move-right';xGetElementById('leftcolopenclosebtn').title='Show the left sidebars';leftcol.style.display='none';}else{pad=centercol.style['paddingBottom'];margin_size=leftcol.style.width;xGetElementById('btn__TLC').className='ltglclose';xGetElementById('leftcolopenclosebtn').className='btn-move-left';xGetElementById('leftcolopenclosebtn').title='Hide the left sidebars';leftcol.style.display='block';}centercol.style['paddingLeft']=pad;centercol.style['marginLeft']=margin_size;if(oldwidth=='wright'){body__width.className='wboth'};if(oldwidth=='wleft'){body__width.className='wneither'};if(oldwidth=='wboth'){body__width.className='wright'};if(oldwidth=='wneither'){body__width.className='wleft'};}else{if(rightcol.style.display!='none'){xGetElementById('btn__TRC').className='rtglopen';xGetElementById('rightcolopenclosebtn').className='btn-move-left';xGetElementById('rightcolopenclosebtn').title='Show the right sidebars';rightcol.style.display='none';centercol.style['paddingRight']='0';}else{margin_size=rightcol.style.width;xGetElementById('btn__TRC').className='rtglclose';xGetElementById('rightcolopenclosebtn').className='btn-move-right';xGetElementById('rightcolopenclosebtn').title='Hide the right sidebars';rightcol.style.display='block';var browser=navigator.appName;var b_version=navigator.appVersion;var version=parseFloat(b_version);if(browser=="Microsoft Internet Explorer"&&version==4&&(typeof document.body.style.maxHeight=="undefined")){rightcol.style['paddingTop']='17px';}else{pad=centercol.style['paddingBottom'];}centercol.style['paddingRight']=pad;}centercol.style['marginRight']=margin_size;if(oldwidth=='wright'){body__width.className='wneither'};if(oldwidth=='wleft'){body__width.className='wboth'};if(oldwidth=='wboth'){body__width.className='wleft'};if(oldwidth=='wneither'){body__width.className='wright'};}}function toggleVisibility(callingElement){var sidebarBox=callingElement.nextSibling;if(callingElement.title=='Hide'){sidebarBox.style.display='none';callingElement.className='tglopen';callingElement.title='Show';}else{sidebarBox.style.display='block';callingElement.className='tglclose';callingElement.title='Hide';}}var wkdayarray=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");var montharray=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");function getTheDateTime(){var mydate=new Date();var ampm="am";var wkday=mydate.getDay();var month=mydate.getMonth();var daym=mydate.getDate();if(daym<10)daym="0"+daym;var hrs=mydate.getHours();if(hrs>=12)ampm="pm";if(hrs>12)hrs=hrs-12;if(hrs==0)hrs=12;var mins=mydate.getMinutes();if(mins<=9)mins="0"+mins;var cdate=wkdayarray[wkday]+", "+montharray[month]+" "+daym+", "+hrs+":"+mins+" "+ampm;if(document.all){document.all.m__clk.innerHTML=cdate;}else if(document.getElementById){document.getElementById("m__clk").innerHTML=cdate;}else{document.write(cdate)};}function initDateTime(){if(document.all||document.getElementById){setInterval("getTheDateTime()",1000)};}function initializeToggles(){if(xGetElementById('btn__TLC')!=null)xGetElementById('btn__TLC').onclick=toggleColumn;if(xGetElementById('btn__TRC')!=null)xGetElementById('btn__TRC').onclick=toggleColumn;if(xGetElementById('sbclosebtn')!=null)xGetElementById('sbclosebtn').onclick=toggleColumn;if(xGetElementById('leftcolopenclosebtn')!=null)xGetElementById('leftcolopenclosebtn').onclick=toggleColumn;if(xGetElementById('rightcolopenclosebtn')!=null)xGetElementById('rightcolopenclosebtn').onclick=toggleColumn;};function initMosaic(){initializeToggles();initDateTime();};if('undefined'!=typeof(window.addEvent)){window.addEvent(window,'load',initMosaic);}var a2a_config=a2a_config||{};a2a_config.onclick=1;a2a_config.color_main="ADBAE4";a2a_config.color_border="112266";a2a_config.color_link_text="112266";a2a_config.color_link_text_hover="225577";a2a_config.linkname="Embedded systems and microcontrollers for instruments, industrial control & automation";a2a_config.linkurl="http://www.mosaic-industries.com/embedded-systems/";acl={init:function(){this.ctl=$('acl_manager');if(!this.ctl)return;var sel=$('acl__user').getElementsByTagName('select')[0];addEvent(sel,'change',acl.userselhandler);addEvent($('acl__tree'),'click',acl.treehandler);addEvent($('acl__user').getElementsByTagName('input')[1],'click',acl.loadinfo);},userselhandler:function(e){if(this.value=='__g__'||this.value=='__u__'){$('acl__user').getElementsByTagName('input')[0].style.display='';$('acl__user').getElementsByTagName('input')[1].style.display='';}else{$('acl__user').getElementsByTagName('input')[0].style.display='none';$('acl__user').getElementsByTagName('input')[1].style.display='none';}acl.loadinfo();},loadinfo:function(){var frm=$('acl__detail').getElementsByTagName('form')[0];var ajax=new sack(DOKU_BASE+'lib/plugins/acl/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;var data=Array();data[0]=ajax.encVar('ns',frm.elements['ns'].value);data[1]=ajax.encVar('id',frm.elements['id'].value);data[2]=ajax.encVar('acl_t',frm.elements['acl_t'].value);data[3]=ajax.encVar('acl_w',frm.elements['acl_w'].value);data[4]=ajax.encVar('sectok',frm.elements['sectok'].value);data[5]=ajax.encVar('ajax','info');ajax.elementObj=$('acl__info');ajax.runAJAX(data.join('&'));return false;},parseatt:function(str){if(str[0]=='?')str=str.substr(1);var attributes={};var all=str.split('&');for(var i=0;i<all.length;i++){var att=all[i].split('=');attributes[att[0]]=decodeURIComponent(att[1]);}return attributes;},hsc:function(str){str=str.replace(/&/g,"&amp;");str=str.replace(/\"/g,"&quot;");str=str.replace(/\'/g,"&#039;");str=str.replace(/</g,"&lt;");str=str.replace(/>/g,"&gt;");return str;},treetoggle:function(clicky){var listitem=clicky.parentNode.parentNode;var sublists=listitem.getElementsByTagName('ul');if(sublists.length){listitem.removeChild(sublists[0]);clicky.src=DOKU_BASE+'lib/images/plus.gif';clicky.alt='+';return false;}var link=listitem.getElementsByTagName('a')[0];var ajax=new sack(DOKU_BASE+'lib/plugins/acl/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;var ul=document.createElement('ul');listitem.appendChild(ul);ajax.elementObj=ul;ajax.setVar('ajax','tree');var frm=$('acl__detail').getElementsByTagName('form')[0];ajax.setVar('current_ns',encodeURIComponent(frm.elements['ns'].value));ajax.setVar('current_id',encodeURIComponent(frm.elements['id'].value));ajax.runAJAX(link.search.substr(1));clicky.src=DOKU_BASE+'lib/images/minus.gif';return false;},treehandler:function(e){if(e.target.src){acl.treetoggle(e.target);}else if(e.target.href){var obj=getElementsByClass('cur',$('acl__tree'),'a');for(var i=0;i<obj.length;i++){obj[i].className=obj[i].className.replace(/ cur/,'');}e.target.className+=' cur';var frm=$('acl__detail').getElementsByTagName('form')[0];if(e.target.className.search(/wikilink1/)>-1){frm.elements['ns'].value='';frm.elements['id'].value=acl.hsc(acl.parseatt(e.target.search)['id']);}else if(e.target.className.search(/idx_dir/)>-1){frm.elements['ns'].value=acl.hsc(acl.parseatt(e.target.search)['ns']);frm.elements['id'].value='';}acl.loadinfo();}e.stopPropagation();e.preventDefault();return false;}};addInitEvent(acl.init);function setName(){document.getElementById("editform").setAttribute("action","?id="+document.getElementById('np_cat').value+':'+document.getElementById('addnewpage_title').value);}addInitEvent(function(){var code=$('plugin__captcha_code');if(!code)return;var box=$('plugin__captcha');box.value=code.innerHTML;$('plugin__captcha_wrapper').style.display='none';});var syntax_plugin_code=function(){var _cH=' codeHidden',_cS=' codeShown',_reH=/\s*\bcodeHidden\b/gi,_reS=/\s*\bcodeShown\b/gi,_Divs=function(){var d,e,l,r=[],re=/\bcode\b/i;try{if((d=window.document.getElementsByTagName('div'))&&(l=d.length)){do{if((e=d[--l])&&(e.className)&&re.test(e.className)){r[r.length]=e;}}while(l);}}catch(X){}return r;},_Ps=function(){var d=_Divs(),e,fc,fcn,l,lc,lcn,p='p',pf='pre',r=[];_Divs=0;if((l=d.length)){try{do{if((e=d[--l])&&(fc=e.firstChild)&&(fcn=fc.tagName.toLowerCase())&&(lc=e.lastChild)&&(lcn=lc.tagName.toLowerCase())){if((pf===fcn)&&(p===lcn)){lc._PRE=fc;r[r.length]=lc;}else if((pf===lcn)&&(p===fcn)){fc._PRE=lc;r[r.length]=fc;}}d.length=l;}while(l);}catch(X){}}return r;},_r;function _sw(O,R2d,C2a){R2d.lastIndex=0;if(R2d.test(O.className)){R2d.lastIndex=0;O.className=(C2a)?O.className.replace(R2d,C2a):O.className.replace(R2d,'');}else if(C2a){O.className+=C2a;}R2d.lastIndex=0;}function _t(E){if((E=E||window.event)){E.cancelBubble=true;E.returnValue=false;}if(this.className){if(_reH.test(this.className)){_sw(this._PRE,_reH,_cS);_sw(this,_reH,_cS);}else{_sw(this,_reS,_cH);_sw(this._PRE,_reS,_cH);}}else{this.className=this._PRE.className=_cH;}return false;}function ini(){if(!_Ps){return;}var d=_Ps(),l=d.length,p,re=/\s*\bHideOnInit\b/ig;_Ps=0;while(l){if((p=d[--l])&&(p._PRE)){if(re.test(p.className)){re.lastIndex=0;p._PRE.className+=_cH;p.className=p.className.replace(re,_cH);}else{p._PRE.className+=_cS;p.className+=_cS;}p.onclick=_t;re.lastIndex=0;}}}if('undefined'!==typeof(window.addEvent)){try{window.addEvent(window,'load',ini);}catch(X){window.setTimeout(ini,512);}}else{window.setTimeout(ini,512);}return _r;}();function isBlank(s){if((s===null)||(s.length===0)){return true;}for(var i=0;i<s.length;i++){var c=s.charAt(i);if((c!=' ')&&(c!='\n')&&(c!='\t')){return false;}}return true;}function validate(form){if(!form)return;if(isBlank(form.name.value)){form.name.focus();form.name.style.backgroundColor='#fcc';return false;}else{form.name.style.backgroundColor='#fff';}if(isBlank(form.mail.value)||form.mail.value.indexOf("@")==-1){form.mail.focus();form.mail.style.backgroundColor='#fcc';return false;}else{form.mail.style.backgroundColor='#fff';}if(isBlank(form.text.value)){form.text.focus();form.text.style.borderColor='#fcc';return false;}}function discussion_ajax_preview(){if(!document.getElementById)return;var textarea=$('discussion__comment_text');var comment=textarea.value;if(!comment)return;var preview=$('discussion__comment_preview');preview.innerHTML='<img src="'+DOKU_BASE+'/lib/images/throbber.gif" />';var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;ajax.setVar('call','discussion_preview');ajax.setVar('comment',comment);ajax.onCompletion=function(){var data=this.response;if(data===''){return;}preview.style.visibility='hidden';preview.innerHTML=data;preview.style.visibility='visible';};ajax.runAJAX();}function discussion_toggle_visibility(){discussion_section=$('comment_wrapper');if(discussion_section.style.display=="none"){discussion_section.style.display="block";}else{discussion_section.style.display="none";}}addInitEvent(function(){if(typeof window.initToolbar=='function'){initToolbar("discussion__comment_toolbar","discussion__comment_text",toolbar);}});addInitEvent(function(){var btn=$('discussion__btn_preview');if(!btn)return;addEvent(btn,'click',discussion_ajax_preview);});addInitEvent(function(){var form=$('discussion__comment_form');if(!form)return;addEvent(form,'submit',function(){return validate(form);});});addInitEvent(function(){var togglebtn=$('discussion__btn_toggle_visibility');if(!togglebtn)return;addEvent(togglebtn,'click',discussion_toggle_visibility);});var folded_reveal='reveal';var folded_hide='hide';function folded_toggle(evt){id=this.href.match(/#(.*)$/)[1];e=$(id);if(!e)return;if(e.className.match(/\bhidden\b/)){e.className=e.className.replace(/\bhidden\b/g,'');e.className=e.className.replace(/  /g,' ');this.title=folded_hide;this.className+=' open';}else{e.className+=' hidden';this.title=folded_reveal;this.className=this.className.replace(/\bopen\b/g,'');this.className=this.className.replace(/  /g,' ');}evt.preventDefault();return false;}function folded_setup(){var eStrings=$('folded_reveal','folded_hide');if(!eStrings[0])return;folded_reveal=eStrings[0].innerHTML.match(/^<!-- (.*) -->$/)[1];folded_hide=eStrings[1].innerHTML.match(/^<!-- (.*) -->$/)[1];var folds=getElementsByClass('folder');for(var i=0;i<folds.length;i++){addEvent(folds[i],'click',folded_toggle);folds[i].title=folded_reveal;}}addInitEvent(folded_setup);document.write('<style type="text/css" media="screen"><!--/*--><![CDATA[/*><!--*/ .folded.hidden { display: none; } .folder .indicator { visibility: visible; } /*]]>*/--></style>');if(!msc_stripHTMLComments){var msc_stripHTMLComments=function(input_string){input_string=input_string.replace(/&&/g,'--');if(input_string.substr(0,4)=="<!--"){return input_string.substr(4,input_string.length-7);}else{return input_string;}}}if(!msc_firstParagraphParent){var msc_firstParagraphParent=function(startNode){var tp=startNode.parentNode;while(tp!=null&&tp.nodeName!='DIV'&&tp.nodeName!='BODY'&&!(tp.nodeType==1&&tp.nodeName=='P')){tp=tp.parentNode;}return(tp!=null&&tp.nodeType==1&&tp.nodeName=='P')?tp:startNode;}}if(!msc_nextElement){var msc_nextElement=function(startNode){var tp=startNode.nextSibling;while(tp.nodeType!=1&&tp.nextSibling!=null){tp=tp.nextSibling;}return(tp.nodeType==1)?tp:false;}}if(!msc_firstChildElement){var msc_firstChildElement=function(startNode){var tp=startNode.firstChild;while(tp.nodeType!=1&&tp.nextSibling!=null){tp=tp.nextSibling;}return(tp.nodeType==1)?tp:false;}}if(!msc_findTop){var msc_findTop=function(obj){var top=0;if(obj.offsetParent){do{top+=obj.offsetTop;}while(obj=obj.offsetParent);return top;}else{return obj.offsetTop;}}}if(!msc_findLeft){var msc_findLeft=function(obj){var left=0;if(obj.offsetParent){do{left+=obj.offsetLeft;}while(obj=obj.offsetParent);return left;}else{return obj.offsetLeft;}}}if(!msc_popupBegone){var msc_popupBegone=function(cE){document.getElementById("pop"+cE.getAttribute("id")).style.display='none';}}if(!msc_positionPopup){var msc_positionPopup=function(cE){var id="pop"+cE.getAttribute("id");var pup=document.getElementById(id);if(pup==null){var def=msc_nextElement(cE);var afterMe=msc_firstParagraphParent(cE);var mydiv=document.createElement('div');mydiv.innerHTML=msc_stripHTMLComments(def.innerHTML);def.innerHTML='';mydiv=mydiv.firstChild;afterMe.parentNode.insertBefore(mydiv,afterMe.nextSibling);pup=document.getElementById(id);}if(pup.style.display=='block'){pup.style.display='none';}else{pup.style.display='block';if(pup.className.search("positioned")==-1){var lh=cE.offsetHeight-1;var lp=8;var rp=8;var ipup=msc_firstChildElement(pup);var pbs=msc_firstChildElement(ipup);var cd=document.getElementById("__origin");var bw=pbs.offsetWidth+4;var cer=msc_findLeft(cE)+cE.offsetWidth-msc_findLeft(cd);var pw=ipup.offsetWidth;pup.style.top=(pup.offsetTop+msc_findTop(cE)-msc_findTop(pup)+lh)+'px';if(cer>cd.offsetWidth-rp){pup.style.left=lp+'px';}else{pup.style.left=Math.min(Math.max(lp,cer-pw+bw),Math.max(lp,cd.offsetWidth-lp-pw))+'px';}}}}}addInitEvent(function(){var btns=getElementsByClass('btn_incledit',document,'form');for(var i=0;i<btns.length;i++){addEvent(btns[i],'mouseover',function(e){var container_div=this;while(container_div!=document&&!container_div.className.match(/\bplugin_include_content\b/)){container_div=container_div.parentNode;}if(container_div!=document){container_div.className+=' section_highlight';}});addEvent(btns[i],'mouseout',function(e){var secs=getElementsByClass('section_highlight',document,'div');for(var j=0;j<secs.length;j++){secs[j].className=secs[j].className.replace(/ section_highlight/,'');}});}});function Node(dokuid,id,pid,name,hns,isdir,ajax){this.dokuid=dokuid;this.id=id;this.pid=pid;this.name=name;this.hns=hns;this.isdir=isdir;this.ajax=ajax;this._io=0;this._is=false;this._ls=false;this._hc=ajax;this._ai=0;this._p=false;this._lv=0;this._ok=false;this._cp=false}function dTree(objName,theme){var objExt=indexmenu_findExt(theme);this.config={urlbase:DOKU_BASE+'doku.php?id=',plugbase:DOKU_BASE+'lib/plugins/indexmenu',useCookies:true,scroll:true,toc:true,maxjs:1,jsajax:'',sepchar:':',theme:theme};var objImg=this.config.plugbase+'/images/'+theme+'/';this.icon={root:objImg+'base.'+objExt,folder:objImg+'folder.'+objExt,folderH:objImg+'folderh.'+objExt,folderOpen:objImg+'folderopen.'+objExt,folderHOpen:objImg+'folderhopen.'+objExt,node:objImg+'page.'+objExt,empty:objImg+'empty.'+objExt,line:objImg+'line.'+objExt,join:objImg+'join.'+objExt,joinBottom:objImg+'joinbottom.'+objExt,plus:objImg+'plus.'+objExt,plusBottom:objImg+'plusbottom.'+objExt,minus:objImg+'minus.'+objExt,minusBottom:objImg+'minusbottom.'+objExt,plus_:objImg+'plus_.'+objExt,plus_Bottom:objImg+'plus_bottom.'+objExt,minus_:objImg+'minus_.'+objExt,minus_Bottom:objImg+'minus_bottom.'+objExt,nlPlus:objImg+'nolines_plus.'+objExt,nlMinus:objImg+'nolines_minus.'+objExt};this.obj=objName;this.aNodes=[];this.aIndent=[];this.root=new Node(false,-1);this.selectedNode=null;this.selectedFound=false;this.completed=false;this.scrllTmr=0;this.pageid=window.indexmenu_ID||'';this.fajax=false}dTree.prototype.add=function(dokuid,id,pid,name,hns,isdir,ajax){this.aNodes[this.aNodes.length]=new Node(dokuid,id,pid,name,hns,isdir,ajax)};dTree.prototype.openAll=function(){if(!this.getCookie('co'+this.obj)){this.oAll(true)}};dTree.prototype.toString=function(){var str='';if(this.config.scroll){str+='<div id="cdtree_'+this.obj+'" class="dtree" style="position:relative;overflow:hidden;width:100%;">'}str+='<div id="dtree_'+this.obj+'" class="dtree '+this.config.theme+'" style="overflow:';if(this.config.scroll){str+='visible;position:relative;width:100%"'}else{str+='hidden;"'}str+='>';if($('dtree_'+this.obj)){str+='<div class="error">Indexmenu id conflict</div>'}if(this.config.toc){str+='<div id="t'+this.obj+'" class="indexmenu_tocbullet '+this.config.theme+'" style="display:none;" title="Page contents">';var browser=navigator.appName;var b_version=navigator.appVersion;if(browser=="Microsoft Internet Explorer"&&(b_version.search("MSIE 5")!=-1||b_version.search("MSIE 6")!=-1||b_version.search("MSIE 7")!=-1)){str+='<span class="ie_tocfix">(toc)  </span>'}str+='</div>';str+='<div id="toc_'+this.obj+'" style="display:none;"></div>'}if(this.config.useCookies){this.selectedNode=this.getSelected()}str+=this.addNode(this.root)+'</div>';if(this.config.scroll){str+='<div id="z'+this.obj+'" class="indexmenu_rarrow"></div>';str+='<div id="left_'+this.obj+'" class="indexmenu_larrow" style="display:none;" title="Click to scroll back" onmousedown="javascript:'+this.obj+'.scroll(\'r\',1);" onmouseup="javascript:'+this.obj+'.stopscroll();"></div>';str+='</div>'}this.completed=true;this.divdisplay('nojs_',0);return str};dTree.prototype.addNode=function(pNode){var str='',cn,n=pNode._ai,l=pNode._lv+1;for(n;n<this.aNodes.length;n++){if(this.aNodes[n].pid==pNode.id){cn=this.aNodes[n];cn._p=pNode;cn._ai=n;cn._lv=l;this.setCS(cn);if(cn._hc&&!cn._io&&this.config.useCookies){cn._io=this.isOpen(cn.id)}if(this.pageid==(!cn.hns&&cn.dokuid||cn.hns)){cn._cp=true}else if(cn.id==this.selectedNode&&!this.selectedFound){cn._is=true;this.selectedNode=n;this.selectedFound=true}if(!cn._hc&&cn.isdir&&!cn.ajax&&!cn.hns){if(cn._ls){str+=this.noderr(cn,n)}}else{str+=this.node(cn,n)}if(cn._ls){break}}}return str};dTree.prototype.noderr=function(node,nodeId){var str='<div class="dTreeNode">'+this.indent(node,nodeId);str+='<div class="emptynode" title="Empty"></div></div>';return str};dTree.prototype.node=function(node,nodeId){var h=1,jsfnc,str;jsfnc='onmouseover="'+this.obj+'.show_feat(\''+nodeId+'\');" onmousedown="return indexmenu_checkcontextm(\''+nodeId+'\','+this.obj+',event);" oncontextmenu="return indexmenu_stopevt(event)"';if(node._lv>this.config.maxjs){h=0}else{node._ok=true}str='<div class="dTreeNode">'+this.indent(node,nodeId);node.icon=(this.root.id==node.pid)?this.icon.root:((node.hns)?this.icon.folderH:((node._hc)?this.icon.folder:this.icon.node));node.iconOpen=(node._hc)?((node.hns)?this.icon.folderHOpen:this.icon.folderOpen):this.icon.node;if(this.root.id==node.pid){node.icon=this.icon.root;node.iconOpen=this.icon.root}str+='<img id="i'+this.obj+nodeId+'" src="'+((node._io)?node.iconOpen:node.icon)+'" alt="" />';if(!node._hc||node.hns){str+='<a id="s'+this.obj+nodeId+'" class="'+((node._cp)?'navSel':((node._is)?'nodeSel':(node._hc)?'nodeFdUrl':'nodeUrl'));str+='" href="'+this.config.urlbase;(node.hns)?str+=node.hns:str+=node.dokuid;str+='"'+' title="'+node.name+'"'+jsfnc;str+=' onclick="javascript: '+this.obj+'.s('+nodeId+');"';str+='>'+node.name+'</a>'}else if(node.pid!=this.root.id){str+='<a id="s'+this.obj+nodeId+'" href="javascript: '+this.obj+'.o('+nodeId+'); " class="node"'+jsfnc+'>'+node.name+'</a>'}else{str+=node.name}str+='</div>';if(node._hc){str+='<div id="d'+this.obj+nodeId+'" class="clip" style="display:'+((this.root.id==node.pid||node._io)?'block':'none')+';">';if(h){str+=this.addNode(node)}str+='</div>'}this.aIndent.pop();return str};dTree.prototype.indent=function(node,nodeId){var n,str='';if(this.root.id!=node.pid){for(n=0;n<this.aIndent.length;n++){str+='<img src="'+((this.aIndent[n]==1)?this.icon.line:this.icon.empty)+'" alt="" />'}if(node._ls){this.aIndent.push(0)}else{this.aIndent.push(1)}if(node._hc){str+='<a href="javascript: '+this.obj+'.o('+nodeId+');"><img id="j'+this.obj+nodeId+'" src="';if(node._lv==2){str+=((node._io)?((node._ls)?this.icon.minusBottom:this.icon.minus):((node._ls)?this.icon.plusBottom:this.icon.plus))}else{str+=((node._io)?((node._ls)?this.icon.minus_Bottom:this.icon.minus_):((node._ls)?this.icon.plus_Bottom:this.icon.plus_))}str+='" alt="" /></a>'}else{str+='<img src="'+((node._ls)?this.icon.joinBottom:this.icon.join)+'" alt="" />'}}return str};dTree.prototype.setCS=function(node){var lastId,n;for(n=0;n<this.aNodes.length;n++){if(this.aNodes[n].pid==node.id){node._hc=true}if(this.aNodes[n].pid==node.pid){lastId=this.aNodes[n].id}}if(lastId==node.id){node._ls=true}};dTree.prototype.getSelected=function(){var sn=this.getCookie('cs'+this.obj);return(sn)?sn:null};dTree.prototype.s=function(id){var eOld,eNew,cn=this.aNodes[id];if(this.selectedNode!=id){eNew=$("s"+this.obj+id);if(!eNew){return}if(this.selectedNode||this.selectedNode===0){eOld=$("s"+this.obj+this.selectedNode);eOld.className="node"}eNew.className="nodeSel";this.selectedNode=id;if(this.config.useCookies){this.setCookie('cs'+this.obj,cn.id)}}};dTree.prototype.o=function(id){var cn=this.aNodes[id];this.nodeStatus(!cn._io,id,cn._ls);cn._io=!cn._io;if(this.config.useCookies){this.updateCookie()}this.resizescroll("block")};dTree.prototype.oAll=function(status){for(var n=0;n<this.aNodes.length;n++){if(this.aNodes[n]._hc&&this.aNodes[n].pid!=this.root.id){this.nodeStatus(status,n,this.aNodes[n]._ls);this.aNodes[n]._io=status}}if(this.config.useCookies){this.updateCookie()}};dTree.prototype.openTo=function(nId,bSelect,bFirst){var n,cn;if(!bFirst){for(n=0;n<this.aNodes.length;n++){if(this.aNodes[n].id==nId){nId=n;break}}}this.fill(this.aNodes[nId].pid);cn=this.aNodes[nId];if(cn.pid==this.root.id||!cn._p){return}cn._io=1;if(this.completed&&cn._hc){this.nodeStatus(true,cn._ai,cn._ls)}if(cn._is){(this.completed)?this.s(cn._ai):this._sn=cn._ai}this.openTo(cn._p._ai,false,true)};dTree.prototype.getOpenTo=function(nodes){if(nodes===''){this.openAll()}else if(!this.config.useCookies||!this.getCookie('co'+this.obj)){for(var n=0;n<nodes.length;n++){this.openTo(nodes[n],false,true)}}};dTree.prototype.nodeStatus=function(status,id,bottom){if(status&&!this.fill(id)){return}var eJoin,eIcon;eJoin=$('j'+this.obj+id);eIcon=$('i'+this.obj+id);eIcon.src=(status)?this.aNodes[id].iconOpen:this.aNodes[id].icon;if(this.aNodes[id]._lv==2){eJoin.src=((status)?((bottom)?this.icon.minusBottom:this.icon.minus):((bottom)?this.icon.plusBottom:this.icon.plus))}else{eJoin.src=((status)?((bottom)?this.icon.minus_Bottom:this.icon.minus_):((bottom)?this.icon.plus_Bottom:this.icon.plus_))}$('d'+this.obj+id).style.display=(status)?'block':'none'};dTree.prototype.clearCookie=function(){var now,yday;now=new Date();yday=new Date(now.getTime()-1000*60*60*24);this.setCookie('co'+this.obj,'cookieValue',yday);this.setCookie('cs'+this.obj,'cookieValue',yday)};dTree.prototype.setCookie=function(cookieName,cookieValue,expires,path,domain,secure){document.cookie=escape(cookieName)+'='+escape(cookieValue)+(expires?'; expires='+expires.toGMTString():'')+';path=/'+(domain?'; domain='+domain:'')+(secure?'; secure':'')};dTree.prototype.getCookie=function(cookieName){var cookieValue='',pN,posValue,endPos;pN=document.cookie.indexOf(escape(cookieName)+'=');if(pN!=-1){posValue=pN+(escape(cookieName)+'=').length;endPos=document.cookie.indexOf(';',posValue);if(endPos!=-1){cookieValue=unescape(document.cookie.substring(posValue,endPos))}else{cookieValue=unescape(document.cookie.substring(posValue))}}return(cookieValue)};dTree.prototype.updateCookie=function(){var str='',n;for(n=0;n<this.aNodes.length;n++){if(this.aNodes[n]._io&&this.aNodes[n].pid!=this.root.id){if(str){str+='.'}str+=this.aNodes[n].id}}this.setCookie('co'+this.obj,str)};dTree.prototype.isOpen=function(id){var n,aOpen=this.getCookie('co'+this.obj).split('.');for(n=0;n<aOpen.length;n++){if(aOpen[n]==id){return true}}return false};dTree.prototype.openCurNS=function(max){var r,cn,match,t,i,n,cnsa,cna,cns=this.pageid;r=new RegExp("\\b"+this.config.sepchar+"\\b","g");match=cns.match(r)||-1;if(max>0&&match.length>=max){t=cns.split(this.config.sepchar);n=(this.aNodes[0].dokuid=='')?0:this.aNodes[0].dokuid.split(this.config.sepchar).length;t.splice(max+n,t.length);cnsa=t.join(this.config.sepchar)}for(i=0;i<this.aNodes.length;i++){cn=this.aNodes[i];if(cns==cn.dokuid||cns==cn.hns){this.openTo(cn.id,false,true);this.fajax=false;break}if(cnsa==cn.dokuid||cnsa==cn.hns){cna=cn;this.fajax=true}}if(cna){this.openTo(cna.id,false,true)}};dTree.prototype.fill=function(id){if(id==-1||this.aNodes[id]._ok){return true}var n=id,eLoad,node,a,rd,ln,eDiv;if(this.aNodes[n].ajax){eLoad=$('l'+this.obj);node=$('s'+this.obj+n);if(!eLoad){eLoad=indexmenu_createPicker('l'+this.obj)}eLoad.innerHTML='Loading ...';$('s'+this.obj+n).parentNode.appendChild(eLoad);eLoad.style.width='auto';eLoad.style.display='inline';this.getAjax(n);return true}rd=[];while(!this.aNodes[n]._ok){rd[rd.length]=n;n=this.aNodes[n].pid}for(ln=rd.length-1;ln>=0;ln--){id=rd[ln];a=this.aNodes[id];eDiv=$('d'+this.obj+id);if(!eDiv){return false}this.aIndent=[];n=a;while(n.pid>=0){if(n._ls){this.aIndent.unshift(0)}else{this.aIndent.unshift(1)}n=n._p}eDiv.innerHTML=this.addNode(a);a._ok=true}return true};dTree.prototype.openCookies=function(){var n,cn,aOpen=this.getCookie('co'+this.obj).split('.');for(n=0;n<aOpen.length;n++){if(aOpen[n]===""){break}cn=this.aNodes[aOpen[n]];if(!cn._ok){this.nodeStatus(true,aOpen[n],cn._ls);cn._io=1}}};dTree.prototype.scroll=function(where,s,n,i){if(!this.config.scroll){return false}var w,dtree,dtreel,nodeId;dtree=$('dtree_'+this.obj);dtreel=parseInt(dtree.offsetLeft,0);if(where=="r"){$('left_'+this.obj).style.border="thin inset";this.scrollRight(dtreel,s)}else{nodeId=$('s'+this.obj+n);var j;var max=0;var tmpNode;for(j=0;j<this.aNodes.length;j++){tmpNode=$('s'+this.obj+this.aNodes[j].id);if(tmpNode){max=Math.max(max,tmpNode.offsetWidth+tmpNode.offsetLeft)}}w=parseInt(dtree.parentNode.offsetWidth-max);if(this.config.toc){w=w-40}if(dtreel<=w){return}this.resizescroll("none");this.stopscroll();this.scrollLeft(dtreel,s,w-3,i)}};dTree.prototype.scrollLeft=function(lft,s,w,i){if(lft<w-i-10){this.divdisplay('z',0);this.scrllTmr=0;return}var self=this;$('dtree_'+self.obj).style.left=lft+"px";this.scrllTmr=setTimeout(function(){self.scrollLeft(lft-s,s+i,w,i)},20)};dTree.prototype.scrollRight=function(lft,s){if(lft>=s){this.divdisplay('left_',0);this.stopscroll();return}var self=this;$('dtree_'+self.obj).style.left=lft+"px";if(lft>-15){s=1}this.scrllTmr=setTimeout(function(){self.scrollRight(lft+s,s+1)},20);var right=$('z'+this.obj);right.style.display="block"};dTree.prototype.stopscroll=function(){$('left_'+this.obj).style.border="none";clearTimeout(this.scrllTmr);this.scrllTmr=0};dTree.prototype.show_feat=function(n){var w,div,id,dtree,dtreel,self,node=$('s'+this.obj+n);self=this;if(this.config.toc&&node.className!="node"){div=$('t'+this.obj);id=(this.aNodes[n].hns)?this.aNodes[n].hns:this.aNodes[n].dokuid;div.onmousedown=function(){indexmenu_createTocMenu('req=toc&id='+decodeURIComponent(id),'picker_'+self.obj,'t'+self.obj)};node.parentNode.appendChild(div);if(div.style.display=="none"){div.style.display="inline"}}if(this.config.scroll){div=$('z'+this.obj);div.onmouseover=function(){div.style.border="none";self.scroll("l",1,n,0)};div.onmousedown=function(){div.style.border="thin inset";self.scroll("l",4,n,1)};div.onmouseout=function(){div.style.border="none";self.stopscroll()};div.onmouseup=div.onmouseover;dtree=$('dtree_'+this.obj);dtreel=parseInt(dtree.offsetLeft,0);w=parseInt(dtree.parentNode.offsetWidth-node.offsetWidth-node.offsetLeft+1,0);if(dtreel>w){div.style.top="0px";div.style.left=parseInt(node.offsetLeft+node.offsetWidth+w-12,0)+"px";div.style.display="block"}}};dTree.prototype.resizescroll=function(status){var dtree,w,h,left=$('left_'+this.obj);var right=$('z'+this.obj);if(!left){return}if(left.style.display==status){dtree=$('dtree_'+this.obj);w=parseInt(dtree.offsetHeight/3,0);h=parseInt(w/50,0)*50;if(h<50){h=50}left.style.height=left.parentNode.scrollHeight+"px";left.style.top="0px";if(status=="none"){left.style.display="block";right.style.height=left.parentNode.scrollHeight+"px";right.style.top="0px"}}};dTree.prototype.getAjax=function(n){var node,req,curns,selft=this;node=selft.aNodes[n];var Ajax=new sack(DOKU_BASE+'lib/plugins/indexmenu/ajax.php');req='req=index&idx='+node.dokuid+decodeURIComponent(this.config.jsajax);curns=this.pageid.substring(0,this.pageid.lastIndexOf(this.config.sepchar));Ajax.encodeURIString=false;Ajax.onCompletion=function(){var i,ajxnodes,ajxnode,plus;plus=selft.aNodes.length-1;eval(this.response);if(!isArray(ajxnodes)||ajxnodes.length<1){ajxnodes=[['',1,0,'',0,1,0]]}node.ajax=false;for(i=0;i<ajxnodes.length;i++){ajxnode=ajxnodes[i];ajxnode[2]=(ajxnode[2]==0)?node.id:ajxnode[2]+plus;ajxnode[1]+=plus;selft.add(ajxnode[0],ajxnode[1],ajxnode[2],ajxnode[3],ajxnode[4],ajxnode[5],ajxnode[6])}if(selft.fajax){selft.fajax=false;selft.openCurNS(0)}else{selft.openTo(node.id,false,true)}$('l'+selft.obj).style.display='none'};if(this.fajax){req+='&nss='+curns+'&max=1'}Ajax.encodeURIString=false;Ajax.runAJAX(encodeURI(req))};dTree.prototype.loadCss=function(){var oLink=document.createElement("link");oLink.href=this.config.plugbase+'/images/'+this.config.theme+'/style.css';oLink.rel="stylesheet";oLink.type="text/css";document.getElementsByTagName('head')[0].appendChild(oLink)};dTree.prototype.contextmenu=function(n,e){var li,id,html,type,node,self,cmenu,cdtree,rmenu,X=0,Y=0,i;cdtree=$("cdtree_"+this.obj);rmenu=$('r'+this.obj);if(!rmenu){return true}indexmenu_mouseposition(rmenu,e);cmenu=window.indexmenu_contextmenu[0];node=this.aNodes[n];self=this;rmenu.innerHTML='<div class="indexmenu_rmenuhead" title="'+node.name+'">'+node.name+"</div>";for(i=0;i<cmenu.length;i++,i++,i++,i++){if(((!node._hc||node.hns)&&!cmenu[i+2])||(node._hc&&!node.hns&&!cmenu[i+3])){continue}html=cmenu[i];if(cmenu[i+1]){type='li';id=(node.hns)?node.hns:node.dokuid;html='<a title="'+cmenu[i]+'" href="'+eval(cmenu[i+1])+'">'+html+'</a>'}else{type='span';rmenu.appendChild(document.createElement('ul'))}li=document.createElement(type);li.innerHTML=html;rmenu.lastChild.appendChild(li)}rmenu.style.display='inline';return false};dTree.prototype.divdisplay=function(obj,v){var o=$(obj+this.obj);if(!o){return false}(v)?o.style.display='inline':o.style.display='none'};dTree.prototype.init=function(s,c,n,nav,max){if(s){this.loadCss()}if(!c){this.openCookies()}if(n){this.getOpenTo(n.split(" "))}if(nav){this.openCurNS(max)}if(window.indexmenu_contextmenu){var self=this;indexmenu_createPicker('r'+this.obj,'indexmenu_rmenu '+this.config.theme);$('r'+this.obj).oncontextmenu=indexmenu_stopevt;addEvent(document,'click',function(){self.divdisplay('r',0)})}};if(!Array.prototype.push){Array.prototype.push=function array_push(){for(var i=0;i<arguments.length;i++){this[this.length]=arguments[i]}return this.length}}if(!Array.prototype.pop){Array.prototype.pop=function array_pop(){var lstEl=this[this.length-1];this.length=Math.max(this.length-1,0);return lstEl}}function indexmenu_getid(a,b){var c=(a||"")+encodeURI(b||"");c+=a.indexOf("?")<0?"?":"&";return c}function indexmenu_srchpage(a,b,c,d){var e=prompt("Insert keyword(s) to search for within this namespace","");if(e){var f=d;if(c=="0"){f=f.substring(0,d.lastIndexOf(b))}var g=a,h=new RegExp(b,"g");f=f.replace(h,":");g+=a.indexOf("?id=")<0?"?id=":"";window.location.href=indexmenu_getid(g,e+" @"+f)+"do=search"}}function indexmenu_reqpage(a,b,c,d){var e,f=a;if(d){e=c+b+d}else{e=prompt("Insert the pagename to create","");if(!e){return}e=c+b+e}if(e)window.location.href=indexmenu_getid(f,e)+"do=edit"}var indexmenu_jsqueue=[];var indexmenu_cssqueue=[];var indexmenu_nojsqueue=[];function indexmenu_findExt(path){var ext="gif";var cext=path.lastIndexOf(".");if(cext>-1){cext++;cext=path.substring(cext,path.length).toLowerCase();if((cext=="png")||(cext=="jpg")){ext=cext}}return ext}function indexmenu_createTocMenu(get,picker,btn){var toc_picker=$(picker);if(!toc_picker){toc_picker=indexmenu_createPicker(picker);toc_picker.className='dokuwiki indexmenu_toc';toc_picker.innerHTML='<a href="#"><img src="'+DOKU_BASE+'lib/plugins/indexmenu/images/close.gif" class="indexmenu_close" /></a><div></div>';addEvent(toc_picker.firstChild,'click',function(event){event.stopPropagation();return indexmenu_showPicker(picker)})}else{toc_picker.style.display='none'}indexmenu_ajaxmenu(get,toc_picker,$(btn),toc_picker.childNodes[1])}function indexmenu_ajaxmenu(get,picker,btn,container,oncomplete){var indx_list;if(container){indx_list=container}else{indx_list=picker}if(!indexmenu_showPicker(picker,btn))return;var ajax=new sack(DOKU_BASE+'lib/plugins/indexmenu/ajax.php');ajax.encodeURIString=false;ajax.onLoading=function(){indx_list.innerHTML='<div class="tocheader">Loading .....</div>'};ajax.onCompletion=function(){var data=this.response;indx_list.innerHTML="";if(isFunction(oncomplete)){oncomplete(data,indx_list)}else{indx_list.innerHTML=data}};ajax.runAJAX(encodeURI(get))}function indexmenu_createPicker(id,cl){var indx_list=document.createElement('div');indx_list.className=cl||'picker';indx_list.id=id;indx_list.style.position='absolute';indx_list.style.display='none';var body=document.getElementsByTagName('body')[0];body.appendChild(indx_list);return indx_list}function findScrollY(object){var curY=0;var obj=$(object);if(obj.offsetParent){do{curY+=obj.scrollTop}while(obj=obj.offsetParent)}else if(obj.scrollTop){curY+=obj.scrollTop}return curY}function findScrollX(object){var curX=0;var obj=$(object);if(obj.offsetParent){do{curX+=obj.scrollLeft}while(obj=obj.offsetParent)}else if(obj.scrollLeft){curX+=obj.scrollLeft}return curX}function indexmenu_showPicker(pickerid,btn){var x=3,y=3,picker=$(pickerid);if(picker.style.display=='none'){x+=findPosX(btn)-findScrollX(btn);y+=findPosY(btn)-findScrollY(btn);if(picker.id!='picker_plugin_indexmenu'){x+=btn.offsetWidth-3}else{y+=btn.offsetHeight}picker.style.display='block';picker.style.left=x+'px';picker.style.top=y+'px';return true}else{picker.style.display='none';return false}}function indexmenu_loadtoolbar(){var toolbar=$('tool__bar');if(!toolbar)return;indexmenu_loadJs(DOKU_BASE+'lib/plugins/indexmenu/edit.js')}function indexmenu_loadJs(f){var basef=f.replace(/^.*[\/\\]/g,'');if(indexmenu_notinarray(indexmenu_jsqueue,basef)){var oLink=document.createElement("script");oLink.src=f;oLink.type="text/javascript";oLink.charset="utf-8";indexmenu_jsqueue.push(basef);document.getElementsByTagName("head")[0].appendChild(oLink)}}function indexmenu_checkcontextm(n,obj,e){var k=0;e=e||event;if((e.which==3||e.button==2)||(window.opera&&e.which==1&&e.ctrlKey)){obj.contextmenu(n,e);indexmenu_stopevt(e)}}function indexmenu_stopevt(e){if(!window.indexmenu_contextmenu){return true}e=e||event;e.preventdefault?e.preventdefault():e.returnValue=false;return false}function indexmenu_notinarray(array,val){for(var i=0;i<array.length;i++){if(array[i]==val){return false}}return true}function indexmenu_mouseposition(obj,e){if(!e)e=window.event;if(e.pageX||e.pageY){X=e.pageX;Y=e.pageY}else if(e.clientX||e.clientY){X=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;Y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}obj.style.left=X-5+'px';obj.style.top=Y-5+'px'}addInitEvent(indexmenu_loadtoolbar);if(!msc_stripHTMLComments){var msc_stripHTMLComments=function(input_string){input_string=input_string.replace(/&&/g,'--');if(input_string.substr(0,4)=="<!--"){return input_string.substr(4,input_string.length-7);}else{return input_string;}}}if(!msc_firstParagraphParent){var msc_firstParagraphParent=function(startNode){var tp=startNode.parentNode;while(tp!=null&&tp.nodeName!='DIV'&&tp.nodeName!='BODY'&&!(tp.nodeType==1&&tp.nodeName=='P')){tp=tp.parentNode;}return(tp!=null&&tp.nodeType==1&&tp.nodeName=='P')?tp:startNode;}}if(!msc_nextElement){var msc_nextElement=function(startNode){var tp=startNode.nextSibling;while(tp.nodeType!=1&&tp.nextSibling!=null){tp=tp.nextSibling;}return(tp.nodeType==1)?tp:false;}}if(!msc_firstChildElement){var msc_firstChildElement=function(startNode){var tp=startNode.firstChild;while(tp.nodeType!=1&&tp.nextSibling!=null){tp=tp.nextSibling;}return(tp.nodeType==1)?tp:false;}}if(!msc_findTop){var msc_findTop=function(obj){var top=0;if(obj.offsetParent){do{top+=obj.offsetTop;}while(obj=obj.offsetParent);return top;}else{return obj.offsetTop;}}}if(!msc_findLeft){var msc_findLeft=function(obj){var left=0;if(obj.offsetParent){do{left+=obj.offsetLeft;}while(obj=obj.offsetParent);return left;}else{return obj.offsetLeft;}}}if(!msc_popupBegone){var msc_popupBegone=function(cE){document.getElementById("pop"+cE.getAttribute("id")).style.display='none';}}if(!msc_positionPopup){var msc_positionPopup=function(cE){var id="pop"+cE.getAttribute("id");var pup=document.getElementById(id);if(pup==null){var def=msc_nextElement(cE);var afterMe=msc_firstParagraphParent(cE);var mydiv=document.createElement('div');mydiv.innerHTML=msc_stripHTMLComments(def.innerHTML);def.innerHTML='';mydiv=mydiv.firstChild;afterMe.parentNode.insertBefore(mydiv,afterMe.nextSibling);pup=document.getElementById(id);}if(pup.style.display=='block'){pup.style.display='none';}else{pup.style.display='block';if(pup.className.search("positioned")==-1){var lh=cE.offsetHeight-1;var lp=8;var rp=8;var ipup=msc_firstChildElement(pup);var pbs=msc_firstChildElement(ipup);var cd=document.getElementById("__origin");var bw=pbs.offsetWidth+4;var cer=msc_findLeft(cE)+cE.offsetWidth-msc_findLeft(cd);var pw=ipup.offsetWidth;pup.style.top=(pup.offsetTop+msc_findTop(cE)-msc_findTop(pup)+lh)+'px';if(cer>cd.offsetWidth-rp){pup.style.left=lp+'px';}else{pup.style.left=Math.min(Math.max(lp,cer-pw+bw),Math.max(lp,cd.offsetWidth-lp-pw))+'px';}}}}}var plugin_searchindex={pages:null,page:null,sack:null,done:1,count:0,output:null,lang:null,init:function(){plugin_searchindex.output=$('plugin__searchindex');if(!plugin_searchindex.output)return;plugin_searchindex.sack=new sack(DOKU_BASE+'lib/plugins/searchindex/ajax.php');plugin_searchindex.sack.AjaxFailedAlert='';plugin_searchindex.sack.encodeURIString=false;plugin_searchindex.lang=LANG.plugins.searchindex;plugin_searchindex.status('<button id="plugin__searchindex_btn" class="button">'+plugin_searchindex.lang.rebuild+'</button>');addEvent($('plugin__searchindex_btn'),'click',plugin_searchindex.go);},status:function(text){plugin_searchindex.output.innerHTML=text;},cb_clear:function(){var ok=this.response;if(ok==1){window.setTimeout(plugin_searchindex.index,1000);}else{plugin_searchindex.status(ok);window.setTimeout(plugin_searchindex.clear,5000);}},cb_pages:function(){var data=this.response;plugin_searchindex.pages=data.split("\n");plugin_searchindex.count=plugin_searchindex.pages.length;plugin_searchindex.status(plugin_searchindex.lang.pages.replace(/%d/,plugin_searchindex.pages.length));plugin_searchindex.page=plugin_searchindex.pages.shift();window.setTimeout(plugin_searchindex.clear,1000);},cb_index:function(){var ok=this.response;var wait=500;if(ok==1){plugin_searchindex.page=plugin_searchindex.pages.shift();plugin_searchindex.done++;}else{plugin_searchindex.status(ok);wait=5000;}window.setTimeout(plugin_searchindex.index,500);},index:function(){if(plugin_searchindex.page){plugin_searchindex.status(plugin_searchindex.lang.indexing+' <b>'+plugin_searchindex.page+'</b> ('+plugin_searchindex.done+'/'+plugin_searchindex.count+')');plugin_searchindex.sack.onCompletion=plugin_searchindex.cb_index;plugin_searchindex.sack.URLString='';plugin_searchindex.sack.runAJAX('call=indexpage&page='+encodeURI(plugin_searchindex.page));}else{plugin_searchindex.throbber_off();plugin_searchindex.status(plugin_searchindex.lang.done);}},clear:function(){plugin_searchindex.status(plugin_searchindex.lang.clearing);plugin_searchindex.sack.onCompletion=plugin_searchindex.cb_clear;plugin_searchindex.sack.URLString='';plugin_searchindex.sack.runAJAX('call=clearindex');},go:function(){plugin_searchindex.throbber_on();plugin_searchindex.status(plugin_searchindex.lang.finding);plugin_searchindex.sack.onCompletion=plugin_searchindex.cb_pages;plugin_searchindex.sack.URLString='';plugin_searchindex.sack.runAJAX('call=pagelist');},throbber_on:function(){plugin_searchindex.output.style['background-image']="url('"+DOKU_BASE+'lib/images/throbber.gif'+"')";plugin_searchindex.output.style['background-repeat']='no-repeat';},throbber_off:function(){plugin_searchindex.output.style['background-image']='none';}};addInitEvent(function(){plugin_searchindex.init();});var stIsIE=/*@cc_on!@*/false;var tableid=0;sorttable={reinit:function(){arguments.callee.done=true;if(_timer){clearInterval(_timer);}if(!document.createElement||!document.getElementsByTagName){return;}sorttable.DATE_RE=/^(\d\d?)[\/\.\-](\d\d?)[\/\.\-]((\d\d)?\d\d)( (\d\d?)[:\.]?(\d\d?))?$/;forEach(document.getElementsByTagName('table'),function(table){if(table.className.search(/\bsortable\b/)!=-1){sorttable.makeSortable(table);}});forEach(document.getElementsByTagName('div'),function(div){if(div.className.search(/\bsortable\b/)!=-1){sorttable.makeSortablediv(div);}});},init:function(){if(arguments.callee.done){return;}arguments.callee.done=true;if(_timer){clearInterval(_timer);}if(!document.createElement||!document.getElementsByTagName){return;}sorttable.DATE_RE=/^(\d\d?)[\/\.\-](\d\d?)[\/\.\-]((\d\d)?\d\d)( (\d\d?):?(\d\d?))?$/;forEach(document.getElementsByTagName('table'),function(table){if(table.className.search(/\bsortable\b/)!=-1){sorttable.makeSortable(table);}});forEach(document.getElementsByTagName('div'),function(div){if(div.className.search(/\bsortable\b/)!=-1){sorttable.makeSortablediv(div);}});},makeSortablediv:function(div){if(div.getElementsByTagName('table').length===0){}else{forEach(div.getElementsByTagName('table'),function(table){colid=div.className;overs=new Array();var patt1=/\bcol_\d_[a-z]+/gi;var overs=new Array();if(colid.search(patt1)!=-1){var overrides=new Array();overrides=colid.match(patt1);var xo="";for(xo in overrides){if(xo==""){}else{try{var tmp=overrides[xo].split("_");var ind=tmp[1];var val=tmp[2];overs[ind]=val;}catch(e){}}}colid=colid.replace(patt1,'');}sorttable.makeSortable(table,overs);if(colid.search(/\bsort/)!=-1){colid=colid.replace('sortable','');colid=colid.replace(' sort','');if(!colid!=''){colid=colid.trim();}revs=false;if(colid.search(/\br/)!=-1){revs=true;colid=colid.replace('r','');}sorttable.defaultSort(table,colid,revs);}});}},defaultSort:function(table,colid,revs){theadrow=table.rows[0].cells;colid--;colname="col"+colid;var thiscell=false;forEach(theadrow,function(cell){colclass=cell.className;classname=colclass.split(" ");if(classname[0]==colname){thiscell=cell;}});if(thiscell===false){return;}sortfwdind=document.getElementById('sorttable_sortfwdind');if(sortfwdind){sortfwdind.parentNode.removeChild(sortfwdind);}sortrevind=document.getElementById('sorttable_sortrevind');if(sortrevind){sortrevind.parentNode.removeChild(sortrevind);}thiscell.className+=' sorttable_sorted';sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':'&nbsp;&#x25BE;';thiscell.appendChild(sortfwdind);row_array=[];col=thiscell.sorttable_columnindex;rows=thiscell.sorttable_tbody.rows;for(var j=1;j<rows.length;j++){row_array[row_array.length]=[sorttable.getInnerText(rows[j].cells[col]),rows[j]];}row_array.sort(thiscell.sorttable_sortfunction);tb=thiscell.sorttable_tbody;for(var jj=0;jj<row_array.length;jj++){tb.appendChild(row_array[jj][1]);}delete row_array;if(revs){sorttable.reverse(thiscell.sorttable_tbody);thiscell.className=thiscell.className.replace('sorttable_sorted','sorttable_sorted_reverse');thiscell.removeChild(document.getElementById('sorttable_sortfwdind'));sortrevind=document.createElement('span');sortrevind.id="sorttable_sortrevind";sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':'&nbsp;&#x25B4;';thiscell.appendChild(sortrevind);}},makeSortable:function(table,overrides){headrow=table.rows[0].cells;for(i=0;i<headrow.length;i++){var colOptions="";if(overrides[i+1]){colOptions=overrides[i+1];}if(!colOptions.match(/\bnosort\b/)){mtch=colOptions.match(/\b[a-z0-9]+\b/);if(mtch){override=mtch[0];}if(mtch&&typeof sorttable["sort_"+override]=='function'){headrow[i].sorttable_sortfunction=sorttable["sort_"+override];}else{headrow[i].sorttable_sortfunction=sorttable.guessType(table,i);}headrow[i].sorttable_columnindex=i;headrow[i].sorttable_tbody=table.tBodies[0];addEvent(headrow[i],"click",function(e){theadrow=this.parentNode;if(this.className.search(/\bsorttable_sorted\b/)!=-1){sorttable.reverse(this.sorttable_tbody);this.className=this.className.replace('sorttable_sorted','sorttable_sorted_reverse');sortfwdind=document.getElementById('sorttable_sortfwdind');if(sortfwdind){sortfwdind.parentNode.removeChild(sortfwdind);}sortrevind=document.getElementById('sorttable_sortrevind');if(sortrevind){sortrevind.parentNode.removeChild(sortrevind);}sortrevind=document.createElement('span');sortrevind.id="sorttable_sortrevind";sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':'&nbsp;&#x25B4;';this.appendChild(sortrevind);return;}if(this.className.search(/\bsorttable_sorted_reverse\b/)!=-1){sorttable.reverse(this.sorttable_tbody);this.className=this.className.replace('sorttable_sorted_reverse','sorttable_sorted');sortrevind=document.getElementById('sorttable_sortrevind');if(sortrevind){sortrevind.parentNode.removeChild(sortrevind);}sortfwdind=document.getElementById('sorttable_sortfwdind');if(sortfwdind){sortfwdind.parentNode.removeChild(sortfwdind);}sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':'&nbsp;&#x25BE;';this.appendChild(sortfwdind);return;}forEach(theadrow.childNodes,function(cell){if(cell.nodeType==1){cell.className=cell.className.replace('sorttable_sorted_reverse','');cell.className=cell.className.replace('sorttable_sorted','');}});sortfwdind=document.getElementById('sorttable_sortfwdind');if(sortfwdind){sortfwdind.parentNode.removeChild(sortfwdind);}sortrevind=document.getElementById('sorttable_sortrevind');if(sortrevind){sortrevind.parentNode.removeChild(sortrevind);}this.className+=' sorttable_sorted';sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':'&nbsp;&#x25BE;';this.appendChild(sortfwdind);row_array=[];col=this.sorttable_columnindex;rows=this.sorttable_tbody.rows;for(var j=1;j<rows.length;j++){row_array[row_array.length]=[sorttable.getInnerText(rows[j].cells[col]),rows[j]];}row_array.sort(this.sorttable_sortfunction);tb=this.sorttable_tbody;for(var j3=0;j3<row_array.length;j3++){tb.appendChild(row_array[j3][1]);}delete row_array;});}}},guessType:function(table,column){sortfn=sorttable.sort_alpha;for(var i=0;i<table.tBodies[0].rows.length;i++){text=sorttable.getInnerText(table.tBodies[0].rows[i].cells[column]);if(text!==''){if(text.match(/^-?[$]?[\d,.]+[%]?$/)){return sorttable.sort_numeric;}possdate=text.match(sorttable.DATE_RE);if(possdate){first=parseInt(possdate[1]);second=parseInt(possdate[2]);if(first>12){return sorttable.sort_ddmm;}else if(second>12){return sorttable.sort_mmdd;}else{sortfn=sorttable.sort_ddmm;}}}}return sortfn;},getInnerText:function(node){hasInputs=(typeof node.getElementsByTagName=='function')&&node.getElementsByTagName('input').length;if(node.getAttribute("sorttable_customkey")!==null){return node.getAttribute("sorttable_customkey");}else if(typeof node.textContent!='undefined'&&!hasInputs){return node.textContent.replace(/^\s+|\s+$/g,'');}else if(typeof node.innerText!='undefined'&&!hasInputs){return node.innerText.replace(/^\s+|\s+$/g,'');}else if(typeof node.text!='undefined'&&!hasInputs){return node.text.replace(/^\s+|\s+$/g,'');}else{switch(node.nodeType){case 3:if(node.nodeName.toLowerCase()=='input'){return node.value.replace(/^\s+|\s+$/g,'');}case 4:return node.nodeValue.replace(/^\s+|\s+$/g,'');break;case 1:case 11:var innerText='';for(var i=0;i<node.childNodes.length;i++){innerText+=sorttable.getInnerText(node.childNodes[i]);}return innerText.replace(/^\s+|\s+$/g,'');break;default:return'';}}},reverse:function(tbody){newrows=[];for(var i=0;i<tbody.rows.length;i++){newrows[newrows.length]=tbody.rows[i];}for(var i=newrows.length-1;i>=1;i--){tbody.appendChild(newrows[i]);}delete newrows;},sort_numeric:function(a,b){aa=parseFloat(a[0].replace(/[^0-9.\-]/g,''));if(isNaN(aa)){aa=0;}bb=parseFloat(b[0].replace(/[^0-9.\-]/g,''));if(isNaN(bb)){bb=0;}return aa-bb;},sort_alpha:function(a,b){if(a[0]==b[0]){return 0;}if(a[0]<b[0]){return-1;}return 1;},sort_ddmm:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];t=mtch[5]+'';if(t.length<1){t='';}if(m.length==1){m='0'+m;}if(d.length==1){d='0'+d;}dt1=y+m+d+t;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];t=mtch[5]+'';if(t.length<1){t='';}if(m.length==1){m='0'+m;}if(d.length==1){d='0'+d;}dt2=y+m+d+t;if(dt1==dt2){return 0;}if(dt1<dt2){return-1;}return 1;},sort_mmdd:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];t=mtch[5]+'';if(m.length==1){m='0'+m;}if(d.length==1){d='0'+d;}dt1=y+m+d+t;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];t=mtch[5]+'';if(t.length<1){t='';}if(m.length==1){m='0'+m;}if(d.length==1){d='0'+d;}dt2=y+m+d+t;if(dt1==dt2){return 0;}if(dt1<dt2){return-1;}return 1;},shaker_sort:function(list,comp_func){var b=0;var t=list.length-1;var swap=true;while(swap){swap=false;for(var i=b;i<t;++i){if(comp_func(list[i],list[i+1])>0){var q=list[i];list[i]=list[i+1];list[i+1]=q;swap=true;}}t--;if(!swap){break;}for(var i=t;i>b;--i){if(comp_func(list[i],list[i-1])<0){var q=list[i];list[i]=list[i-1];list[i-1]=q;swap=true;}}b++;}}};if(!Array.forEach){Array.forEach=function(array,block,context){for(var i=0;i<array.length;i++){block.call(context,array[i],i,array);}};}Function.prototype.forEach=function(object,block,context){for(var key in object){if(typeof this.prototype[key]=="undefined"){block.call(context,object[key],key,object);}}};String.forEach=function(string,block,context){Array.forEach(string.split(""),function(chr,index){block.call(context,chr,index,string);});};var forEach=function(object,block,context){if(object){var resolve=Object;if(object instanceof Function){resolve=Function;}else if(object.forEach instanceof Function){object.forEach(block,context);return;}else if(typeof object=="string"){resolve=String;}else if(typeof object.length=="number"){resolve=Array;}resolve.forEach(object,block,context);}};if('undefined'!=typeof(window.addEvent)){window.addEvent(window,'load',sorttable.init);}function reinitsort(){sorttable.reinit();}addInitEvent(function(){var diffs=getElementsByClass('sync_popup',document,'a');for(var i=0;i<diffs.length;i++){addEvent(diffs[i],'click',function(e){window.open(this.href,'diff',"width=700,height=500,left=100,top=100,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,toolbar=no");e.preventDefault();e.stopPropagation();return false;});}var push=$('sync__push');if(push){push.style.cursor='pointer';addEvent(push,'click',function(){sync_select('push');});}var skip=$('sync__skip');if(skip){skip.style.cursor='pointer';addEvent(skip,'click',function(){sync_select('skip');});}var pull=$('sync__pull');if(pull){pull.style.cursor='pointer';addEvent(pull,'click',function(){sync_select('pull');});}});function sync_select(type){var items=getElementsByClass('sync'+type);for(var i=0;i<items.length;i++){items[i].checked='checked';}}function plugin_tagindex_class(){this.pages=null;this.page=null;this.sack=null;this.done=1;this.count=0;}var plugin_tag=new plugin_tagindex_class();plugin_tag.sack=new sack(DOKU_BASE+'lib/plugins/tag/ajax.php');plugin_tag.sack.AjaxFailedAlert='';plugin_tag.sack.encodeURIString=false;function plugin_tagindex_throbber(on){obj=document.getElementById('pl_si_throbber');if(on){obj.style.visibility='visible';}else{obj.style.visibility='hidden';}}function plugin_tagindex_status(text){obj=document.getElementById('pl_si_out');obj.innerHTML=text;}function plugin_tagindex_cb_clear(){ok=this.response;if(ok==1){window.setTimeout("plugin_tagindex_index()",1000);}else{plugin_tagindex_status(ok);window.setTimeout("plugin_tagindex_clear()",5000);}}function plugin_tagindex_cb_pages(){data=this.response;plugin_tag.pages=data.split("\n");plugin_tag.count=plugin_tag.pages.length;plugin_tagindex_status(plugin_tag.pages.length+" pages found");plugin_tag.page=plugin_tag.pages.shift();window.setTimeout("plugin_tagindex_clear()",1000);}function plugin_tagindex_cb_index(){ok=this.response;if(ok==1){plugin_tag.page=plugin_tag.pages.shift();plugin_tag.done++;window.setTimeout("plugin_tagindex_index()",1000);}else{plugin_tagindex_status(ok);window.setTimeout("plugin_tagindex_index()",5000);}}function plugin_tagindex_index(){if(plugin_tag.page){plugin_tagindex_status('indexing<br />'+plugin_tag.page+'<br />('+plugin_tag.done+'/'+plugin_tag.count+')<br />');plugin_tag.sack.onCompletion=plugin_tagindex_cb_index;plugin_tag.sack.URLString='';plugin_tag.sack.runAJAX('call=indexpage&page='+encodeURI(plugin_tag.page));}else{plugin_tagindex_status('finished');plugin_tagindex_throbber(false);}}function plugin_tagindex_clear(){plugin_tagindex_status('clearing index...');plugin_tag.sack.onCompletion=plugin_tagindex_cb_clear;plugin_tag.sack.URLString='';plugin_tag.sack.runAJAX('call=clearindex');}function plugin_tagindex_go(){document.getElementById('pl_si_gobtn').style.display='none';plugin_tagindex_throbber(true);plugin_tagindex_status('Finding all pages');plugin_tag.sack.onCompletion=plugin_tagindex_cb_pages;plugin_tag.sack.URLString='';plugin_tag.sack.runAJAX('call=pagelist');}function tagentry_clicktag(tagname,cbox){tagentry_settag(tagname,cbox.checked);}function tagentry_settag(tagname,on){var oldtext=document.getElementById('wiki__text').value;var tagstart=oldtext.toLowerCase().indexOf("{{tag>");if(tagstart>=0){var tagend=oldtext.substr(tagstart).indexOf("}}");if(tagend<0){alert('incomlete "{{tag>}}" - missing trailing "}}" ?');return;}var len=tagname.length+1;var s=tagstart;var l=tagend;var f=-1;while((f=oldtext.toLowerCase().substr(s,l).indexOf(tagname.toLowerCase()))>=0){var cs=oldtext.substr(s+f-1,1);if(cs!=' '&&cs!='>'){s+=f+len;l-=f+len;continue;}var ce=oldtext.substr(s+f+len-1,1);if(ce!=' '&&ce!='}'){s+=f+len;l-=f+len;continue;}if(ce=='}'){if(cs=='>'){len--;}else{f--;}}oldtext=oldtext.substr(0,s+f)+oldtext.substr(s+f+len);l=oldtext.substr(s).indexOf("}}");}tagend=oldtext.substr(tagstart).indexOf("}}");if(tagend<0){alert('incomlete "{{tag>}}" - missing trailing "}}" ?');return;}if(on){var split=tagstart+tagend;var ws="";if(tagend!=6)ws=" ";oldtext=oldtext.substr(0,split)+ws+tagname+oldtext.substr(split);}}else{if(on){oldtext+='\n{{tag>'+tagname+'}}';}}document.getElementById('wiki__text').value=oldtext;}function usrmgr_delconfirm(){if($('usrmgr__del')){addEvent($('usrmgr__del'),'click',function(){return confirm(reallyDel);});}};addInitEvent(usrmgr_delconfirm);addInitEvent(function(){addEvent(document,'click',closePopups);});addInitEvent(function(){addTocToggle();});addInitEvent(function(){initSizeCtl('size__ctl','wiki__text');});addInitEvent(function(){initToolbar('tool__bar','wiki__text',toolbar);});addInitEvent(function(){locktimer.init(3540,'Your lock for editing this page is about to expire in a minute.\nTo avoid conflicts use the preview button to reset the locktimer.',1,'wiki__text');});addInitEvent(function(){scrollToMarker();});addInitEvent(function(){focusMarker();});
