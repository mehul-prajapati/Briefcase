'use strict';(function(g){function e(){}function d(c,d){if(j)return d.indexOf(c);for(var a=d.length;a--;)if(d[a]===c)return a;return-1}var c=e.prototype,f=[],j=f.indexOf?!0:!1;c.getListeners=function(c){var d=this._events||(this._events={});return d[c]||(d[c]=[])};c.addListener=function(c,f){var a=this.getListeners(c);-1===d(f,a)&&a.push(f);return this};c.removeListener=function(c,f){var a=this.getListeners(c),k=d(f,a);-1!==k&&(a.splice(k,1),0===a.length&&(this._events[c]=null));return this};c.addListeners=
function(c,d){return this.manipulateListeners(!1,c,d)};c.removeListeners=function(c,d){return this.manipulateListeners(!0,c,d)};c.manipulateListeners=function(c,d,a){var f,e,h=c?this.removeListener:this.addListener,c=c?this.removeListeners:this.addListeners;if("object"===typeof d)for(f in d){if(d.hasOwnProperty(f)&&(e=d[f]))"function"===typeof e?h.call(this,f,e):c.call(this,f,e)}else for(f=a.length;f--;)h.call(this,d,a[f]);return this};c.removeEvent=function(c){c?this._events[c]=null:this._events=
null;return this};c.emitEvent=function(c,d){for(var a=this.getListeners(c),k=a.length;k--;)!0===a[k].apply(null,d||f)&&this.removeListener(c,a[k]);return this};"function"===typeof define&&define.amd?define(function(){return e}):g.EventEmitter=e})(this);
StackExchange.realtime=function(){function g(){if(!(null==o||1!=o.readyState))for(var b=0,i=r.length;b<i;b++)e("sending "+r[b]),o.send(r[b])}function e(b){StackExchange.options.enableLogging&&console.log("realtime: "+b)}function d(){q.addListener("hb",function(b){o.send(b)})}function c(b){r.push(b);g()}function f(b,i){1!=$("#vote-accepted-"+b.answerid).length&&($(".vote-accepted-on").remove(),i||$('.vote input[value="'+b.answerid+'"]').parent().append($("<span>",{"class":"vote-accepted-on",title:"The question owner accepted this as the best answer",
text:"accepted"})))}function j(b){if(0==$("#comment-"+b.commentid).length){var i=$("#comments-link-"+b.id),b=$("tbody","#comments-"+b.id),a=b.data("remaining-comments-count")||0,c=!(i.data("anon")||i.data("reg"));a++;i.data("comments-count",a);i.attr("title","expand to show all comments on this post, or add one of your own");var d=function(b){return 1==b.commentsCount?"add / show <b>"+b.commentsCount+"</b> more comment":"add / show <b>"+b.commentsCount+"</b> more comments"}({commentsCount:a}),f=function(b){return 1==
b.commentsCount?"show <b>"+b.commentsCount+"</b> more comment":"show <b>"+b.commentsCount+"</b> more comments"}({commentsCount:a});i.removeClass("disabled-link");b.data("remaining-comments-count",a);c?i.html(d):i.html(f);i.show().fadeTo("fast",0.7).fadeTo("fast",1)}}function n(){$.ajax({type:"POST",url:"/review/suggested-edit-count",data:{fkey:StackExchange.options.user.fkey},dataType:"json",success:function(b){if(b&&b.count){var b=b.count,i=$(".suggested-edits-count");i.text()!=b&&(0==$(":animated").length&&
i.fadeTo("fast",0.5).fadeTo("fast",1),i.text(b))}}})}function m(){$("#new-answer-activity").remove();$("#answers-header").prepend(y)}function a(b){var i=$(".question[data-questionid="+b.id+"], .answer[data-answerid="+b.id+"]"),a=$('<div class="new-post-activity" data-postid="'+b.id+'">an edit has been made to this post; click to load</div>');0<i.find(".new-post-activity[data-postid="+b.id+"]").length||i.prepend(a.click(function(){$(".new-post-activity[data-postid="+b.id+"]").remove();0==$("#review-content").length&&
$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({postIdsSemiColonDelimited:b.id}),z(i.find(".postcell, .answercell"),b));$(document).trigger("refreshEdit",b.id)}))}function k(b,i,a){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(b.body)||(b.fetch&&$.ajax({url:"/posts/"+b.id+"/"+a}).done(function(i){b.body=i;p[b.id]={id:b.id,body:b.body,index:(new Date).getTime(),siteid:b.siteid}}),p[b.id]={id:b.id,body:b.body,index:(new Date).getTime(),
siteid:b.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(A),0<$(".tag-sponsorship").length&&$("#question-mini-list, #questions").css("margin-top","0px"),i&&h())}function l(b,i){return b.index<i.index?-1:b.index>i.index?1:0}function h(){var a=[],c;for(c in p)p.hasOwnProperty(c)&&a.push(p[c]);a=a.sort(l);for(c=0;c<a.length;c++){var d=a[c];$("#question-summary-"+d.id).remove();$(d.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}b(0);null!=StackExchange.options.user.accountId&&
StackExchange.tagPreferences.applyPrefs(!0,s);styleCode();i();$(".new-post-activity").remove();p={}}function b(b){var i=document.title.replace(/^\(\d*\*?\) /,"");0<b&&(i="("+b+") "+i);window.setTimeout(function(){$(document).attr("title",i)},200)}function i(){for(var b=$("span.relativetime, span.relativetime-clean"),i=0;i<b.length;i++)if(b[i].title){var a;a=b[i].title;if(null==a||20!=a.length)a=void 0;else{a=a.substr(0,10)+"T"+a.substr(11,10);a=new Date(a);a=((new Date).getTime()-a.getTime())/1E3+
StackExchange.options.serverTimeOffsetSec;var c=Math.floor(a/86400),d=void 0;if(isNaN(c)||0>c||31<=c)d=void 0;else if(d=void 0,d=0==c){c=void 0;if(!(c=2>a&&"just now"))if(c=void 0,!(c=60>a&&(t?Math.floor(a)+"s ago":Math.floor(a)+" secs ago")))if(c=void 0,!(c=120>a&&(t?"1m ago":"1 min ago")))if(c=void 0,!(c=3600>a&&(t?Math.floor(a/60)+"m ago":Math.floor(a/60)+" mins ago")))if(c=void 0,!(c=7200>a&&(t?"1h ago":"1 hour ago")))if(c=void 0,c=86400>a)c=void 0,t?c=Math.floor(a/3600)+"h ago":(a={hours:Math.floor(a/
3600)},c=1==a.hours?a.hours+" hour ago":a.hours+" hours ago");d=c}a=d}a&&(b[i].innerHTML=a)}}var o,p={},u=[],w=0,r=[],v=10,x=!1,t=!1,s,q=new EventEmitter,y=function(){var b=Object.keys(u).length;0==b&&$("#new-answer-activity").remove();return $('<div id="new-answer-activity">'+function(b){return 1==b.count?b.count+" new answer to this question":b.count+" new answers to this question"}({count:b})+"</div>").click(function(){StackExchange.realtime.expandAnswers()})},z=function(b,a){return function(i){var c=
$(i).filter(".question, .answer"),d=c.find(".postcell, .answercell"),f=b.closest(".question"),k=0<f.length,h=$("h1 a.question-hyperlink"),e=c.data("title"),o=k&&$.trim(h.text())!=e,j=$(".question-status"),l=function(b,a){return function(){return $.Deferred(function(i){null==a||a()?b.animate({opacity:0},150).promise().done(function(){i.resolve()}):i.resolve()})}},c=l(h,function(){return o}),g=l(b),l=l(j);$.when(c(),g(),l()).done(function(){o&&h.text(e).animate({opacity:1},150);var a=function(b,a){return new $.Deferred(function(i){a.css({opacity:0});
b.replaceWith(a);a.animate({opacity:1},150,function(){i.resolve()})})};a(b,d).done(function(){styleCode();StackExchange.question.bindSuggestedEditPopupLinks();k&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init()});var c=$(i).filter(".question-status");c.length?(j.length||(j=$("<div>").addClass("question-status").insertAfter(f)),a(j,c)):j.remove()});window.history.pushState(a,"new post","#"+a.id)}},A=function(){var a=Object.keys(p).length;b(a);return $('<div class="new-post-activity">'+
function(b){return 1==b.count?b.count+" question with new activity":b.count+" questions with new activity"}({count:a})+"</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{init:function(b){var a=b.split(","),a=a[w%a.length];null!=a&&0!=a.indexOf("ws://")&&0!=a.indexOf("wss://")&&(a=("https:"===document.location.protocol?"wss://":"ws://")+a);if("WebSocket"in window||"MozWebSocket"in window){if(o)try{e("closing WebSocket"),o.close()}catch(c){}o||(e("opening WebSocket to: "+
a),o="WebSocket"in window?new WebSocket(a):new MozWebSocket(a),o.onopen=function(){x||(x=!0);w=0;e("WebSocket opened");g();d();setInterval(i,6E4)},o.onmessage=function(b){b=$.parseJSON(b.data);q.emitEvent(b.action,[b.data])},o.onclose=function(){o=null;e("WebSocket closed");5>w&&0<v&&(w++,v--,e("reconnect attempt:"+w+" max retries:"+v),setTimeout(function(){StackExchange.realtime.init(b)},1E3*((new Date).getTime()%50/20)))},o.onerror=function(){e("WebSocket failed");o=null})}},expandActiveQuestions:h,
expandAnswers:function(){$("#tabs").show();$("#new-answer-activity").remove();var b=$("#answers #answers-header"),a=b.find(".answers-subheader h2"),c=parseInt(a.text())+u.length;isNaN(c)&&(c=u.length);a.text(function(b){return 1==b.answerCount?b.answerCount+" Answer":b.answerCount+" Answers"}({answerCount:c}));$.ajax({url:"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({postIdsSemiColonDelimited:u.join(";")})}).done(function(a){var i=$('<div class="dno" />').append(a);i.insertAfter(b).fadeIn(400,
function(){i.removeClass("dno");styleCode();StackExchange.vote.init($(".question").data("questionid"));i.find(".answer").each(function(){StackExchange.comments.init({post:$(this)})})})});StackExchange.question.bindSuggestedEditPopupLinks();i();u=[]},subscribeToActiveQuestions:function(b,a,i,d,f,h,e){b=b+"-"+a;s=i;t=h;c(b);q.addListener(b,function(b){b=$.parseJSON(b);if(null!=f)for(var i=0;i<f.length;i++)if(-1==$.inArray(f[i],b.tags))return;k(b,d,a);null!=e&&e(b)})},subscribeToInboxNotifications:function(){if(null!=
StackExchange.options.user.accountId){var b=StackExchange.options.user.accountId+"-inbox";c(b);q.addListener(b,function(b){$(".unreadCount").remove();var a=$("<a>",{"class":"unreadCount",title:"unread messages in your inbox",text:b}).insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:a.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(b)})}},subscribeToQuestion:function(b,i){var d=b+"-question-"+i;c(d);q.addListener(d,function(b){b=$.parseJSON(b);if(b.acctid!=StackExchange.options.user.accountId)switch(b.a){case "score":var i=
$('.vote input[value="'+b.id+'"]').siblings(".vote-count-post");i.text()!=b.score&&(i.text(b.score),0==$(":animated").length&&i.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":j(b);break;case "answer-add":0==$("#answer-"+b.answerid).length&&(u.push(b.answerid),StackExchange.cardiologist&&(StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(m,5E3).trigger():m(),StackExchange.cardiologist.notifiedOfNewAnswer()));
break;case "accept":f(b);break;case "unaccept":f(b,!0);break;case "post-edit":a(b)}})},unsubscribeToQuestion:function(b,a){var i=b+"-question-"+a;e("unsubscribing "+i);var c=$.inArray(i,r);-1!=c&&(r.splice(c,1),null==o||1!=o.readyState||o.send("-"+i))},subscribeToReputationNotifications:function(b){null!=StackExchange.options.user.accountId&&(b=b+"-"+StackExchange.options.user.userId+"-reputation",c(b),q.addListener(b,function(b){var a=$("#hlinks .reputation-score, .links-container .reputation");
a.text()!=b.score&&(0==$(":animated").length&&a.fadeTo("fast",0.8).fadeTo("fast",1),a.text(b).attr("title","your reputation: "+b))}))},subscribeToSuggestedEdits:function(b){b+="-suggested-edits-count-update";c(b);q.addListener(b,function(){n()})},updateRelativeDates:i,subscribeToReviewDashboard:function(b){b+="-review-dashboard-update";c(b);q.addListener(b,function(b){var b=$.parseJSON(b),a=$('.dashboard-activity[data-review-task="'+b.i+'"]');0==a.find('.dashboard-user[data-user="'+b.u+'"]').length&&
(a.find(".dashboard-user:nth-child(6)").remove(),a.css("overflow","hidden"),a.children().css({left:"-44px"}),a.prepend(b.html).children().animate({left:0},function(){a.css("overflow","visible")}))})},subscribeToTopBarNotifications:function(){if(null!=StackExchange.options.user.accountId){var b=StackExchange.options.user.accountId+"-topbar";c(b);q.addListener(b,function(b){StackExchange.topbar.handleRealtimeMessage(b)})}}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(g){if(gauth.enabled()){var e=document.domain;"meta."==e.substr(0,5)&&(e=e.substr(4,e.length-4));var d=$.cookie("gauth");if(null==d)$.cookie("gauth",null,{path:"/",domain:e}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=e.charAt(0)&&(e="."+e);$.cookie("gauth",null,{path:"/",domain:e});$.cookie("gauth",null,{path:"/",domain:document.domain});var c=d.indexOf(":"),e=d.substr(0,c),d=d.substr(c+1),f=g+"/auth/global/write?authToken="+
encodeURIComponent(e)+"&nonce="+encodeURIComponent(d);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+f+"'></iframe>")})}}},checkStackAuth:function(g){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var e=function(d){if(d.origin==g)if("No Local Storage"==d.data)gauth.noGAuthStorage();else if("No Session"==d.data)gauth.noGAuthSession();else{var c=d.data.substr(0,d.data.indexOf(",")),d=d.data.substr(d.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:c,nonce:d},function(c){gauth.globallyAuthed(c)},"json")}};window.attachEvent?window.attachEvent("onmessage",e):window.addEventListener("message",e,!1);$.post("/users/login/global/request","",function(d){var c=g+"/auth/global/read?request="+encodeURIComponent(d.token)+"&nonce="+encodeURIComponent(d.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+c+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(g){if(g&&g.Message){var e=g.Message;g.MessageType&&"WelcomeBack"===g.MessageType&&(e="Welcome back "+g.UserLink+", you've been logged in.");var g=e+" ",d,c=!1,e=""+window.location,f=e.indexOf("returnurl=");if(-1!=f){var j=e.indexOf("&",f);-1==j&&(j=e.length);d=decodeURIComponent(e.substring(f+10,j));d=
/^(?:http:\/\/|\/)/.test(d)?d.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=e.indexOf("/users/login")&&(c=!0,d=d||"/");StackExchange.helpers.showFancyOverlay({message:c?g+"<br>You are being redirected...":g+(d?'<a href="'+("javascript:window.location='"+d+"'")+'">Click here</a> to return to your last location.':'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!c,complete:function(){c&&(window.location=d)}})}}}}(),genuwine=function(){var g,e="",d,
c,f=[],j=function(){return $(".genu").hasClass("genu-on")},n=function(){var i=$(".genu"),h=$("#seWrapper");if(0==h.length||0<d||c){a();var h=$("#seWrapper"),e;0<d?(e=$("#seTabInbox"),p(e)):c?(e=$("#seTabNotices"),k(e)):(e=$("#seTabHot"),b(e));e.addClass("seCurrent")}if(e=i.hasClass("genu-on")){$(".unreadCountTab").remove();$("#portalLink .itemBoxNew").removeClass("itemBoxNew");h.fadeOut("fast");for(h=0;h<f.length;h++)f[h]();f=[];0<c&&$("#portalLink .unreadCount").text(""+c).addClass("newNotices").show().click(n)}else h.fadeIn("fast"),
$("#portalLink .unreadCount").hide();i.toggleClass("genu-on",!e);-1==d&&$(i).ready(function(){$("#seTabInbox").hide()});m($("#seTabInbox"),$("#seTabNotices"))},m=function(b,a){StackExchange.options.site.isNoticesTabEnabled&&c&&0==a.find(".unreadCountTab").length&&a.prepend('<span class="unreadCountTab newNotices">'+c+"</span>");0<d&&0==b.find(".unreadCountTab").length&&b.prepend('<span class="unreadCountTab">'+d+"</span>")},a=function(){$("#seWrapper").remove();var a='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+
e+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+(!StackExchange.options.user.isAnonymous?'<li><a id="seTabInbox">Inbox</a></li>':"")+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter"><a id="seClose">close</a></div></div>',
i=$("#hlinks"),i=i.height()+i.offset().top+5;$(a).appendTo("#portalLink").css({top:i}).find("ul.seNavLinks a").click(function(){var a=$(this);$(".seNavLinks a").removeClass("seCurrent");a.addClass("seCurrent");switch(a.attr("id")){case "seTabHot":b(a);$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&h(a);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();
$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":p(a);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();$("#seContainerInbox").fadeIn("fast");break;case "seTabNotices":k(a),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").click(function(){n()})},k=function(b){0==$("#seContainerNotices").length&&v(b,"/notices/genuwine","json",l,!0)},l=function(b,a){for(var i=
'<div id="seContainerNotices" style="display:none">',d=0;d<a.length;d++){var h=a[d],e=h.text,k=h.is_unread,o=h.site_url,j=h.icon,l=h.hasOwnProperty("type")?' data-type="'+h.type.toString()+'"':"";null!=h.switch_type&&(l=l+' data-sw-type="'+h.switch_type.toString()+'" data-sw-site="'+h.site_id.toString()+'"');i+='<div class="noticeBox'+(k?" itemBoxNew":"")+'"'+l+'><a href="'+o+'" class="siteLinkFavicon"><img src="'+j+'"></a><div class="siteInfo"><p>'+e+"</p></div></div>"}x(b,i+"</div>","notifications_popup.click");
f.push(function(){c=0;m($("#seTabInbox"),$("#seTabNotices"))});c=0},h=function(b){v(b,e+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",o)},b=function(b){0==$("#seContainerHot").length&&v(b,e+"/genuwine?callback=?","jsonp",i)},i=function(b,a){for(var i=$("<div/>"),c='<div id="seContainerHot" style="display:none">',d=0;d<a.length;d++)var f=a[d],h=f.SiteId,e='href="http://'+h+"/q/"+f.Id+'?hq=1"',k=parseInt(f.DisplayScore,10),c=c+('<div class="itemBox" data-sw-type="2" data-sw-name="'+
h+'"><a '+e+' class="seNumAnswer">'+k+'</a><div class="siteInfo"><p><a '+e+">"+i.text(f.Title).html()+'</a></p><a href="http://'+h+'" class="siteLink">'+h+"</a></div></div>");x(b,c+"</div>")},h=function(b){v(b,e+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",o)},o=function(b,a){for(var i='<div id="seContainerSites" style="display:none">',c=0;c<a.length;c++)var d=a[c],f=d.Name,h='href="http://'+d.Id+'?as=1"',i=i+('<div class="itemBox" data-sw-type="3" data-sw-name="'+
d.Id+'"><a '+h+' class="siteFavicon"><img src="'+d.FaviconUrl+'" alt="'+f+'"></a><div class="siteInfo"><p><a '+h+">"+f+"</a></p><a "+h+' class="siteLink">'+d.Description+"</a></div></div>");x(b,i+"</div>")},p=function(b){-1!=d&&(0==$("#seContainerInbox").length||0<d)&&u(b)},u=function(b){v(b,"/inbox/genuwine","json",w,!0)},w=function(b,a){for(var i='<div id="seContainerInbox" style="display:none">',c=0;c<a.length;c++){var h=a[c],e='href="'+h.Url+'"',k='title="'+h.CreationDate+'"',o=h.Count,j=h.IsNew?
" itemBoxNew":"",l=h.hasOwnProperty("ItemType")?' data-type="'+h.ItemType.toString()+'"':"";null!=h.SiteId&&(l=l+' data-sw-type="7" data-sw-site="'+h.SiteId.toString()+'"');i+='<div class="itemBox'+j+'"'+l+"><a "+e+' class="siteLinkFavicon"><img src="'+h.FaviconUrl+'" alt="'+h.SiteUrl+'"></a><div class="siteInfo">';"careers message"==h.Type?i+="<p><a "+e+' style="font-weight:normal"><b>'+h.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":"invitation"==h.Type?(k=h.Count,i+=
"<p><a "+e+' style="font-weight:normal"><b>'+k+"</b> "+("invitation"+(1<k?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):i+="<p>"+(1<o?o+" ":"")+h.Type+" on <a "+e+" "+k+">"+h.Title+"</a></p>";i+='<p class="inboxSummary">'+(h.Summary||"")+"</p></div></div>"}g&&5<=a.length&&(i+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+g+'?tab=inbox">more inbox messages &hellip;</a></div></div>');x(b,i+"</div>","inbox_popup.click");f.push(function(){d=
0;m($("#seTabInbox"),$("#seTabNotices"))});d=0},r={},v=function(b,a,i,c,d){var h=b.attr("id");if(r[h])t();else{r[h]=!0;t();var f=function(){r[h]=!1;StackExchange.helpers.showErrorMessage($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:a,dataType:i,success:function(a){r[h]=!1;a&&(0<a.length||d)?c(b,a):f()},error:f,complete:function(){$("#seWrapper .seContainer").removeSpinner()}})}},x=function(b,a,i){a=$(a);a.prependTo("#seWrapper .seContainer");
a.find(".itemBox a, .noticeBox a").click(function(){var b=$(this).closest(".itemBox, .noticeBox");i&&i.length&&StackExchange.gps.track(i,{item_type:b.data("type")});var a=b.data("sw-type"),c=b.data("sw-site"),b=b.data("sw-name");if(null!=a&&(null!=c||null!=b))StackExchange.gps.track("site.switch",c?{item_type:a,target_site:c}:{item_type:a,target_name:b})});b.hasClass("seCurrent")&&a.fadeIn("fast")},t=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner("#seWrapper .seContainer",
{position:"relative",left:"10px",top:"10px"})},s=function(){var b=$("#portalLink .unreadCount"),a=b.css("margin-top");b.css({marginTop:-20,opacity:0}).show().animate({marginTop:a,opacity:1},2E3)},q=function(){var b=$("#portalLink .unreadCount"),a=b.data("events");(!a||!a.click)&&0<b.length&&b.click(n)};return{isVisible:j,click:n,setUnreadCount:function(b){d=b;var a=$("#seTabInbox");0<b?($("#portalLink .unreadCount").text(d),a.hasClass("seCurrent")&&j()&&u(a),s()):$("#portalLink .unreadCount").text("").hide();
$("#portalLink .unreadCount").removeClass("newNotices");q()},animateInbox:s,init:function(b,a,i){var h=$(".genu");1<=h.length&&(h[0].onclick=null);g=b;e=h.attr("href");d=a;c=i;!(0<d)&&StackExchange.options.site.isNoticesTabEnabled&&(99<c&&(c=99),0<c&&$("#portalLink .unreadCount").text(""+c).addClass("newNotices"),q());h.removeAttr("href").click(n);q();$(document).click(function(b){j()&&!$.contains($("#portalLink")[0],b.target)&&n()})}}}();
StackExchange.topbar=function(){function g(b){StackExchange.options.enableLogging&&console.log("topbar: "+b)}function e(){for(var b=0;b<l.length;b++)l[b].toggle(!1)}var d=klass({name:"",url:"",cssClass:"",button:null,$dialog:null,$loadingPlaceholder:null,$preloadedDialog:null,hasRead:!1}).statics({$corral:$(".js-topbar-dialog-corral")}).methods({isLoading:function(){return null!=this.$loadingPlaceholder},isLoaded:function(){return null!=this.$dialog},isVisible:function(){var b=this.$dialog||this.$loadingPlaceholder;
return null!=b&&b.is(":visible")},toggle:function(b,a){if("boolean"!=typeof b)throw Error("showOrHide is a required parameter");if(!b){if(this.isLoading()){this.showOrHide(!1);return}if(!this.isLoaded())return}this.isLoaded()||this.isLoading()?(!b&&!a&&this.hasRead&&this.markAsRead(),this.showOrHide(b)):this.$preloadedDialog?this.loadChildContent():this.loadDialog();if(b)for(var c=0;c<l.length;c++)this.button!=l[c]&&l[c].toggle(!1,a)},showOrHide:function(b){var a=this.$dialog||this.$loadingPlaceholder;
a&&a.toggle(b);b&&this.$dialog&&(this.hasRead=!0)},loadChildContent:function(){var b=this.$preloadedDialog.find(".child-content");this.$dialog=this.$preloadedDialog;this.positionDialogUnderButton();this.showOrHide(!0);if(this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(b);var a=this;this.fetchUrl().done(function(c){b.html(c);a.afterLoad()})}},loadDialog:function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder().appendTo(d.$corral);this.positionDialogUnderButton();
this.showOrHide(!0);var b=this;this.fetchUrl().done(function(a){b.$dialog=$(a).appendTo(d.$corral);b.afterLoad();a=b.$loadingPlaceholder.is(":visible");b.positionDialogUnderButton();b.showOrHide(a)}).always(function(){b.$loadingPlaceholder.remove();b.$loadingPlaceholder=null})}},afterLoad:function(){StackExchange.gps.bindTrackClicks(this.$dialog)},getLoadingPlaceholder:function(){var b=['<div class="topbar-dialog ',this.cssClass,' dno">','<div class="header">',$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),
"</div>",'<div class="modal-content"/>',"</div>"];return $(b.join(""))},positionDialogUnderButton:function(){var b=this.button.$button.outerHeight(),a=this.button.$button.offset().left-l[0].$button.offset().left;(this.$dialog||this.$loadingPlaceholder).css({top:b,left:a})},fetchUrl:function(){g("fetching "+this.url);return $.ajax({type:"GET",url:this.url,dataType:"html"})},markAsRead:function(){this.button.markAsRead();this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},
handleRealtimeMessage:function(){this.clearLoadedDialog()},clearLoadedDialog:function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)}}),c=klass({name:"",selector:"",dialog:null,$button:null,onClass:"",unreadCountPrefix:"",queuedUnreadCount:0,showsOnMouseOver:!1}).methods({initialize:function(){this.dialog.name=name;this.dialog.button=this;h.push(this.dialog);var b=this;this.$button=$(this.selector);this.$button.click(function(){b.toggle();return!1});this.showsOnMouseOver&&
this.$button.mouseover(function(){b.showOnMouseOver()});this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},toggle:function(b,a){b="boolean"==typeof b?b:!this.$button.hasClass(this.onClass);this.$button.toggleClass(this.onClass,b);this.dialog.toggle(b,a)},showOnMouseOver:function(){for(var b=!1,a=0;a<l.length;a++){var c=l[a];if(c!=this&&c.showsOnMouseOver&&c.isOn()){b=!0;break}}b&&this.toggle(!0,!0)},isOn:function(){return this.$button.hasClass(this.onClass)},markAsRead:function(){this.$button.find(".unread-count").fadeOut();
var b=this.$button.data("unread-class");b&&this.$button.removeClass(b);this.dequeuePendingUnreadCount()},dequeuePendingUnreadCount:function(){this.queuedUnreadCount&&(this.setUnreadCount(this.queuedUnreadCount),this.queuedUnreadCount=0,this.dialog.clearLoadedDialog())},setUnreadCount:function(b){void 0!==b&&(0>=b?(this.queuedUnreadCount=0,this.isOn()||this.markAsRead()):0<b&&(this.isOn()?this.queuedUnreadCount=b:(this.$button.find(".unread-count").text(this.unreadCountPrefix+b).fadeIn(),this.addUnreadClass(),
this.dialog.clearLoadedDialog())))},addUnreadClass:function(){var b=this.$button.data("unread-class");b&&this.$button.addClass(b)},handleRealtimeMessage:function(){}}),f=d.extend({url:"/topbar/site-switcher/site-list",cssClass:"siteSwitcher-dialog",$searchItems:null,$pinnedSiteSearchItems:null,isPreloaded:!0,$preloadedDialog:d.$corral.find(".siteSwitcher-dialog")}).methods({afterLoad:function(){this.$dialog.find("#js-site-filter-txt").typeWatch({highlight:!1,wait:250,captureLength:-1,callback:$.proxy(this.filterSites,
this)});this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{title:$(".site-icon",this).attr("title").toLowerCase(),description:$(".site-desc",this).text().toLowerCase(),hostname:$("a",this).first().attr("href"),li:this}});!StackExchange.options.user.isAnonymous&&$(".pinned-site-editor-container").length&&($(".js-found-sites").css({top:$("#your-communities-header").offset().top+$("#your-communities-header").outerHeight()+$("#js-site-search-txt").outerHeight()-28,
width:$("#js-site-search-txt").outerWidth()}),$(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({highlight:!1,wait:100,captureLength:-1,callback:$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({forceListRefresh:$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",
".remove-pinned-site-link",function(){$(this).parent().remove();$("#save-pinned-sites-btn").enable();$("#reset-pinned-sites").show();return!1}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find("#reset-pinned-sites").click($.proxy(this.resetPinnedSites,this)));this.supr()},pinSite:function(){$("#pin-site-btn").disable();var b=$("#js-site-search-txt").val(),a=$.grep(this.$pinnedSiteSearchItems,function(a){return a.sitename===b});if(a.length)if(a=
a[0],-1<$(".pinned-site-link").map(function(b,a){return $(a).data("id")}).toArray().indexOf(a.siteid))$("#pin-site-btn").enable();else{var c=this;$.ajax({type:"GET",url:"/topbar/site-switcher/pin-site",data:{siteId:a.siteid},dataType:"html"}).done(function(b){b=$(b);b.hide();$(".pinned-site-list").append(b);b.fadeIn("slow");$("#js-site-search-txt").val("");$("#save-pinned-sites-btn").enable();c.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again");
$("#pin-site-btn").enable()})}else $("#pin-site-btn").enable()},savePinnedSites:function(){var b=$(".pinned-site-list li .pinned-site-link").map(function(b,a){return $(a).data("id")}).toArray(),a=!$("#reset-pinned-sites").is(":visible")||!b.length;this.toggleSiteListResetLink(!a);$.ajax({type:"POST",url:"/topbar/site-switcher/save-pinned-sites",data:{siteIds:a?[]:b,fkey:StackExchange.options.user.fkey},dataType:"html",traditional:!0}).done($.proxy(function(b){$(".my-sites").html(b);this.cancelSiteListEdits(!1);
$(".pinned-site-list").data("custom-list",!a);StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")});return!1},resetPinnedSites:function(){var b=this;$.ajax({type:"GET",url:"/topbar/site-switcher/default-active-sites",dataType:"html"}).done(function(a){$(".pinned-site-list").html(a);$("#save-pinned-sites-btn").enable();b.toggleSiteListResetLink(!1)}).error(function(){$("#reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")});
return!1},doSearch:function(b,a,c){var a=a.toLowerCase(),d=[];$.each(b,function(b,c){var h={index:b,li:c.li,item:c},f=c.title.indexOf(a);c.title==a?h.priority=1:0==f?h.priority=2:-1<f?h.priority=3:-1<c.description.indexOf(a)?h.priority=4:-1<c.hostname.indexOf(a)&&(h.priority=5);h.priority&&d.push(h)});b=d.sort(function(b,a){return b.priority-a.priority||b.index-a.index});c&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{term:a,numresults:d.length},!1)});return b},
_findSitesToPin:function(b){var a=$(".js-found-sites"),c=this.$pinnedSiteSearchItems;a.empty();if(""===b)a.hide(),$("#pin-site-btn").disable();else if(c=this.doSearch(c,b,!1),c.length){a.show();$("#pin-site-btn").enable();var h=$(".pinned-site-link").map(function(b,a){return $(a).data("id")}).toArray();$.each(c,function(b,c){var d=$('<li class="pinned-site-candidate">'+c.item.sitename+"</li>");-1<h.indexOf(c.item.siteid)?d.addClass("already-pinned-site"):d.click(function(){var b=$(this).text();$("#js-site-search-txt").val(b);
$(".js-found-sites").hide();return!1});d.appendTo(a)})}},findSitesToPin:function(b){if(this.$pinnedSiteSearchItems)this._findSitesToPin(b);else{var a=this;$.ajax({type:"GET",url:"/topbar/site-switcher/all-pinnable-sites",dataType:"json"}).done(function(c){a.$pinnedSiteSearchItems=c;a._findSitesToPin(b)})}},filterSites:function(b){var a=$(".js-other-sites"),c=this.$searchItems;a.empty();""!=b&&(c=this.doSearch(c,b,!0));a.append(c.map(function(b){return this&&this.li||b.li}))},editPinnedSites:function(){$(".header").not("#your-communities-header").css("opacity",
0.2);$(".modal-content").not("#your-communities-section").css("opacity",0.2);$(".my-sites").hide();$(".pinned-site-editor-container").show();$("#edit-pinned-sites").hide();$("#cancel-pinned-sites").show();var b=$(".pinned-site-list");if(""===b.html().trim()){var a=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();b.append('<li style="text-align:center;">'+a+"</li>");$.ajax({type:"GET",url:"/topbar/site-switcher/current-pinned-sites",dataType:"html"}).done(function(a){b.html(a)}).fail(function(){b.showErrorMessage("Something bad happened; please try again")}).always(function(){b.find(".ajax-loader").remove()})}this.toggleSiteListResetLink("true"===
b.data("custom-list").toString().toLowerCase());if(!window.jQuery.ui){var c=this;$.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js",function(){$("<link>").attr({rel:"stylesheet",type:"text/css",media:"all",href:"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/smoothness/jquery-ui.css"}).appendTo("head");$(".sortable").sortable({axis:"y",update:function(){$("#save-pinned-sites-btn").enable();c.toggleSiteListResetLink(!0)}});$(".sortable").disableSelection()})}return!1},
toggleSiteListResetLink:function(b){$("#reset-pinned-sites").toggle(b)},cancelSiteListEdits:function(b){$(".header").not("#your-communities-header").css("opacity",1);$(".modal-content").not("#your-communities-section").css("opacity",1);$(".my-sites").show();$("#edit-pinned-sites").show();$(".pinned-site-editor-container").hide();$("#cancel-pinned-sites").hide();$("#save-pinned-sites-btn").disable();b&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable());
return!1}}),j=c.extend({name:"SiteSwitcher",selector:".js-site-switcher-button",dialog:new f,showsOnMouseOver:!0,onClass:"icon-site-switcher-on"}),f=d.extend({url:"/topbar/inbox",cssClass:"inbox-dialog"}),n=c.extend({name:"Inbox",selector:".js-inbox-button",dialog:new f,showsOnMouseOver:!0}).methods({handleRealtimeMessage:function(b){this.setUnreadCount(b.UnreadInboxCount)}}),f=d.extend({url:"/topbar/achievements",cssClass:"achievements-dialog"}).methods({afterLoad:function(){this.alignRep();this.bindDateGroupToggles();
this.displayUtcTime();this.supr()},alignRep:function(){var b=this.$dialog.find(".js-items .js-faux-column"),a=0;b.filter(".js-rep-change").each(function(){var b=$.trim($(this).text()).length;b>a&&(a=b)});0<a&&b.width(6*a)},bindDateGroupToggles:function(){this.$dialog.find(".js-date-group-toggle").click(function(){var b=$(this),a=b.closest(".js-date-group"),c=a.find(".js-items"),a=a.find(".rep-site-container");b.find(".date-group-toggle").toggleClass("toggle-hidden");c.add(a).fadeToggle("fast")});
this.$dialog.find(".rep-site-container").on("click",function(b){b.stopImmediatePropagation()})},displayUtcTime:function(){var b=this.$dialog,a=function(){var a=new Date;a.setTime(a.getTime()+1E3*StackExchange.options.serverTimeOffsetSec);var c=a.getUTCHours(),a=a.getUTCMinutes();10>c&&(c="0"+c);10>a&&(a="0"+a);b.find(".js-utc-time").text(c+":"+a)};a();setInterval(a,6E4)}}),m=c.extend({name:"Achievements",selector:".js-achievements-button",dialog:new f,unreadCountPrefix:"+",showsOnMouseOver:!0}).methods({handleRealtimeMessage:function(b){0===
(b.UnreadRepCount||0)&&0<b.UnreadNonRepCount?this.addUnreadClass():this.setUnreadCount(b.UnreadRepCount)}}),f=d.extend({cssClass:"help-dialog"}).methods({loadDialog:function(){this.$dialog=$(".js-help-dialog").appendTo(d.$corral);this.positionDialogUnderButton();this.showOrHide(!0)}}),a=c.extend({name:"Help",selector:".js-help-button",dialog:new f}),f=d.extend({url:"/topbar/mod-inbox",cssClass:"modInbox-dialog"}).methods({}),k=c.extend({name:"ModInbox",selector:".js-mod-inbox-button",dialog:new f}),
l=[],h=[];return{init:function(){1.5<=window.devicePixelRatio&&$(".js-avatar-me").attr("src",function(b,a){return a.replace("?s=24","?s=48")});l.push(new j);l.push(new n);l.push(new m);l.push(new a);StackExchange.options.user.isModerator&&l.push(new k);$(document).click(function(b){var a;a:{for(a=0;a<l.length;a++){var c=l[a].$button;if(c&&c[0]==b.target){a=!0;break a}}a=!1}!a&&!$.contains(d.$corral[0],b.target)&&e()})},hideAll:e,handleRealtimeMessage:function(b){var a;if(b&&(a=JSON.parse(b))){g("realtime message - "+
b);for(var c in a)for(b=0;b<l.length;b++)if(c==l[b].name){l[b].handleRealtimeMessage(a[c]);break}}}}}();
StackExchange.notify=function(){function g(a,c){var d=$("#dismissed-messages");d.val(d.val()+"~"+a+(c?" "+c:"")+"~")}function e(a,c){var d=$("#dismissed-messages").val();return!d?!1:RegExp("~"+a+(c?" "+c:"")+"~").test(d)}function d(a,c,d){var h=parseInt($("body").css("margin-top").match(/\d+/)),a=c*h/a;d?$("body:not(.no-message-slide)").animate({marginTop:a+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",a+"px")}var c=0,f=function(a,f){var e=$("#notify-"+a+(f?"-"+f:""));-1==
a?$.cookie("m","0",{expires:90,path:"/"}):-1<a&&$.post("/messages/mark-as-read",{messagetypeid:a,id:f?f:null});g(a,f);c--;e.fadeOut("fast",function(){d(c+1,c,!0);e.remove()})},j=function(a){c++;if(e(a.messageTypeId,a.id))return!1;var d="";a.messageTypeId&&(d=' id="notify-'+a.messageTypeId+(a.id?"-"+a.id:"")+'"');d="<div"+d+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+a.text+"</span>";
if(a.showProfile)var j=encodeURIComponent("/users/"+a.userId+"?tab=badges&sort=recent"),d=d+(" "+('See your <a href="'+("/messages/mark-as-read?messagetypeid="+a.messageTypeId+"&returnurl="+j)+'">profile</a>.'));d=$(d+"</div>");d.find(".notify-close").click(function(){a.close&&a.close();f(a.messageTypeId,a.id)});$("#notify-container").append(d);return!0},n=function(){$("#notify-container div").fadeIn("slow")},m=function(a,c){var d=$('<div class="link-more">').append($("<a>").text(function(a){return 1==
a.numNotifications?"view "+a.numNotifications+" more notification":"view "+a.numNotifications+" more notifications"}({numNotifications:a})));$("#notify-container").append(d);d.click(function(){d.detach();for(var a=0;a<c.length;a++)j(c[a]);n()})};return{showMessages:function(a,f){for(var e=0,h=f?2:a.length,b=0;b<h&&b<a.length;b++)j(a[b])&&e++;d(c,e,!1);n();f&&e<a.length&&(h=a.slice(h),m(a.length-e,h))},show:function(a,c){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");
j({text:a,messageTypeId:c});n()},close:f,getMessageText:function(a){return $("#notify-"+a+" .notify-text").text()}}}();function moveScroller(){var g=$("#scroller").width(),e=function(){var d=$(window).scrollTop(),c=$("#scroller-anchor").offset().top,f=$("#scroller");d>c?f.height()>$(window).height()?f.css({position:"fixed",top:"",bottom:"0px",width:g}):f.css({position:"fixed",top:"0px",bottom:"",width:g}):d<=c&&f.css({position:"relative",top:"",bottom:""})};$(window).scroll(e).resize(e);e()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var g=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),g=!0);var e;if(e=!$(this).hasClass("prettyprint")){e=$(this);var d=$("#prettify-lang").text();""!=d?(e.addClass(d),e=!0):e=!1}e&&($(this).addClass("prettyprint"),g=!0)});g&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(g){function e(a,c){var e=$("<div id='"+g.id+"'/>").html(c),h=$("<div />").css({overflow:"hidden",position:"absolute","z-index":1002,width:1,height:1,top:0,left:0}).append(e).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(e.attr("id"));var b=g.showing(a,e),i={left:b.left};b.hasOwnProperty("bottom")?(i.bottom=b.bottom,i.top="auto"):i.top=b.top;var j;g.shown&&(j=function(){g.shown(a,e)});h.css(i).animate({height:e.outerHeight()+8,width:e.outerWidth()+8},
300,j);d=function(){h.stop().remove();g.removed&&g.removed(a,e);d=f=null};f=StackExchange.helpers.DelayedReaction(d,5);i=h;b.additional&&(i=i.add(b.additional));i.hover(f.cancel,f.trigger)}var d,c,f,j,n={},m=StackExchange.helpers.DelayedReaction(function(a,c){if(!j&&a){var f;g.cache&&"c_"+a in n?f=$.Deferred().resolve(n["c_"+a]):(f=$.ajax({type:"GET",url:a,dataType:"html"}),g.cache&&f.done(function(c){n["c_"+a]=c}));f.done(function(a){d&&d();""!=a&&e(c,a)})}},500);$(document).delegate(g.selector,
{mouseenter:function(){if(f&&this===c)f.cancel();else return c=this,m.trigger(g.getUrl(this),this),j=!1},mouseleave:function(){j=!0;m.cancel();f&&f.trigger()}})};
StackExchange.tagmenu=function(){function g(c){var c=$(c),d=c.attr("href");if(!d||"/"!=d.charAt(0))return null;d=c.text();if(-1<d.indexOf("*"))return null;c.attr("title","");return"/tags/"+encodeURIComponent(d)+"/subscriber-info"}function e(c,d){var e=$(c),g=e.offset(),a=e.outerHeight(),e={left:g.left},k=g.top+a,a=g.left+d.outerWidth();d.height()+k>$(window).height()+$(window).scrollTop()?e.bottom=$(window).height()-g.top-8:e.top=k;g=Math.max(1024,$(window).width());a>g&&(e.left-=a-g);return e}var d,
c;return{init:function(f){d=f;c||(c=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag,.no-tag-menu)",id:"tag-menu",getUrl:g,showing:e,shown:function(c,f){d&&d(f,$(c).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function g(c,d){var e=$(c).find("img:first"),a=e.offset(),g=e.height(),l=e.width(),h=Math.max(l,g),b=64*g/h,h=64*l/h,i=d.find("img:first").css({width:h,height:b}),o=i.offset();i.css("visibility","hidden");f=e.clone().css({position:"absolute",zIndex:1003,left:a.left,top:a.top,width:l,height:g}).appendTo("body");var p=function(){i[0].complete?(i.css("visibility","visible"),f.fadeOutAndRemove()):setTimeout(p,100)};f.animate({width:h,height:b,top:a.top+o.top},200,p);
d.trigger("userhovershowing",c);return{top:a.top,left:a.left-o.left,additional:f}}function e(c,d){d.trigger("userhovershown")}function d(c){$(c).trigger("userhoverremoved");f.remove()}var c,f;return{init:function(){c||(c=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(c){c=/\/users\/([^/]+).*$/.exec($(c).closest(".user-hover").find(".user-details a").attr("href"));return!c?null:"/users/user-info/"+
c[1]},cache:!0,id:"user-menu",showing:g,shown:e,removed:d}))}}}();
StackExchange.chatAd=function(){function g(){var b=$(".question .post-taglist .post-tag");return!b.length?null:b.map(function(b,a){return $(a).text()}).get().join(" ")}function e(b){return 10>b?"0"+b:b}function d(b){var a=new Date;a.setTime(1E3*b);return[a.getUTCFullYear(),"-",e(a.getUTCMonth()+1),"-",e(a.getUTCDate())," ",e(a.getUTCHours()),":",e(a.getUTCMinutes()),":",e(a.getUTCSeconds()),"Z"].join("")}function c(b){var a=Math.floor((new Date).getTime()/1E3)-b,c=a%60,d=Math.floor(a/60),i=Math.floor(a/
3600);if(1>a)return"just now";if(60>a)return function(b){return 1==b.seconds?b.seconds+" sec ago":b.seconds+" secs ago"}({seconds:c});if(3600>a)return function(b){return 1==b.minutes?b.minutes+" min ago":b.minutes+" mins ago"}({minutes:d});if(86400>a)return function(b){return 1==b.hours?b.hours+" hour ago":b.hours+" hours ago"}({hours:i});a=Math.floor(a/86400);if(1==a)return"yesterday";if(2>=a)return a+" days ago";b=new Date(1E3*b);return function(b){return b.month+" "+b.date+" at "+b.hours+":"+b.minutes}({month:p[b.getMonth()],
date:b.getDate(),hours:b.getHours(),minutes:e(b.getMinutes())})}function f(b){var a=$("<div />");a.text(b);return a.html().replace('"',"&quot;")}function j(){$.get(h,null,function(b,a,c){k(b,a,c)})}function n(b){if("!"==b.charAt(0)){b=b.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(b))var a=/\?/.test(b)?"&":"?",b=b+(a+"g&s=32");return b}return"https://www.gravatar.com/avatar/"+b+"?s=23&d=identicon&r=PG"}function m(b){for(var a=$('<div class="ad502-users" />'),d=0;d<b.length&&7>d;d++){var i=
b[d],h=i.name;i.lastPost&&(h+=": "+c(i.lastPost));var f=$('<a href="'+(l+"/users/"+i.id)+'" />');$("<img height='23' width='23' />").attr("title",h).attr("src",n(i.emailhash)).appendTo(f);a.append(f)}return a}function a(b){var a=b.user;return(b=b.userid)?'<a href="'+l+"/users/"+b+'">'+f(a)+"</a>":f(a)}function k(h){var e=$("#ad502-rooms");if(!h.error){e.html("");for(var g=h.rooms,k=0;k<g.length&&2>k;k++){var p=g[k],n=l+"/rooms/"+p.id,s=$('<div class="ad502-room"></div>');s.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+
f(p.name)+'"><a href="'+n+'">'+f(p.name)+"</a></span></h3>"));p.messages&&0<p.messages.length&&s.append($('<span title="'+d(p.lastPost)+'" class="ad502-last-message">'+c(p.lastPost)+" - "+a(p.messages[0])+"</span><br>"));p.singleImage?s.append($('<div class="ad502-users"><img src="'+l+"/rooms/users/"+p.id+'.jpeg" /></div>')):s.append(m(p.users));e.append(s)}1<h.activeUsers?$("#h-chat-link").text(h.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",
function(b){return 1==b.users&&1==b.rooms?b.users+" user active in "+b.rooms+" room the last 60 minutes":1==b.users?b.users+" user active in "+b.rooms+" rooms the last 60 minutes":1==b.rooms?b.users+" users active in "+b.rooms+" room the last 60 minutes":b.users+" users active in "+b.rooms+" rooms the last 60 minutes"}({users:h.activeUsers,rooms:h.activeRooms}))}b<=o&&window.setTimeout(j,1E3*b);b+=i}var l,h,b=180,i=30,o=480,p="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");/^\/questions\/\d+/i.test(window.location.pathname)&&
(o=0);return{init:function(b){l=b.chatUrl;h=b.reloadUrl;if(b.tagBased){var a=g();if(!a)return;h+=(/\?/.test(h)?"&":"?")+"tags="+encodeURIComponent(a)}null===b.preloadData?j():k(b.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var g={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105\u0250\u1d44\u1d9b":"a","\u00e6\u01e3\u01fd\u1d02\u1d46":"ae","\u00e7\u0107\u010d\u0109":"c","\u0111\u018d\u00f0\u00d0":"d","\u00e8\u00e9\u00ea\u00eb\u0119\u01dd\u1d08\u1d4c":"e","\u214e":"f","\u011f\u011d\u1d77":"g","\u0125\u0265\u02ae\u1da3":"h","\u00ec\u00ed\u00ee\u00ef\u0131\u1d09\u1d4e":"i","\u0135":"j","\u029e":"k","\u0142":"l","\u026f\u0270\u1d5a\u1dad\u1d1f":"m","\u00f1\u0144":"n","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o",
"\u0153\u0276\u1d14":"oe","\u0159\u0279\u027a\u027b\u02b4\u02b5":"r","\u015b\u015f\u0161\u015d":"s","\u00df":"ss","\u0287":"t","\u00de":"th","\u00f9\u00fa\u00fb\u00fc\u016d\u016f":"u","\u028c\u1dba":"v","\u028d":"w","\u00fd\u0178\u00ff\u028e":"y","\u017c\u017a\u017e":"z"};return function(e){for(var d in g)g.hasOwnProperty(d)&&(e=e.replace(RegExp("["+d+"]","g"),g[d]));return e}}();
function sanitizeAndSplitTags(g,e){for(var g=$.trim(g).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),d=g.split(/[\s|,;]+/),c=[],f=0;f<d.length;f++){var j=d[f].toLowerCase();StackExchange.options.site.nonAsciiTags||(j=StackExchange.helpers.noDiacritics(j));j=j.replace(/_/g,"-");j=j.replace(RegExp("[^a-z0-9.#+"+(e?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,\u00aa,\u00b5,\u00ba,\u00c0-\u00d6,\u00d8-\u00f6,\u00f8-\u02c1,\u02c6-\u02d1,\u02e0-\u02e4,\u02ec,\u02ee,\u0370-\u0374,\u0376-\u0377,\u037a-\u037d,\u0386,\u0388-\u038a,\u038c,\u038e-\u03a1,\u03a3-\u03f5,\u03f7-\u0481,\u048a-\u0523,\u0531-\u0556,\u0559,\u0561-\u0587,\u05d0-\u05ea,\u05f0-\u05f2,\u0621-\u064a,\u0660-\u0669,\u066e-\u066f,\u0671-\u06d3,\u06d5,\u06e5-\u06e6,\u06ee-\u06fc,\u06ff,\u0710,\u0712-\u072f,\u074d-\u07a5,\u07b1,\u07c0-\u07ea,\u07f4-\u07f5,\u07fa,\u0904-\u0939,\u093d,\u0950,\u0958-\u0961,\u0966-\u096f,\u0971-\u0972,\u097b-\u097f,\u0985-\u098c,\u098f-\u0990,\u0993-\u09a8,\u09aa-\u09b0,\u09b2,\u09b6-\u09b9,\u09bd,\u09ce,\u09dc-\u09dd,\u09df-\u09e1,\u09e6-\u09f1,\u0a05-\u0a0a,\u0a0f-\u0a10,\u0a13-\u0a28,\u0a2a-\u0a30,\u0a32-\u0a33,\u0a35-\u0a36,\u0a38-\u0a39,\u0a59-\u0a5c,\u0a5e,\u0a66-\u0a6f,\u0a72-\u0a74,\u0a85-\u0a8d,\u0a8f-\u0a91,\u0a93-\u0aa8,\u0aaa-\u0ab0,\u0ab2-\u0ab3,\u0ab5-\u0ab9,\u0abd,\u0ad0,\u0ae0-\u0ae1,\u0ae6-\u0aef,\u0b05-\u0b0c,\u0b0f-\u0b10,\u0b13-\u0b28,\u0b2a-\u0b30,\u0b32-\u0b33,\u0b35-\u0b39,\u0b3d,\u0b5c-\u0b5d,\u0b5f-\u0b61,\u0b66-\u0b6f,\u0b71,\u0b83,\u0b85-\u0b8a,\u0b8e-\u0b90,\u0b92-\u0b95,\u0b99-\u0b9a,\u0b9c,\u0b9e-\u0b9f,\u0ba3-\u0ba4,\u0ba8-\u0baa,\u0bae-\u0bb9,\u0bd0,\u0be6-\u0bef,\u0c05-\u0c0c,\u0c0e-\u0c10,\u0c12-\u0c28,\u0c2a-\u0c33,\u0c35-\u0c39,\u0c3d,\u0c58-\u0c59,\u0c60-\u0c61,\u0c66-\u0c6f,\u0c85-\u0c8c,\u0c8e-\u0c90,\u0c92-\u0ca8,\u0caa-\u0cb3,\u0cb5-\u0cb9,\u0cbd,\u0cde,\u0ce0-\u0ce1,\u0ce6-\u0cef,\u0d05-\u0d0c,\u0d0e-\u0d10,\u0d12-\u0d28,\u0d2a-\u0d39,\u0d3d,\u0d60-\u0d61,\u0d66-\u0d6f,\u0d7a-\u0d7f,\u0d85-\u0d96,\u0d9a-\u0db1,\u0db3-\u0dbb,\u0dbd,\u0dc0-\u0dc6,\u0e01-\u0e30,\u0e32-\u0e33,\u0e40-\u0e46,\u0e50-\u0e59,\u0e81-\u0e82,\u0e84,\u0e87-\u0e88,\u0e8a,\u0e8d,\u0e94-\u0e97,\u0e99-\u0e9f,\u0ea1-\u0ea3,\u0ea5,\u0ea7,\u0eaa-\u0eab,\u0ead-\u0eb0,\u0eb2-\u0eb3,\u0ebd,\u0ec0-\u0ec4,\u0ec6,\u0ed0-\u0ed9,\u0edc-\u0edd,\u0f00,\u0f20-\u0f29,\u0f40-\u0f47,\u0f49-\u0f6c,\u0f88-\u0f8b,\u1000-\u102a,\u103f-\u1049,\u1050-\u1055,\u105a-\u105d,\u1061,\u1065-\u1066,\u106e-\u1070,\u1075-\u1081,\u108e,\u1090-\u1099,\u10a0-\u10c5,\u10d0-\u10fa,\u10fc,\u1100-\u1159,\u115f-\u11a2,\u11a8-\u11f9,\u1200-\u1248,\u124a-\u124d,\u1250-\u1256,\u1258,\u125a-\u125d,\u1260-\u1288,\u128a-\u128d,\u1290-\u12b0,\u12b2-\u12b5,\u12b8-\u12be,\u12c0,\u12c2-\u12c5,\u12c8-\u12d6,\u12d8-\u1310,\u1312-\u1315,\u1318-\u135a,\u1380-\u138f,\u13a0-\u13f4,\u1401-\u166c,\u166f-\u1676,\u1681-\u169a,\u16a0-\u16ea,\u1700-\u170c,\u170e-\u1711,\u1720-\u1731,\u1740-\u1751,\u1760-\u176c,\u176e-\u1770,\u1780-\u17b3,\u17d7,\u17dc,\u17e0-\u17e9,\u1810-\u1819,\u1820-\u1877,\u1880-\u18a8,\u18aa,\u1900-\u191c,\u1946-\u196d,\u1970-\u1974,\u1980-\u19a9,\u19c1-\u19c7,\u19d0-\u19d9,\u1a00-\u1a16,\u1b05-\u1b33,\u1b45-\u1b4b,\u1b50-\u1b59,\u1b83-\u1ba0,\u1bae-\u1bb9,\u1c00-\u1c23,\u1c40-\u1c49,\u1c4d-\u1c7d,\u1d00-\u1dbf,\u1e00-\u1f15,\u1f18-\u1f1d,\u1f20-\u1f45,\u1f48-\u1f4d,\u1f50-\u1f57,\u1f59,\u1f5b,\u1f5d,\u1f5f-\u1f7d,\u1f80-\u1fb4,\u1fb6-\u1fbc,\u1fbe,\u1fc2-\u1fc4,\u1fc6-\u1fcc,\u1fd0-\u1fd3,\u1fd6-\u1fdb,\u1fe0-\u1fec,\u1ff2-\u1ff4,\u1ff6-\u1ffc,\u203f-\u2040,\u2054,\u2071,\u207f,\u2090-\u2094,\u2102,\u2107,\u210a-\u2113,\u2115,\u2119-\u211d,\u2124,\u2126,\u2128,\u212a-\u212d,\u212f-\u2139,\u213c-\u213f,\u2145-\u2149,\u214e,\u2183-\u2184,\u2c00-\u2c2e,\u2c30-\u2c5e,\u2c60-\u2c6f,\u2c71-\u2c7d,\u2c80-\u2ce4,\u2d00-\u2d25,\u2d30-\u2d65,\u2d6f,\u2d80-\u2d96,\u2da0-\u2da6,\u2da8-\u2dae,\u2db0-\u2db6,\u2db8-\u2dbe,\u2dc0-\u2dc6,\u2dc8-\u2dce,\u2dd0-\u2dd6,\u2dd8-\u2dde,\u2e2f,\u3005-\u3006,\u3031-\u3035,\u303b-\u303c,\u3041-\u3096,\u309d-\u309f,\u30a1-\u30fa,\u30fc-\u30ff,\u3105-\u312d,\u3131-\u318e,\u31a0-\u31b7,\u31f0-\u31ff,\u3400-\u4db5,\u4e00-\u9fc3,\ua000-\ua48c,\ua500-\ua60c,\ua610-\ua62b,\ua640-\ua65f,\ua662-\ua66e,\ua67f-\ua697,\ua717-\ua71f,\ua722-\ua788,\ua78b-\ua78c,\ua7fb-\ua801,\ua803-\ua805,\ua807-\ua80a,\ua80c-\ua822,\ua840-\ua873,\ua882-\ua8b3,\ua8d0-\ua8d9,\ua900-\ua925,\ua930-\ua946,\uaa00-\uaa28,\uaa40-\uaa42,\uaa44-\uaa4b,\uaa50-\uaa59,\uac00-\ud7a3,\uf900-\ufa2d,\ufa30-\ufa6a,\ufa70-\ufad9,\ufb00-\ufb06,\ufb13-\ufb17,\ufb1d,\ufb1f-\ufb28,\ufb2a-\ufb36,\ufb38-\ufb3c,\ufb3e,\ufb40-\ufb41,\ufb43-\ufb44,\ufb46-\ufbb1,\ufbd3-\ufd3d,\ufd50-\ufd8f,\ufd92-\ufdc7,\ufdf0-\ufdfb,\ufe33-\ufe34,\ufe4d-\ufe4f,\ufe70-\ufe74,\ufe76-\ufefc,\uff10-\uff19,\uff21-\uff3a,\uff3f,\uff41-\uff5a,\uff66-\uffbe,\uffc2-\uffc7,\uffca-\uffcf,\uffd2-\uffd7,\uffda-\uffdc":
"")+"-]","g"),"");j=j.replace(/^[#+-]+/,"");j=j.replace(/[.-]+$/,"");0<j.length&&-1==$.inArray(j,c)&&"or"!=j&&"and"!=j&&c.push(j)}return c}
StackExchange.question=function(){function g(){$(window).off("hashchange.highlightDestination").on("hashchange.highlightDestination",function(){var c=window.location.href;0>c.indexOf("#")||(c=c.match(/#(\d+|comment(\d+)_(\d+))/i))&&(c[2]?a(c[2],c[3]):k($(".answer[data-answerid="+c[1]+"]")))}).trigger("hashchange.highlightDestination")}var e=function(a,b,c,d,f,e){return $("<a>",{id:"share-"+d+"-"+a,"class":"share-"+d,title:b?"share link to this question on "+c:"share link to this answer on "+c,text:f,
"data-svc":e})},d=function(a,b){var c=null!=a;a||(a=$("div.question div.post-menu a.short-link"));var d=a.closest(".post-menu, .help-menu");if(a.hasClass("share-link"))d.find(".close-share-tip").click();else{a.addClass("share-link");var f=a.attr("id").substring(10),g=a.closest(".col-section").length?"section":a.closest("div.question").length?"question":"answer",j=a.closest("div.question").length,k="http://"+document.location.host+a.attr("href"),g=("answer"==g?"Answer:":"")+$("#question-header a").text(),
l='<div class="share-tip" style="display:none">'+(j?"share a link to this question":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+k+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(l+=$("<div>",{id:"share-icons"}).append(e(f,j,"Google+","gp","share [g+]",1)).append(e(f,j,"Facebook","fb","share [fb]",2)).append(e(f,j,"Twitter","tw","share [tw]",3)).prop("outerHTML"));StackExchange.gps.track("share.show",{location:j?1:2});var m=$(l+'<a class="close-share-tip" style="float:right">close</a></div>');
StackExchange.options.site.enableSocialMediaInSharePopup&&(k=encodeURIComponent(k),g=encodeURIComponent(g),StackExchange.share.gplus($("#share-gp-"+f,m),k,g,"2"),StackExchange.share.facebook($("#share-fb-"+f,m),k,g,"2"),StackExchange.share.twitter($("#share-tw-"+f,m),k,g,"2"),$("#share-icons a",m).click(function(){m.fadeOutAndRemove();StackExchange.gps.track("share.click",{location:j?1:2,service:$(this).data("svc")})}));b&&m.find(".close-share-tip").before('<a id="link-post-'+f+'" style="float:left">cite</a>');
m.appendTo(d).fadeIn(c?"fast":0).bind("removing",function(){a.removeClass("share-link")}).find(".close-share-tip").click(function(){m.fadeOutAndRemove()}).end().find("input[type=text]").select()}},c=function(a){var b=$("#post-form h2:first"),c=b.wrap("<div />").parent(),d=c.wrap("<div />").parent(),f=$("<div />").prependTo(d),e=d.height(),g=$("<div />"),a=$(a),j=parseInt(b.css("margin-bottom")),k=$("#content"),l=$("#wmd-input").outerWidth(),m=k.offset().left>b.offset().left-5&&"visible"!=k.css("overflow-x");
g.css({height:0,overflowY:"hidden"}).appendTo(c).append(a);d.css({height:e,position:"relative"});c.css({position:"absolute",bottom:-j,width:l});f.addClass("answer-help-background").css({position:"absolute",bottom:-j,height:0,width:l});m&&(f.css("left",0),c.animate({paddingLeft:5},1E3));g.animate({height:a.height()+j+10},1E3);f.animate({height:a.height()+j+10+e},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(c).fadeIn(1E3).find("a").one("click",function(a){var d=
$(this).parent();setTimeout(function(){d.remove()},1);g.animate({height:0},1E3,function(){g.add(f).remove();b.unwrap().unwrap()});f.animate({height:0},1E3);m&&c.animate({paddingLeft:0},1E3);a.preventDefault()})},f=function(){$.get("/posts/answer-help").then(c)},j,n,m,a=function(a,b){var c="#comment-"+a,d=$(c);d.length?k(d):StackExchange.comments.loadAll($("#comments-link-"+b)).done(function(){k($(c))})},k=function(a){var b=m;a.css({backgroundColor:j}).animate({backgroundColor:b},2E3,"linear",function(){$(this).css("background-color",
"")});a.is(".comment")&&a[0].scrollIntoView(!0)},l=function(a){a=a||{};$(".post-menu a.short-link").live("click",function(b){if(!b.ctrlKey&&!b.metaKey)return d($(this),a.showCitation),!1})};return{initTitleSearch:function(a,b,c){var d=document.title,f=0,e,g;a.attr("autocomplete","off");var j=function(j){var k=a.val();if(!(""==k||k==e&&!0!==j||StackExchange.options.site.newTitleSearchBoxEnabled&&0<$(".title-float-selected:visible").length)){for(var l=k.split(" "),m=0,n=0;n<l.length;n++)0<$.trim(l[n]).length&&
m++;l=(new Date).getTime();n=(l-f)/1E3;!0!==j&&(3>m||5>n)&&!a.hasClass("edit-field-overlayed")||(f=l,e=k,c&&(document.title=k?k+" - "+c:d),b.empty(),StackExchange.helpers.addSpinner(b),g&&g.fadeOutAndRemove(),$.ajax({url:"/search/titles",dataType:"json",data:{title:k},success:function(a){a&&(StackExchange.ifUsing("postValidation",function(){if(a.notification){var c=StackExchange.postValidation.getSidebarPopupOptions();c.type="info";g=StackExchange.helpers.showMessage(b,a.notification,c)}}),a.content&&
(b.html(a.content),setTimeout(function(){b.find(".answer-link a").attr("target","_blank")},1)))},complete:function(){StackExchange.helpers.removeSpinner(b)}}))}},k=!1;b.mouseenter(function(){k=!0}).mouseleave(function(){k=!1});a.keyup(j).blur(function(){var a=function(){f=0;j()};if(k)b.one("mouseleave",a);else a()});return function(b){f=0;j(b)}},showShareTip:d,getQuestionId:function(a){a=(a?a.closest(".question"):$(".question")).data("questionid");if(!a)throw Error("getQuestionId could not find an id");
return a},initShareLinks:l,canViewVoteCounts:function(){return n},init:function(a){n=a.canViewVoteCounts;StackExchange.question.fullInit?StackExchange.question.fullInit(a):StackExchange.question.bindAnonymousVoteDisclaimers();StackExchange.comments.init({autoShowCommentHelp:a.autoShowCommentHelp});l(a);if(a.showAnswerHelp)$("#wmd-input").one("focus",f);a.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});
m=a.backgroundColor;j=a.highlightColor;g()}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function g(e){var d=$(this),c=d.closest("div.vote"),f=d.prop("className"),g=/vote-up/.test(f),n=/vote-down/.test(f),m=/star/.test(f),f=d.closest(".answer").length;e.preventDefault();if(g||n)if(e=c.find("input").val(),StackExchange.options.isMobile)StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+e+"?voteTypeId="+(g?2:3)),g="Thank you for your feedback.<br />"+(f?function(a){return"Please "+a.startAnchor+"log in or register"+
a.endAnchor+" to vote for this answer."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}):function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to vote for this question."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"})),StackExchange.helpers.showMessage(d,g,{type:"info",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}});else{if(d="anon-vote-popup-"+e,!c.is(":working")&&
!$("."+d).length){c.data("working",!0);$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeMessages();var a=$('<div class="anon-vote-popup popup">Sending feedback&nbsp;</div>').addClass(d).addSpinner();a.appendTo("body").center().fadeIn("fast");StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show")});$.ajax({type:"POST",url:"/posts/popup/anon-vote/"+e+"?voteTypeId="+(g?2:3),dataType:"html",success:function(c){a.html(c)},error:function(){a.remove()},complete:function(){c.data("working",
!1)}})}}else m&&($(".anon-vote-popup").fadeOutAndRemove(),g=f?function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to favorite this answer."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}):function(a){return"Please "+a.startAnchor+"log in or register"+a.endAnchor+" to favorite this question."}({startAnchor:'<a href="/users/login?returnurl='+escape(document.location)+'">',endAnchor:"</a>"}),StackExchange.helpers.showMessage(d,
g,{type:"info",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}}))}$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var e=$(this);e.data("bound-anonymous")||(e.data("bound-anonymous",!0),e.click(g))});StackExchange.question.bindFetchAcceptedAnswerDates()};
StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var g=$(this);if(!g.is(":working")){g.working(!0);var e=g.closest(".answer").data("answerid");e?$.get("/posts/"+e+"/accepted-answer-date",function(d){g.attr("title",d)}):g.attr("title","")}})};
StackExchange.comments=function(){function g(c,a){this.postId=c;this.jDiv=a;this.jtBody=a.find(" > table > tbody");this.jCommentsLink=$("#comments-link-"+c)}function e(c){var a=(c.constructor===$?c:$(c)).closest(".question, .answer, div[id^='post-']").find(".comments"),c=a.attr("id").replace(/^comments-/,"");if(j[c])return j[c];a=new g(c,a);return j[c]=a}function d(d){var a=$(this),f=0==a.closest(".question, .answer, div[id^='post-']").find(".comments").find(" > table > tbody").data("remaining-comments-count"),
g=a.hasClass("disabled-link"),h=a.data("rep");f&&a.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(a,"Commenting requires an account with "+h+" reputation",{type:"info",position:{dimissible:!0,my:"left top",at:"right center"}}):c(a.attr("id").replace("comments-link-","")));f&&a.data("reg")&&StackExchange.helpers.showMessage(a,function(a){return"You must have "+a.linkStart+a.rep+" reputation"+a.linkEnd+" to comment"}({rep:h,linkStart:"<a href='/help/privileges/comment'>",
linkEnd:"</a>"}),{type:"info",position:{dimissible:!0,my:"left top",at:"right center"}});(a.data("anon")||a.data("reg"))&&StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show")});g||(d.preventDefault(),e(this).addShow(!1))}function c(c){var a="anon-vote-popup-"+c;if(!$("."+a).length){$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeMessages();var d=$('<div class="anon-vote-popup popup">Loading&nbsp;</div>').addClass(a).addSpinner();d.appendTo("body").center().fadeIn("fast");
$.ajax({type:"POST",url:"/posts/popup/anon-comment/"+c,dataType:"html",success:function(a){d.html(a)},error:function(){d.remove()}})}}function f(){if(0!=$(".question[data-questionid]").length){var c=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var a=$(this),d=a.closest(".answer"),f=d&&d.length?d.data("answerid"):0,d=a.closest(".comment").attr("id").substr(8),f=f?f:c,d="#comment"+d+"_"+f;0<location.href.indexOf("/questions/")?a.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({hash:d})):
a.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({hash:d,pid:f}))})}}var j={},n=function(){};g.prototype={checkDiscussion:n,ensureInput:n,saveEditingComments:n,restoreEditingComments:n,commentsShown:function(){this.jtBody.data("remaining-comments-count",0)},addShow:function(c){var a=this,d=this.loadAllComments().done(function(){a.checkDiscussion()}),f=this.ensureInput();f&&!c&&f.focus();d.done(function(){f&&0<f.length&&a.jCommentsLink.hide()})},ajax:function(c,a,d,f){d&&
!f&&StackExchange.helpers.addSpinner(d,{"margin-left":"10px"});var e=this;return $.ajax(c).fail(function(b){var c=b.responseText;if(!c||0<=c.indexOf("<html"))c=a||"An error occured";StackExchange.helpers.showErrorMessage(d||e.jDiv,c,{"transient":409==b.status});d&&!f&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},showComments:function(c,a){this.saveEditingComments(a);this.jtBody.html(c);this.restoreEditingComments();if(!0==this.jDiv.data("localized")){var d=
this.jtBody.data("addlink-html");this.jCommentsLink.html($("<div/>").html(d).text());this.jtBody.data("addlink-disabled")&&!this.jCommentsLink.hasClass("disabled-link")&&this.jCommentsLink.addClass("disabled-link")}else this.jCommentsLink=$("#comments-link-"+this.postId),this.jCommentsLink.is(":visible")&&!a&&(d=$("#hidden-comments-link-"+this.postId).removeClass("dno").attr("id","comments-link-"+this.postId).show(),d.length&&(this.jCommentsLink.replaceWith(d),this.jCommentsLink=d));"undefined"!=
typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);f();this.commentsShown()},loadAllComments:function(c,a){this.jDiv.removeClass("dno");var d=0==this.jtBody.data("remaining-comments-count");if(!c&&d)return $.Deferred().resolve().promise();var f=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments"+(a||""),dataType:"html"},"An error occurred while fetching comments").done(function(a){f.showComments(a)}).promise()}};return{init:function(c){c=c&&c.post||document;j={};$(c).off("click",
"a[id^='comments-link-']",d).on("click","a[id^='comments-link-']",d);c==document&&f()},loadAll:function(c,a){return e(c).loadAllComments(!0,a)},extendPostUi:function(c){for(var a in c)c.hasOwnProperty(a)&&(g.prototype[a]=c[a])},uiForPost:e}}();
StackExchange.share=function(){function g(d,c,f){window.open(d,c,f)||(window.location.href=d)}function e(d,c,f){var c=c+("="+("undefined"!==typeof f?f:"1")),f=d.indexOf("?"),e=d.indexOf("#");return-1==f?-1==e?d+"?"+c:d.substring(0,e)+"?"+c+d.substring(e):-1==e?d+"&"+c:d.substring(0,e)+"&"+c+d.substring(e)}return{gplus:function(d,c,f,j){c=e(c,"sgp",j);d.click(function(){g("https://plus.google.com/share?url="+c,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(d,
c,f,j){c=e(c,"stw",j);d.click(function(){g("http://twitter.com/share?url="+c+"&ref=twitbtn&text="+f,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(d,c,f,j){c=e(c,"sfb",j);d.click(function(){g("http://www.facebook.com/sharer.php?u="+c+"&ref=fbshare&t="+f,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(g,e){window.tagRenderer||(window.tagRendererRaw=function(d,c,f){var c=c||"",f=f||"a",j="";c||(g&&-1<$.inArray(d,g)?j="required-tag":e&&-1<$.inArray(d,e)&&(j="moderator-tag"));j=$("<"+f+">").addClass("post-tag").addClass(j).text(d);"a"===f.toLowerCase()&&j.attr({rel:"tag",href:c+"/questions/tagged/"+encodeURIComponent(d),title:"show questions tagged '"+d+"'"});return j.outerHTML()},window.tagRenderer=function(d,c,f){return $(tagRendererRaw(d,c,f))})}
function showFadingHelpText(g){g.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var g={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title","wmd-input-42":"#how-to-format"},e=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),d=function(c){return $(c).parent().hasClass("tag-editor")?g["tag-editor"]:g[$(c).attr("id")]};e.focus(function(){var c=d(this);e.each(function(){var f=d(this);f!=c&&$(f).hide()});var f=$(c);f.is(":visible")||showFadingHelpText(f)})}
$.fn.extend({postId:function(){var g=this.first();if(!g.hasClass("answer")||!g.hasClass("question"))g=g.closest(".answer, .question");return parseInt(g.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function g(c){c=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{title:"close this popup (or hit Esc)"})).append(c);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");c.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}
function e(){var c=StackExchange.options.site.name,c=$(['<div style="text-align: left;"><h2 style="margin-bottom: 15px;">',"Subscribe to the "+c+" weekly newsletter",'</h2><p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">',function(c){return"Create an account on "+c.site+c.endAnchor+" or "+c.loginAnchor+"log in"+c.endAnchor+" if you already have one."}({site:c,loginAnchor:'<a href="/users/login?returnurl=/newsletter/signup/redirect">',endAnchor:"</a>"}),'</strong></p><form><label for="newsletter-email-input">Or, send newsletter emails to:</label> ',
$("<input>",{type:"text",id:"newsletter-email-input",maxlength:"100",title:"your email address"}).prop("outerHTML")," ",$("<input>",{type:"submit",id:"newsletter-email-submit",value:"Subcribe"}).prop("outerHtml"),"</form>",$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));c.find("form").submit(function(){var c=$(this),d=c.find("#newsletter-email-input"),e=c.find("#newsletter-email-submit"),g=$.trim(d.val());if(0==g.length)return!1;StackExchange.helpers.addSpinner(c);
$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:g},success:function(a){"confirmed"==a.status&&!a.error?(d.attr("disabled",!0),e.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):"unconfirmed"==a.status&&!a.error?(d.attr("disabled",!0),e.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),
c.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):c.showErrorMessage(a.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){c.showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},
complete:function(){StackExchange.helpers.removeSpinner(c)}});return!1});g(c)}function d(){var c=window.location.pathname.toLowerCase(),d="unknown";"/"==c?d="homepage":"/questions"==c?d="questionlist":0==c.indexOf("/users/edit")?d="userprofile":0==c.indexOf("/questions/tagged/")?d="questionlist_bytag":/^\/questions\/\d+/.test(c)&&(d="questionpage");return d}return{init:function(){StackExchange.using("gps",function(){StackExchange.gps.track("newsletter.show",{newsletter_type:d()},!0)});$("#newsletter-signup").click(function(){var c=
$(this);if(StackExchange.options.user.isAnonymous)return e(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(d){d.url?window.location.href=d.url:"confirmed"==d.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==d.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):
c.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},error:function(){c.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var c=$(window).height(),c=Math.min(600,c-100),c=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',
c,'px;"><iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',c,'" frameborder="0"></iframe></div>'].join("");g(c);return!1})},loader:function(c,d){var c=d||c,e=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",data:{domain:c},success:function(c){$("#newsletter-ad").remove();e.empty().append($(c))},complete:function(){e.attr("class","").attr("style","")}});d||(window.sessionStorage.tNewsletter=c+"-continued")}}}();
(function(g,e,d,c){var f=!("selectionStart"in g("<input type='text' />")[0]);g.fn.caret=function(g,n){var m,a,k=this[0];if("object"===typeof g&&"number"===typeof g.start&&"number"===typeof g.end)m=g.start,a=g.end;else if("number"===typeof g&&"number"===typeof n)m=g,a=n;else if("string"===typeof g)-1<(m=k.value.indexOf(g))?a=m+g[e]:m=null;else if("[object RegExp]"===Object.prototype.toString.call(g)){var l=g.exec(k.value);null!=l&&(m=l.index,a=m+l[0][e])}if("undefined"!=typeof m)return f?(l=this[0].createTextRange(),
l.collapse(!0),l.moveStart("character",m),l.moveEnd("character",a-m),l.select()):(this[0].selectionStart=m,this[0].selectionEnd=a),this[0].focus(),this;if(f)if(a=document.selection,"textarea"!=this[0].tagName.toLowerCase()){l=this.val();m=a[d]()[c]();m.moveEnd("character",l[e]);var h=""==m.text?l[e]:l.lastIndexOf(m.text);m=a[d]()[c]();m.moveStart("character",-l[e]);var b=m.text[e]}else m=a[d](),a=m[c](),a.moveToElementText(this[0]),a.setEndPoint("EndToEnd",m),h=a.text[e]-m.text[e],b=h+m.text[e];else h=
k.selectionStart,b=k.selectionEnd;m=k.value.substring(h,b);return{start:h,end:b,text:m,replace:function(a){return k.value.substring(0,h)+a+k.value.substring(b,k.value[e])}}}})(jQuery,"length","createRange","duplicate");
StackExchange.captcha=function(){return{init:function(g,e){function d(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var c=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;"><div class="popup-close">',$("<a>",{title:"close this popup (or hit Esc)",text:"\u00d7"}).prop("outerHTML"),"</div>",g,"</div>"].join("")),f=c.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");c.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(d);
$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{theme:"clean",lang:StackExchange.options.site.recaptchaAudioLang,custom_translations:{visual_challenge:"Get a visual challenge",audio_challenge:"Get an audio challenge",refresh_btn:"Get a new challenge",instructions_visual:"Type the text:",instructions_audio:"Type what you hear:",help_btn:"Help",play_again:"Play sound again",cant_hear_this:"Download sound as MP3",
incorrect_try_again:"Incorrect. Try again.",image_alt_text:"reCAPTCHA challenge image",privacy_and_terms:"Privacy & Terms"},callback:Recaptcha.focus_response_field});StackExchange.helpers.enableSubmitButton(f);f.submit(function(){StackExchange.helpers.disableSubmitButton(f);f.find('input[type="submit"]').addSpinnerAfter();$.ajax({url:"/captcha",type:"POST",dataType:"json",data:f.serialize(),success:function(c){c.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(f),
f.find(".form-error").html(c.captchaError),Recaptcha.reload()):(d(),e(c))},error:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(f);StackExchange.helpers.showErrorMessage(f,"An error occurred submitting the CAPTCHA")}});return!1})})}}}();
StackExchange.gps=function(){function g(){if(!window.localStorage)return!1;try{window.localStorage["gps-probe"]="1";if("1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(a){return!1}return!0}function e(a,c,d,e){$(a).find(c).each(function(a){$(this).addClass("js-gps-track").data("gps-track",d+"({ position:"+(a+1)+e+" })")})}function d(a){$(a||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var a=$.trim($(this).data("gps-track"));
if(a){for(var b=[],a=a.match(/([a-z._]+)(\([^)]+\))?/ig),c=0;c<a.length;c++){var d=a[c];if(0>d.indexOf("{"))b.push([d,{}]);else{for(var e=d.match(/([a-z._]+)\s*\(\s*\{([^}]+)\}\s*\)/i),d=e[1],e=$.trim(e[2]).match(/[^,]+/ig),g={},h=0;h<e.length;h++){var j=e[h],k=j.indexOf(":"),l=$.trim(j.substr(0,k)),j=$.trim(j.substr(k+1)),k=parseInt(j);g[l]=NaN!=k?k:j}b.push([d,g])}}for(a=0;a<b.length;a++)c=b[a],f(c[0],c[1],!0)}})}function c(b){var c;c=localStorage[k];c=!c?[]:JSON.parse(c);if(0<c.length){for(var d=
(new Date).getTime(),e=[],f=0;f<c.length&&20>e.length;f++){var g=c[f],h=d-g.now;0>h||36E5<h?m(g):e.push(g)}0<e.length?a(e,b):b&&b()}}function f(a,d,e,f){a={evt:a,properties:d||{},now:(new Date).getTime()};n(a);e?f&&f():c(f)}function j(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(a,c){n(c)}),delete StackExchange._gps_track)}function n(a){a&&StackExchange.options&&StackExchange.options.user&&(a.properties&&!a.properties.user_type&&(a.properties.user_type=StackExchange.options.user.user_type),
!a.ab&&StackExchange.options.user.ab&&(a.ab=StackExchange.options.user.ab));var c=localStorage[k];c?(c=JSON.parse(c),c.push(a),c=JSON.stringify(c)):c=JSON.stringify([a]);a="addToPending "+JSON.stringify(a);StackExchange.options.enableLogging&&console.log("gps: "+a);localStorage[k]=c}function m(a){var c=localStorage[k];if(c){for(var c=JSON.parse(c),a=JSON.stringify(a),d=-1,e=0;e<c.length;e++){var f=JSON.stringify(c[e]);if(a==f){d=e;break}}-1!=d&&(c.splice(d,1),0==c.length?localStorage.removeItem(k):
localStorage[k]=JSON.stringify(c))}}function a(a,c){$.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var e=JSON.stringify(a[d]);h[e]&&(a.splice(d,1),d--)}for(d=0;d<a.length;d++)e=JSON.stringify(a[d]),h[e]=!0;d=JSON.stringify(a);StackExchange.options.enableLogging&&console.log("gps: sending "+d);$.ajax({type:"POST",url:"/gps/event",data:d,success:function(){for(var c=0;c<a.length;c++)m(a[c])},complete:function(){for(var d=0;d<a.length;d++){var e=JSON.stringify(a[d]);delete h[e]}c&&c()}})}var k="gps-pending",
l=!1,h={};return{init:function(a){if(l)return!0;l=!0;if(!a||!g())return StackExchange.gps.track=function(a,b,c,d){d&&d()},delete StackExchange._gps_track,!1;j();c();e(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1");e(".question-page",".js-gps-related-questions .spacer","related_questions.click");e(".question-page .post-taglist",".post-tag","question_tags.click",", location:1");e(".question-page #sidebar .tagged",".post-tag",
"question_tags.click",", location:2");d();return!0},track:f,sendPending:c,bindTrackClicks:d}}();
StackExchange.openid=function(){function g(a){a&&StackExchange.gps.track("openid.click",{openid_provider:a,location:n},!0);StackExchange.gps.track("signup.start",{location:"question_page"},!0)}function e(a,c){var e=c.find(".option-extra-fields");e.hide();c.find(".yahoo-button").click(function(){e.hide();d(a,"yahoo")});var f=function(b){var f="."+b+"-option";e.show();e.find("> div:not("+f+")").hide();e.find(f+", .extra-field-container").show();c.find(".extra-field").val("").focus();f=c.find(".extra-field-submit");
f.unbind("click");f.click(function(){d(a,b,c.find(".extra-field").val())})};c.find(".blogger-button").click(function(){f("blogger")});c.find(".aol-button").click(function(){f("aol")})}function d(a,c,d){c=m[c];d&&(c=c.replace("{username}",d));a.find(".use-facebook").val("false");a.find(".manual-openid").val(c);a.find(".submit-openid").click()}function c(a){a.find(".use-facebook").val("true");a.find(".manual-openid").val("");a.find(".submit-openid").click()}function f(a){return function(){StackExchange.using("editor",
function(){StackExchange.cardiologist.ensureDraftSaved(a)})}}function j(a,c,d,e){var b=a.find(".manual-openid").val();a.find(".use-facebook").val();f(function(){var a=(StackExchange.options.site.isChildMeta?StackExchange.options.site.parentUrl:"")+"/users/authenticate?returnurl="+encodeURIComponent(c),a=$('<form method="post" action="'+a+'"></form>');if(b){var f=$('<input type="hidden" name="openid_identifier" />');a.append(f);f.val(b)}else{var f=$('<input type="hidden" name="oauth_version" />'),
g=$('<input type="hidden" name="oauth_server" />');a.append(f);a.append(g);f.val("2.0");g.val("https://www.facebook.com/dialog/oauth")}a.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />");d&&e&&($('<input type="hidden" name="anon_vote_type" />').val(d).appendTo(a),$('<input type="hidden" name="anon_vote_hash" />').val(e).appendTo(a));StackExchange.navPrevention.stop();a.hide().appendTo("body").submit()})()}var n="unknown",m={yahoo:"http://yahoo.com/",google:"https://www.google.com/accounts/o8/id",
aol:"http://openid.aol.com/{username}",blogger:"http://{username}.blogspot.com/"};return{initPostLogin:function(a,k){var l=decodeURIComponent(k);0===l.indexOf("/questions/")&&(n="question_page");"/questions/ask"===l&&(n="question_ask");var h=$(a),b=h.find(".new-login-left"),i=h.find(".new-login-right"),m=b.find(".show-more-options");m.click(function(){m.hide();i.show();return!1});i.find(".hide-more-options").click(function(){m.show();i.hide();return!1});h.removeClass("dno");e(h,i);b.find(".google-login").click(function(){g("Google");
d(h,"google")});b.find(".facebook-login").click(function(){g("Facebook");c(h)});b.find(".stackexchange-login").click(f(function(){g("Stack Exchange");StackExchange.navPrevention.stop();window.location="/users/login#create-account"}));h.find(".submit-openid").click(function(){j(h,l)})},initAnonPopup:function(a,e,f,h,b){var i=decodeURIComponent(e);n=f;a.find(".google-login").click(function(){g("Google");d(a,"google")});a.find(".facebook-login").click(function(){g("Facebook");c(a)});a.find(".stackexchange-login").click(function(){g("Stack Exchange");
window.location="/users/login#create-account"});a.find(".submit-openid").click(function(){j(a,i,h,b)})}}}();