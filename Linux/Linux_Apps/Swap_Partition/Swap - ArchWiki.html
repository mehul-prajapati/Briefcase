<!DOCTYPE html>
<!-- saved from url=(0041)https://wiki.archlinux.org/index.php/swap -->
<html lang="en" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><title>Swap - ArchWiki</title>
<meta name="generator" content="MediaWiki 1.22.14">
<link rel="shortcut icon" href="https://wiki.archlinux.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.archlinux.org/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&feed=atom">
<link rel="stylesheet" href="https://wiki.archlinux.org/load.php?debug=false&lang=en&modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.archlinux&only=styles&skin=archlinux&*">
<!--[if IE 6]><link rel="stylesheet" href="/skins/archlinux/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/archlinux/IE70Fixes.css?303" media="screen" /><![endif]--><style>
.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: archwiki:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}
/* cache key: archwiki:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;-webkit-box-shadow:0 2px 5px 0 #ccc;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(/resources/mediawiki.action/images/green-checkmark.png?2013-12-08T09:10:00Z)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}
/* cache key: archwiki:resourceloader:filter:minify-css:7:344f1a27eec76b02caaf113b58edacec */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{text-decoration:none;color:black}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}
/* cache key: archwiki:resourceloader:filter:minify-css:7:52b1797f70c7e4094dfa4191101944e8 */</style><meta name="ResourceLoaderDynamicStyles" content="">

<script src="./Swap - ArchWiki_files/load.php"></script><script src="./Swap - ArchWiki_files/load(1).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Swap","wgTitle":"Swap","wgCurRevisionId":338263,"wgRevisionId":338263,"wgArticleId":8651,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["File systems"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Swap","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"archlinux","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":
0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: archwiki:resourceloader:filter:minify-js:7:85c90aa16eaeef41f8c16fb94950cfbf */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script src="./Swap - ArchWiki_files/load(2).php"></script>
<script async="" src="./Swap - ArchWiki_files/load(3).php"></script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Swap skin-archlinux action-view">

<div id="archnavbar"><!-- Arch Linux global navigation bar -->
	<div id="archnavbarlogo">
		<p><a id="logo" href="http://www.archlinux.org/"></a></p>
	</div>
	<div id="archnavbarmenu">
		<ul id="archnavbarlist">
			<li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki" class="anb-selected"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li>		</ul>
	</div>
</div><!-- #archnavbar -->

<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Swap</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="https://wiki.archlinux.org/index.php/swap#column-one">navigation</a>, <a href="https://wiki.archlinux.org/index.php/swap#searchInput">search</a></div>

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="float:right; clear:right; width:25%; margin: 0 0 0.5em 0.5em;"><p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p><ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="https://wiki.archlinux.org/index.php/Swap_on_video_ram" title="Swap on video ram">Swap on video ram</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="https://wiki.archlinux.org/index.php/Fstab" title="Fstab">fstab</a></li>
</ul></div>
<p>This page provides an introduction to swap space and paging on GNU/Linux. It covers creation and activation of swap partitions and swap files.
</p><p>From <a rel="nofollow" class="external text" href="http://www.linux.com/news/software/applications/8208-all-about-linux-swap-space">All about Linux swap space</a>:
</p>
<dl>
<dd><i>Linux divides its physical RAM (random access memory) into chunks of memory called pages. Swapping is the process whereby a page of memory is copied to the preconfigured space on the hard disk, called swap space, to free up that page of memory. The combined sizes of the physical memory and the swap space is the amount of virtual memory available.</i>
</dd>
</dl>
<p>Support for swap is provided by the Linux kernel and user-space utilities from the <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=util-linux">util-linux</a></span> package.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="https://wiki.archlinux.org/index.php/swap#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="https://wiki.archlinux.org/index.php/swap#Swap_space"><span class="tocnumber">1</span> <span class="toctext">Swap space</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="https://wiki.archlinux.org/index.php/swap#Swap_partition"><span class="tocnumber">2</span> <span class="toctext">Swap partition</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="https://wiki.archlinux.org/index.php/swap#Activation_by_systemd"><span class="tocnumber">2.1</span> <span class="toctext">Activation by systemd</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="https://wiki.archlinux.org/index.php/swap#Swap_file"><span class="tocnumber">3</span> <span class="toctext">Swap file</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="https://wiki.archlinux.org/index.php/swap#Swap_file_creation"><span class="tocnumber">3.1</span> <span class="toctext">Swap file creation</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="https://wiki.archlinux.org/index.php/swap#Remove_swap_file"><span class="tocnumber">3.2</span> <span class="toctext">Remove swap file</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="https://wiki.archlinux.org/index.php/swap#Swap_with_USB_device"><span class="tocnumber">4</span> <span class="toctext">Swap with USB device</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="https://wiki.archlinux.org/index.php/swap#Performance_Tuning"><span class="tocnumber">5</span> <span class="toctext">Performance Tuning</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="https://wiki.archlinux.org/index.php/swap#Swappiness"><span class="tocnumber">5.1</span> <span class="toctext">Swappiness</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="https://wiki.archlinux.org/index.php/swap#Priority"><span class="tocnumber">5.2</span> <span class="toctext">Priority</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Swap_space">Swap space</span></h2>
<p>Swap space will usually be a disk partition but can also be a file. Users may create a swap space during installation of Arch Linux or at any later time should it become necessary. Swap space is generally recommended for users with less than 1 GB of RAM, but becomes more a matter of personal preference on systems with gratuitous amounts of physical RAM (though it is required for suspend-to-disk support).
</p><p>To check swap status, use:
</p>
<pre>$ swapon -s
</pre>
<p>Or:
</p>
<pre>$ free -h
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>There is no performance advantage to either a contiguous swap file or a partition, both are treated the same way.</div>
<h2><span class="mw-headline" id="Swap_partition">Swap partition</span></h2>
<p>A swap partition can be created with most GNU/Linux partitioning tools (e.g. <code style="display:inline-block; padding: 0.1em 0.3em;">fdisk</code>, <code style="display:inline-block; padding: 0.1em 0.3em;">cfdisk</code>). Swap partitions are typically designated as type <b>82</b>, however it is possible to use any partition type as swap.
</p><p>To set up a Linux swap area, the <code style="display:inline-block; padding: 0.1em 0.3em;">mkswap</code> command is used. For example:
</p>
<pre># mkswap /dev/sda2
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;"><strong> Warning: </strong>All data on the specified partition will be lost.</div>
<p>The <i>mkswap</i> utility generates an UUID for the partition by default, use the <code style="display:inline-block; padding: 0.1em 0.3em;">-U</code> flag in case you want to specify custom UUID:
</p>
<pre># mkswap -U <i>custom_UUID</i> /dev/sda2
</pre>
<p>To enable the device for paging:
</p>
<pre># swapon /dev/sda2
</pre>
<p>To enable this swap partition on boot, add an entry to <a href="https://wiki.archlinux.org/index.php/Fstab" title="Fstab">fstab</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/sda2 none swap defaults 0 0</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>
<ul>
<li> Adding an entry to fstab is optional in most cases with systemd. See the next subsection.
</li>
<li> If using an SSD with TRIM support, consider using <code style="display:inline-block; padding: 0.1em 0.3em;">defaults,discard</code> in the swap line in <a href="https://wiki.archlinux.org/index.php/Fstab" title="Fstab">fstab</a>. If activating swap manually with <i>swapon</i>, using the <code style="display:inline-block; padding: 0.1em 0.3em;">-d</code> or <code style="display:inline-block; padding: 0.1em 0.3em;">--discard</code> parameter achieves the same. See <code style="display:inline-block; padding: 0.1em 0.3em;">man 8 swapon</code> for details.
</li>
</ul>
</div>
<h3><span class="mw-headline" id="Activation_by_systemd">Activation by systemd</span></h3>
<p>systemd activates swap partitions based on two different mechanisms, both are executables in <code style="display:inline-block; padding: 0.1em 0.3em;">/usr/lib/systemd/system-generators</code>. The generators are run on start-up and create native systemd units for mounts. The first, <code style="display:inline-block; padding: 0.1em 0.3em;">systemd-fstab-generator</code>, reads the fstab to generate units, including a unit for swap. The second, <code style="display:inline-block; padding: 0.1em 0.3em;">systemd-gpt-auto-generator</code> inspects the root disk to generate units. It operates on GPT disks only, and can identify swap partitions by their type code <b>82</b>.
</p><p>This can be solved by one of the following options:
</p>
<ul>
<li> removing the swap entry from <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fstab</code>
</li>
<li> changing the swap partition's type code from <b>82</b> to an arbitrary type code
</li>
<li> setting the attribute of the swap partition to "<b>63</b>: do not automount"
</li>
</ul>
<h2><span class="mw-headline" id="Swap_file">Swap file</span></h2>
<p>As an alternative to creating an entire partition, a swap file offers the ability to vary its size on-the-fly, and is more easily removed altogether. This may be especially desirable if disk space is at a premium (e.g. a modestly-sized SSD).  
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>The Btrfs file system does not currently support swap files. Failure to heed this warning may result in file system corruption. Though it should be noted that one may use a swap file on Btrfs if mounted through a loop device. This method will result in severely degraded swap performance.</div>
<h3><span class="mw-headline" id="Swap_file_creation">Swap file creation</span></h3>
<p>As root use <code style="display:inline-block; padding: 0.1em 0.3em;">fallocate</code> to create a swap file the size of your choosing (M = Megabytes, G = Gigabytes) (<code style="display:inline-block; padding: 0.1em 0.3em;">dd</code> can also be used but will take longer).  For example, creating a 512 MB swap file:
</p>
<pre># fallocate -l 512M /swapfile
</pre>
<p>or
</p>
<pre># dd if=/dev/zero of=/swapfile bs=1M count=512
</pre>
<p>Set the right permissions (a world-readable swap file is a huge local vulnerability)
</p>
<pre># chmod 600 /swapfile
</pre>
<p>After creating the correctly sized file, format it to swap:
</p>
<pre># mkswap /swapfile
</pre>
<p>Activate the swap file:
</p>
<pre># swapon /swapfile
</pre>
<p>Finally, edit <a href="https://wiki.archlinux.org/index.php/Fstab#File_example" title="Fstab">fstab</a> to add an entry for the swap file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/swapfile none swap defaults 0 0</pre>
<h3><span class="mw-headline" id="Remove_swap_file">Remove swap file</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;"><strong> Warning: </strong> swap is managed by systemd and will be reenabled by it after some time. </div>
<p>To remove a swap file, the current swap file must be turned off.
</p><p>As root:
</p>
<pre># swapoff -a
</pre>
<p>Remove swap file:
</p>
<pre># rm -f /swapfile
</pre>
<h2><span class="mw-headline" id="Swap_with_USB_device">Swap with USB device</span></h2>
<p>Thanks to modularity offered by Linux, we can have multiple swap partitions spread over different devices. If you have a very full hard disk, USB device can be used as partition temporally. But this method has some severe disadvantage：
</p>
<ul>
<li> USB device is slower than hard disk.
</li>
<li> flash memories have limited write cycles. Using it as swap partition will kill it quickly.
</li>
<li> when another device is attached to the computer, no swap can be used.
</li>
</ul>
<p>To add a USB device to SWAP, first take a USB flash and partition it with a swap partition.You can use graphical tools such as Gparted or console tools like fdisk. Make sure to label the partition as SWAP before writing the partition table.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;"><strong> Warning: </strong>Make sure you are writing the partition to the correct disk!</div>
<p>Next open <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fstab</code>.
</p><p>Now add a new entry, just under the current swap entry, which take the current swap partition over the new USB one
</p>
<pre>UUID=... none swap defaults,pri=10 0 0
</pre>
<p>where UUID is taken from the output of the command
</p>
<pre>ls -l /dev/disk/by-uuid/ | grep /dev/sdc1
</pre>
<p>Just replace sdc1 with your new USB swap partition. <code style="display:inline-block; padding: 0.1em 0.3em;">sdb1</code>
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;"><strong> Tip: </strong>We use UUID because when you attach other devices to the computer it could modify the device order</div>
<p>Last, add
</p>
<pre>pri=0
</pre>
<p>in the <i>original</i> swap entry for teaching fstab to use HD swap only when USB is full
</p><p>This guide will work for other memory such as SD cards, etc.
</p>
<h2><span class="mw-headline" id="Performance_Tuning">Performance Tuning</span></h2>
<p>Swap values can be adjusted to help performance.
</p>
<h3><span class="mw-headline" id="Swappiness">Swappiness</span></h3>
<p>The <i>swappiness</i> <a href="https://wiki.archlinux.org/index.php/Sysctl" title="Sysctl">sysctl</a> parameter represents the kernel's preference (or avoidance) of swap space. Swappiness can have a value between 0 and 100, the default value is 60. Setting this parameter to a low value will reduce swapping from RAM, and is known to improve responsiveness on many systems.
</p><p>To check the current swappiness value:
</p>
<pre>$ cat /proc/sys/vm/swappiness
</pre>
<p>To temporarily set the swappiness value:
</p>
<pre># sysctl vm.swappiness=10
</pre>
<p>To set the swappiness value permanently, edit a <i>sysctl</i> configuration file
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/99-sysctl.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vm.swappiness=10</pre>
<p>To test and more on why this may work, take a look at <a rel="nofollow" class="external text" href="http://rudd-o.com/en/linux-and-free-software/tales-from-responsivenessland-why-linux-feels-slow-and-how-to-fix-that">this article</a>.
</p><p>Another <i>sysctl</i> parameter that affects swap performance is <code style="display:inline-block; padding: 0.1em 0.3em;">vm.vfs_cache_pressure</code>, which controls the tendency of the kernel to reclaim the memory which is used for caching of VFS caches, versus pagecache and swap. Increasing this value increases the rate at which VFS caches are reclaimed.<a rel="nofollow" class="external autonumber" href="http://doc.opensuse.org/products/draft/SLES/SLES-tuning_sd_draft/cha.tuning.memory.html#cha.tuning.memory.vm.reclaim">[1]</a> For more information, see the <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/sysctl/vm.txt">Linux kernel documentation</a>.
</p>
<h3><span class="mw-headline" id="Priority">Priority</span></h3>
<p>If you have more than one swap file or swap partition you should consider assigning a priority value (0 to 32767) for each swap area. The system will use swap areas of higher priority before using swap areas of lower priority. For example, if you have a faster disk (<code style="display:inline-block; padding: 0.1em 0.3em;">/dev/sda</code>) and a slower disk (<code style="display:inline-block; padding: 0.1em 0.3em;">/dev/sdb</code>), assign a higher priority to the swap area located on the faster device. Priorities can be assigned in fstab via the <code style="display:inline-block; padding: 0.1em 0.3em;">pri</code> parameter:
</p>
<pre>/dev/sda1 none swap defaults,pri=100 0 0
/dev/sdb2 none swap defaults,pri=10  0 0
</pre>
<p>Or via the <code style="display:inline-block; padding: 0.1em 0.3em;">-p</code> (or <code style="display:inline-block; padding: 0.1em 0.3em;">--priority</code>) parameter of swapon:
</p>
<pre># swapon -p 100 /dev/sda1
</pre>
<p>If two or more areas have the same priority, and it is the highest priority available, pages are allocated on a round-robin basis between them.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.037 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 456/1000000
Preprocessor generated node count: 1229/1000000
Post‐expand include size: 10018/2097152 bytes
Template argument size: 4390/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key archwiki:pcache:idhash:8651-0!*!0!!en!*!* and timestamp 20141203130057
 -->
</div><div class="printfooter">
Retrieved from "<a href="https://wiki.archlinux.org/index.php?title=Swap&oldid=338263">https://wiki.archlinux.org/index.php?title=Swap&amp;oldid=338263</a>"</div>
		<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.archlinux.org/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://wiki.archlinux.org/index.php/Category:File_systems" title="Category:File systems">File systems</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<h2>Navigation menu</h2>
	<div id="p-cactions" class="portlet" role="navigation">
		<h3>Views</h3>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="https://wiki.archlinux.org/index.php/Swap" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				<li id="ca-talk"><a href="https://wiki.archlinux.org/index.php/Talk:Swap" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="https://wiki.archlinux.org/index.php?title=Swap&action=edit" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="https://wiki.archlinux.org/index.php?title=Swap&action=history" rel="archives" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal" role="navigation">
		<h3>Personal tools</h3>
		<div class="pBody">
			<ul>
				<li id="pt-createaccount"><a href="https://wiki.archlinux.org/index.php?title=Special:UserLogin&returnto=Swap&type=signup">Create account</a></li>
				<li id="pt-login"><a href="https://wiki.archlinux.org/index.php?title=Special:UserLogin&returnto=Swap" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo" role="banner">
<a href="https://wiki.archlinux.org/index.php/Main_page" style="background-image: url(/skins/archlinux/archlogo.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class="pBody">
			<ul>
				<li id="n-mainpage-description"><a href="https://wiki.archlinux.org/index.php/Main_page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
				<li id="n-categories"><a href="https://wiki.archlinux.org/index.php/Table_of_contents">Categories</a></li>
				<li id="n-portal"><a href="https://wiki.archlinux.org/index.php/Getting_involved" title="Various ways Archers can contribute to the community">Getting involved</a></li>
				<li id="n-currentevents"><a href="https://wiki.archlinux.org/index.php/ArchWiki:News" title="The latest lowdown on the wiki">Wiki news</a></li>
				<li id="n-randompage"><a href="https://wiki.archlinux.org/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet" role="search">
		<h3><label for="searchInput">Search</label></h3>
		<div id="searchBody" class="pBody">
			<form action="https://wiki.archlinux.org/index.php" id="searchform">
				<input type="hidden" name="title" value="Special:Search">
				<input type="search" name="search" placeholder="Search" title="Search ArchWiki [alt-shift-f]" accesskey="f" id="searchInput" autocomplete="off">
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton">&nbsp;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton">
			</form>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-interaction" role="navigation">
		<h3>interaction</h3>
		<div class="pBody">
			<ul>
				<li id="n-help"><a href="https://wiki.archlinux.org/index.php/Category:Help" title="Wiki navigation, reading, and editing help">Help</a></li>
				<li id="n-Contributing"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Contributing">Contributing</a></li>
				<li id="n-recentchanges"><a href="https://wiki.archlinux.org/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-Recent-talks"><a href="https://wiki.archlinux.org/index.php/Special:RecentChanges?namespace=0&invert=1" rel="nofollow">Recent talks</a></li>
				<li id="n-newpages"><a href="https://wiki.archlinux.org/index.php/Special:NewPages">New pages</a></li>
				<li id="n-Reports"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Reports">Reports</a></li>
				<li id="n-Requests"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Requests">Requests</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb" role="navigation">
		<h3>Tools</h3>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://wiki.archlinux.org/index.php/Special:WhatLinksHere/Swap" title="A list of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="https://wiki.archlinux.org/index.php/Special:RecentChangesLinked/Swap" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="https://wiki.archlinux.org/index.php/Special:SpecialPages" title="A list of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="https://wiki.archlinux.org/index.php?title=Swap&printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="https://wiki.archlinux.org/index.php?title=Swap&oldid=338263" title="Permanent link to this revision of the page">Permanent link</a></li>
				<li id="t-info"><a href="https://wiki.archlinux.org/index.php?title=Swap&action=info">Page information</a></li>
			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet" role="navigation">
		<h3>In other languages</h3>
		<div class="pBody">
			<ul>
				<li class="interwiki-es"><a href="https://wiki.archlinux.org/index.php/Swap_(Espa%C3%B1ol)" title="Swap – español" lang="es" hreflang="es">Español</a></li>
				<li class="interwiki-fr"><a href="http://wiki.archlinux.fr/Swap" title="Swap – français" lang="fr" hreflang="fr">Français</a></li>
				<li class="interwiki-it"><a href="https://wiki.archlinux.org/index.php/Swap_(Italiano)" title="Swap – italiano" lang="it" hreflang="it">Italiano</a></li>
				<li class="interwiki-ja"><a href="https://wiki.archlinux.org/index.php/Swap_(%E6%97%A5%E6%9C%AC%E8%AA%9E)" title="Swap – 日本語" lang="ja" hreflang="ja">日本語</a></li>
				<li class="interwiki-pt"><a href="https://wiki.archlinux.org/index.php/Swap_(Portugu%C3%AAs)" title="Swap – português" lang="pt" hreflang="pt">Português</a></li>
				<li class="interwiki-zh-cn"><a href="https://wiki.archlinux.org/index.php/Swap_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Swap – 中文（中国大陆）‎" lang="zh-CN" hreflang="zh-CN">中文（中国大陆）‎</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer" role="contentinfo">
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 1 October 2014, at 05:28.</li>
		<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
		<li id="privacy"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="https://wiki.archlinux.org/index.php/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="disclaimer"><a href="https://wiki.archlinux.org/index.php/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<!-- Served in 0.060 secs. -->
<div class="suggestions" style="display: none; font-size: 11.3333330154419px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body><!-- Cached/compressed 20141203130057 --></html>