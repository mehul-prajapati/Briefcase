!function(){window.Shareaholic.prototype.ShareObject=function(){function e(e){var t=this;if(null==e&&(e={}),!e.link)throw new Error("A 'url' is required to create a ShareObject.");this._={},this._.link=Shareaholic.Utils.trim(e.link),this._.text=Shareaholic.Utils.trim(e.text)||"",this._.link_title=Shareaholic.Utils.trim(e.link_title)||"",this._.plugin=e.plugin||"",this._.source="Shareaholic",this._.title=function(){return t.get("link_title")},this._.link_notes=Shareaholic.Utils.trim(e.link_notes)||"",this._.notes=function(){return t.get("link_notes")},this._.url=function(){return""===t.get("short_url")?t.get("link"):t.get("short_url")},this._.short_url=Shareaholic.Utils.trim(e.short_url)||"",this._.short_link=function(){return t.get("link")},this._.images=e.images||[],this._.image=function(){var e;return(null!=(e=t._.images)?e[t._.image_index]:void 0)||""},this._.image_index=0,this._.total_images=function(){return t._.images.length},this._.media_link=function(){return t._.image()},this._.message_format=Shareaholic.Utils.trim(e.message_format)||"",this._.shortener=e.shortener,this._.shortener_api_key=e.shortener_api_key,this._.shortener_login=e.shortener_login,this._.api_key=e.api_key,Shareaholic.prototype.ShareObject.instances.push(this),this.init()}return e.options={},e.instances=[],e.prototype.init=function(){return this.get(!1)?void 0:this.set("text",this.prepare_message_text())},e.prototype.prepare_message_text=function(){var e,t,i,n,r,s,o;if(e=this.get("message_format")){if(i=new RegExp("\\$\\{([a-z_]*)\\}","g"),r=e.match(i),r&&r.length)for(s=0,o=r.length;o>s;s++)n=r[s],t=n.substr(2,n.length-3),e=e.replace(n,this.get(t)||"");return e}return""},e.prototype.set=function(e,t){return"title"===e&&(e="link_title"),"notes"===e&&(e="link_notes"),this._[e]=t,t},e.prototype.get=function(e){return"function"==typeof this._[e]?this._[e]():this._[e]},e.prototype.params=function(e){var t,i;return null==e&&(e=!0),t={link:this.get("link"),source:this.get("source"),text:this.get("text"),short_url:this.get("short_url"),api_key:this.get("api_key")},i={link_title:this.get("link_title"),link_notes:this.get("link_notes"),image:this.get("image"),media_link:this.get("image"),title:this.get("link_title"),notes:this.get("link_notes"),template:this.get("text")},e?Shareaholic.Utils.merge_objects(t,i):t},e.prototype.is_last_image=function(){return this._.image_index===this._.total_images()-1},e.prototype.image_location=function(){return""+(this.get("image_index")+1)+" of "+this.get("total_images")},e.prototype.select_next_image=function(){var e;return e=this.is_last_image()?0:this._.image_index+1,this.set("image_index",e),this.get("image")},e.prototype.select_previous_image=function(){var e;return e=0===this._.image_index?this._.total_images()-1:this._.image_index-1,this.set("image_index",e),this.get("image")},e.prototype.share_request=function(e,t){if(!(null!=e?e.service_nickname:void 0))throw new Error("You must specify a configuration object with a service_nickname property");return Shareaholic.Utils.merge_objects(e,this.params(t))},e.prototype.shorten_text_links=function(e){var t,i,n,r,s=this;return r=this.get("title"),i=this.get("text"),t=Shareaholic.Utils.find_links_in_string(i),(null!=t?t.length:void 0)?(t=Array.prototype.filter.call(t,function(e){return r.indexOf(e)<0}),n={service:this.get("shortener")},this.get("shortener_api_key")&&(n.api_key=this.get("shortener_api_key")),this.get("shortener_login")&&(n.login=this.get("shortener_login")),Shareaholic.Utils.shorten_urls({urls:t,options:n,success:function(t){var i,n;Shareaholic.Utils.debug("in shorten links success callback",t);for(i in t)n=t[i],s.set("short_url",n),s.set("text",s.get("text").replace(i,n));return"function"==typeof e.complete&&e.complete(),"function"==typeof e.success?e.success():void 0},failure:function(){return"function"==typeof e.complete&&e.complete(),"function"==typeof e.failure?e.failure():void 0}})):"function"==typeof e.complete?e.complete():void 0},e}()}.call(this),function(){var e;e=sQuery,window.Shareaholic.prototype.SharePreferencesObject=function(){function t(){this.user_config=Shareaholic.user_info,this.pub_config=Shareaholic.publisher_configuration}return t.options={},t.instances=[],t.prototype.init=function(){},t.prototype.update_pub_prefs=function(t){return this.pub_config=e.extend(!0,{},Shareaholic.DefaultConfiguration,t)},t.prototype.update_user_prefs=function(e){return this.user_config=e},t.prototype.get=function(e){return"function"==typeof this[e]?this[e]():void 0},t.prototype.pub_prefs=function(){return e.extend(!0,{},Shareaholic.DefaultPublisherConfiguration,Shareaholic.publisher_configuration)},t.prototype.user_prefs=function(){return e.extend(!0,{},Shareaholic.DefaultUserConfiguration,Shareaholic.user_info)},t.prototype.message_format=function(){var e;return e=this.get("pub_prefs").apps.share_buttons.message_format,""!==e?e:"${title} - ${link}"},t.prototype.shortener_config=function(){var e,t;return t={shortener:this.get("user_prefs").shortener_preferences.service||"",shortener_api_key:this.get("user_prefs").shortener_preferences.api_key||"",shortener_login:this.get("user_prefs").shortener_preferences.login||""},e={shortener:this.get("pub_prefs").shortener_preferences.service||"",shortener_api_key:this.get("pub_prefs").shortener_preferences.api_key||"",shortener_login:this.get("pub_prefs").shortener_preferences.login||""},t.shortener.match("shr")?e:t},t}()}.call(this),function(){window.Shareaholic.prototype.Requester=function(){function e(e){this.widget_class=e,this.requests=[],this.response={}}return e.prototype.push=function(e){return this.requests.push(e)},e.prototype.load=function(){var e,t=this;return e=this.widget_class.api_endpoint,e+=this.widget_class.construct_query_string(),Shareaholic.Utils.debug("In Requester - load"),Shareaholic.Utils.ajax({url:e,success:function(e){var i;return t.response=e,i=Object.keys(t.response.data)[0],t.widget_class.load_response_into_dom(t.response.data[i])}})},e}()}.call(this),function(){var e={};this.prototype.Handlebars=e,e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,i){i&&(t.not=i),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,i="[object Function]";e.registerHelper("blockHelperMissing",function(n,r){var s=r.inverse||function(){},o=r.fn,a=t.call(n);return a===i&&(n=n.call(this)),n===!0?o(this):n===!1||null==n?s(this):"[object Array]"===a?n.length>0?e.helpers.each(n,r):s(this):o(n)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;return e.K.prototype=null,i},e.registerHelper("each",function(t,i){var n,r=i.fn,s=i.inverse,o="";if(i.data&&(n=e.createFrame(i.data)),t&&t.length>0)for(var a=0,l=t.length;l>a;a++)n&&(n.index=a),o+=r(t[a],{data:n});else o=s(this);return o}),e.registerHelper("if",function(n,r){var s=t.call(n);return s===i&&(n=n.call(this)),!n||e.Utils.isEmpty(n)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,i){var n=i.fn,r=i.inverse;return i.fn=r,i.inverse=n,e.helpers["if"].call(this,t,i)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)});var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function(e,t,i,n,r,s){var o=s.length-1;switch(r){case 1:return s[o-1];case 2:this.$=new n.ProgramNode(s[o-2],s[o]);break;case 3:this.$=new n.ProgramNode(s[o]);break;case 4:this.$=new n.ProgramNode([]);break;case 5:this.$=[s[o]];break;case 6:s[o-1].push(s[o]),this.$=s[o-1];break;case 7:this.$=new n.BlockNode(s[o-2],s[o-1].inverse,s[o-1],s[o]);break;case 8:this.$=new n.BlockNode(s[o-2],s[o-1],s[o-1].inverse,s[o]);break;case 9:this.$=s[o];break;case 10:this.$=s[o];break;case 11:this.$=new n.ContentNode(s[o]);break;case 12:this.$=new n.CommentNode(s[o]);break;case 13:this.$=new n.MustacheNode(s[o-1][0],s[o-1][1]);break;case 14:this.$=new n.MustacheNode(s[o-1][0],s[o-1][1]);break;case 15:this.$=s[o-1];break;case 16:this.$=new n.MustacheNode(s[o-1][0],s[o-1][1]);break;case 17:this.$=new n.MustacheNode(s[o-1][0],s[o-1][1],!0);break;case 18:this.$=new n.PartialNode(s[o-1]);break;case 19:this.$=new n.PartialNode(s[o-2],s[o-1]);break;case 20:break;case 21:this.$=[[s[o-2]].concat(s[o-1]),s[o]];break;case 22:this.$=[[s[o-1]].concat(s[o]),null];break;case 23:this.$=[[s[o-1]],s[o]];break;case 24:this.$=[[s[o]],null];break;case 25:this.$=[[new n.DataNode(s[o])],null];break;case 26:s[o-1].push(s[o]),this.$=s[o-1];break;case 27:this.$=[s[o]];break;case 28:this.$=s[o];break;case 29:this.$=new n.StringNode(s[o]);break;case 30:this.$=new n.IntegerNode(s[o]);break;case 31:this.$=new n.BooleanNode(s[o]);break;case 32:this.$=new n.DataNode(s[o]);break;case 33:this.$=new n.HashNode(s[o]);break;case 34:s[o-1].push(s[o]),this.$=s[o-1];break;case 35:this.$=[s[o]];break;case 36:this.$=[s[o-2],s[o]];break;case 37:this.$=[s[o-2],new n.StringNode(s[o])];break;case 38:this.$=[s[o-2],new n.IntegerNode(s[o])];break;case 39:this.$=[s[o-2],new n.BooleanNode(s[o])];break;case 40:this.$=[s[o-2],new n.DataNode(s[o])];break;case 41:this.$=new n.IdNode(s[o]);break;case 42:s[o-2].push(s[o]),this.$=s[o-2];break;case 43:this.$=[s[o]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],r=[null],s=[],o=this.table,a="",l=0,c=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,_,v,b,y,w,k={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=t()),g=o[m]&&o[m][p]),"undefined"==typeof g||!g.length||!g[0]){var x="";if(!h){w=[];for(v in o[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:n.push(p),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(b=this.productions_[g[1]][1],k.$=r[r.length-b],k._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},d&&(k._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),_=this.performAction.call(k,a,c,l,this.yy,g[1],r,s),"undefined"!=typeof _)return _;b&&(n=n.slice(0,2*-1*b),r=r.slice(0,-1*b),s=s.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),r.push(k.$),s.push(k._$),y=o[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(i=this._input.match(this.rules[s[o]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=o,this.options.flex));o++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){switch(i){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 35;case 13:return 34;case 14:return 34;case 15:return 37;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 20:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),29;case 21:return t.yytext=t.yytext.substr(1),27;case 22:return 31;case 23:return 31;case 24:return 30;case 25:return 34;case 26:return t.yytext=t.yytext.substr(1,t.yyleng-2),34;case 27:return"INVALID";case 28:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,28],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=n,exports.Parser=n.Parser,exports.parse=function(){return n.parse.apply(n,arguments)},exports.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");var t;return t="undefined"!=typeof process?require("fs").readFileSync(require("path").resolve(e[1]),"utf8"):require("file").path(require("file").cwd()).join(e[1]).read({charset:"utf-8"}),exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),e.Parser=n,e.parse=function(t){return e.Parser.yy=e.AST,e.Parser.parse(t)},e.print=function(t){return(new e.PrintVisitor).accept(t)},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}},e.log=function(t,i){e.logger.log(t,i)},e.AST={},e.AST.ProgramNode=function(t,i){this.type="program",this.statements=t,i&&(this.inverse=new e.AST.ProgramNode(i))},e.AST.MustacheNode=function(e,t,i){this.type="mustache",this.escaped=!i,this.hash=t;var n=this.id=e[0],r=this.params=e.slice(1),s=this.eligibleHelper=n.isSimple;this.isHelper=s&&(r.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var r=function(t,i){if(t.original!==i.original)throw new e.Exception(t.original+" doesn't match "+i.original)};e.AST.BlockNode=function(e,t,i,n){r(e.id,n),this.type="block",this.mustache=e,this.program=t,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var t=[],i=0,n=0,r=e.length;r>n;n++){var s=e[n];".."===s?i++:"."===s||"this"===s?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=i,this.isSimple=1===e.length&&!this.isScoped&&0===i},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e},e.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()},function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,n=/[&<>"'`]/,r=function(e){return t[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":n.test(t)?t.replace(i,r):t},isEmpty:function(e){return"undefined"==typeof e?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),e.Compiler=function(){},e.JavaScriptCompiler=function(){},function(t,i){t.prototype={compiler:t,disassemble:function(){for(var e,t,i,n=this.opcodes,r=[],s=0,o=n.length;o>s;s++)if(e=n[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)i=e.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,i=e.statements;this.opcodes=[];for(var n=0,r=i.length;r>n;n++)t=i[n],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var r=0,s=i.depths.list.length;s>r;r++)t=i.depths.list[r],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,i,n):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("pushLiteral","{}"),this.opcode("blockValue")):(this.ambiguousMustache(t,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("pushLiteral","{}"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("push","{}");for(var r=0,s=n.length;s>r;r++)t=n[r],i=t[1],this.accept(i),this.opcode("assignToHash",t[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,i=this.classifyMustache(e);"simple"===i?this.simpleMustache(e):"helper"===i?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,i){var n=e.id,r=n.parts[0];this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",r)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",n.length,r);else{if(this.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",n.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var r=e.id.parts[0];n.knownHelpers[r]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.string)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),t},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),n}};var n=function(e){this.value=e};i.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,i,n,r){this.environment=t,this.options=i||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.compileChildren(t,i);var s,o=t.opcodes;for(this.i=0,a=o.length;this.i<a;this.i++)s=o[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1],e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(i=i+" partials = partials || "+t+".partials;"),this.options.data&&(i+=" data = data || {};"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,o=this.environment.depths.list.length;o>s;s++)r.push("depth"+this.environment.depths.list[s]);if(t)return r.push(this.source.join("\n  ")),Function.apply(this,r);var a="function "+(this.name||"")+"("+r.join(",")+") {\n  "+this.source.join("\n  ")+"}";return e.log(e.logger.DEBUG,a+"\n\n"),a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),t+" = blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(),t="";this.context.aliases.escapeExpression="this.escapeExpression",e&&"appendContent"===e.opcode&&(t=" + "+this.quotedString(e.args[0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.pushStack(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+"() : "+e
})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.pushStack(this.nameLookup("data",e,"data"))},pushStringParam:function(e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){this.pushStack(e)},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(e,t);this.register("foundHelper",i.name),this.pushStack("foundHelper ? foundHelper.call("+i.callParams+") "+": helperMissing.call("+i.helperMissingParams+")")},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.pushStack(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var t=this.setupHelper(0,e),i=this.lastHelper=this.nameLookup("helpers",e,"helper");this.register("foundHelper",i);var n=this.nameLookup("depth"+this.lastContext,e,"context"),r=this.nextStack();this.source.push("if (foundHelper) { "+r+" = foundHelper.call("+t.callParams+"); }"),this.source.push("else { "+r+" = "+n+"; "+r+" = typeof "+r+" === functionType ? "+r+"() : "+r+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.pushStack("self.invokePartial("+t.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),i=this.topStack();this.source.push(i+"['"+e+"'] = "+t+";")},compiler:i,compileChildren:function(e,t){for(var i,n,r=e.children,s=0,o=r.length;o>s;s++){i=r[s],n=new this.compiler,this.context.programs.push("");var a=this.context.programs.length;i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,t,this.context)}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,r=[i.index,i.name,"data"],s=0,o=n.length;o>s;s++)t=n[s],1===t?r.push("depth0"):r.push("depth"+(t-1));return 0===n.length?"self.program("+r.join(", ")+")":(r.shift(),"self.programWithDepth("+r.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.compileStack.push(new n(e)),e},pushStack:function(e){return this.source.push(this.incrStack()+" = "+e+";"),this.compileStack.push("stack"+this.stackSlot),"stack"+this.stackSlot},replaceStack:function(e){var t=e.call(this,this.topStack());return this.source.push(this.topStack()+" = "+t+";"),"stack"+this.stackSlot},nextStack:function(){var e=this.incrStack();return this.compileStack.push("stack"+this.stackSlot),e},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){var e=this.compileStack.pop();return e instanceof n?e.value:(this.stackSlot--,e)},topStack:function(){var e=this.compileStack[this.compileStack.length-1];return e instanceof n?e.value:e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t){var i=[];this.setupParams(e,i);var n=this.nameLookup("helpers",t,"helper");return{params:i,name:n,callParams:["depth0"].concat(i).join(", "),helperMissingParams:["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t){var i,n,r,s=[],o=[];s.push("hash:"+this.popStack()),n=this.popStack(),r=this.popStack(),(r||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),s.push("inverse:"+n),s.push("fn:"+r));for(var a=0;e>a;a++)i=this.popStack(),t.push(i),this.options.stringParams&&o.push(this.popStack());return this.options.stringParams&&s.push("contexts:["+o.join(",")+"]"),this.options.data&&s.push("data:data"),t.push("{"+s.join(",")+"}"),t.join(", ")}};for(var r="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=i.RESERVED_WORDS={},o=0,a=r.length;a>o;o++)s[r[o]]=!0;i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(e.Compiler,e.JavaScriptCompiler),e.precompile=function(t,i){i=i||{};var n=e.parse(t),r=(new e.Compiler).compile(n,i);return(new e.JavaScriptCompiler).compile(r,i)},e.compile=function(t,i){function n(){var n=e.parse(t),r=(new e.Compiler).compile(n,i),s=(new e.JavaScriptCompiler).compile(r,i,void 0,!0);return e.template(s)}i=i||{};var r;return function(e,t){return r||(r=n()),r.call(this,e,t)}},e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,n){var r=this.programs[t];return n?e.VM.program(i,n):r?r:r=this.programs[t]=e.VM.program(i)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop};return function(n,r){return r=r||{},t.call(i,e,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(n,r){return r=r||{},e.apply(this,[n,r.data||t].concat(i))}},program:function(e,t){return function(i,n){return n=n||{},e(i,n.data||t)}},noop:function(){return""},invokePartial:function(t,i,n,r,s,o){var a={helpers:r,partials:s,data:o};if(void 0===t)throw new e.Exception("The partial "+i+" could not be found");if(t instanceof Function)return t(n,a);if(e.compile)return s[i]=e.compile(t,{data:void 0!==o}),s[i](n,a);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template,e.registerHelper("eachkeys",function(e,t){var i=t.fn,n=t.inverse,r="",s=!0;for(key in e){s=!1;break}if(s)r=n(this);else for(key in e)r+=i({key:key,value:e[key]});return r}),e.registerHelper("compare",function(e,t,i,n){var r,s;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=i,i=t,t="==="),r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}},!r[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return s=r[t](e,i),s?n.fn(this):n.inverse(this)})}.call(Shareaholic),function(){Shareaholic.templates.all_services_list='<ul class="mini">  {{#each this}}    <li>      <a href="javascript:void(0);" data-service="{{this.nickname}}"><i class="shareaholic-service-icon service-{{this.nickname}}"></i>{{this.title}}</a>    </li>  {{/each}}</ul>',Shareaholic.prototype.Handlebars.registerPartial("all_services_list",Shareaholic.templates.all_services_list)}.call(this),function(){Shareaholic.templates.all_services_panel='<div class="shareaholic-panel-content">  <div class="filter">    <i class="icon-search-alt"></i>    <input type="text" class="search" placeholder="Search for services">  </div>  <div class="all-services">    {{> all_services_list}}  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.connect_account_panel='<div class="shareaholic-panel-content">  <p class="instructions">Clicking a button will open a new window where you can connect your account. You\'ll be brought back to the sharing window once you\'re done.</p>  <ul class="services">    <li class="service twitter">      <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />    </li>    <li class="service facebook">      <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />    </li>  </ul>  <div class="cancel">    <button class="cancel-button">{{cancel_button_text}}</button>  </div></div>'}.call(this),function(){Shareaholic.templates.connected_accounts_list='  <ul>    {{#each this}}      <li class="connected-account {{service}}" id="auth-{{authentication_id}}">        <a href="#" title="{{username}}" data-auth-id="{{authentication_id}}" data-service="{{service}}">          <img src="{{avatar_url}}" />        </a>      </li>    {{/each}}    <li class="new-account"><a href="javascript:void(0)"><i class="icon-plus-alt"></i></a></li>  </ul>'}.call(this),function(){Shareaholic.templates.facebook_post_preview='<div class="shareaholic-facebook-post-preview">    <div class="fb-message">{{message}}</div>    <div class="fb-title">The Unrefinery - Home</div>    <div class="fb-subtitle">http://shop.theunrefinery.com/</div>    <div class="fb-summary">Quality Garments for Creative Individuals.</div></div>'}.call(this),function(){Shareaholic.templates.link_preview='<div class="shareaholic-link-preview">  <button class="close-button" style="display:none!important" title="Remove Link">X</button>  {{#if image}}  <div class="thumbnail-picker">    <div class="select-image">      <i class="previous-btn icon-arrow-w-alt"></i>      <div class="thumbnail">        <img src="{{image}}" width="100" alt="thumbnail" />      </div>      <i class="next-btn icon-arrow-e-alt"></i>    </div>    <small>    </small>  </div>  {{/if}}  <div class="link-properties">    <a class="link-title" contenteditable="true">{{link_title}}</a>    <a class="link-url" href="{{link}}" target="_blank">{{link}}</a>    <p class="link-notes" contenteditable="true">{{link_notes}}</p>  </div></div>',Shareaholic.prototype.Handlebars.registerPartial("link_preview",Shareaholic.templates.link_preview)}.call(this),function(){Shareaholic.templates.linked_in='<div>  <h1>Share this on {{name}}</h1>  <form>    <textarea>This is a tweet. via @Shareaholic</textarea>    <button type="submit">{{submit_text}}</button>  </form></div>'}.call(this),function(){Shareaholic.templates.loading_account_panel='<div class="shareaholic-panel-content" style="height:240px; position:relative;">  <div class="pacify-curtain pacify-large ui-pacify-curtain-light">    <div class="ui-pacify-indicator"></div>    <div class="ui-pacify-message">{{message}}</div>  </div></div>'}.call(this),function(){Shareaholic.templates.mobile_recommendation='<article class="shareaholic-mobile-recommendation">  <div class="shareaholic-mobile-recommendation-wrapper">    <a href="{{url}}" rel="norewrite">      <i class="shareaholic-image {{color_class}}" style="background-image: url({{thumbnail}})"></i>      <div class="shareaholic-details">        <h3 class="shareaholic-title">{{mobile_title}}</h3>        <p class="shareaholic-summary">{{description}}</p>        {{#if sponsored}}        <span class="shareaholic-site-name">{{site_name}}</span>        {{/if}}      </div>    </a>    <footer class="shareaholic-buttonset line">      <button class="unit size1of5"><i class="icon icon-heart"></i></button>      <button class="unit size1of5"><i class="icon icon-list"></i></button>      <button class="unit size1of5"><i class="icon icon-mail"></i></button>      <button class="unit size1of5"><i class="icon icon-share"></i></button>      <span class="counter unit size1of5">314</span>    </footer>  </div></article>',Shareaholic.prototype.Handlebars.registerPartial("mobile_recommendation",Shareaholic.templates.mobile_recommendation)}.call(this),function(){Shareaholic.templates.multi_panel='<div class="shareaholic-panel-content">  <div class="connected-accounts">  </div>  <div class="share-message">    <form>      <textarea></textarea>    </form>  </div>  <div class="submit-share">    <button class="submit button-primary">Post Now</button>    <span class="character-count"></span>  </div>  <div class="preview-panes">    <!-- Service previews will be injected here -->    <div id="link_preview_pane" class="preview-pane">      {{> link_preview }}    </div>  </div>  <div class="panel-footer">    <p>      <a class="shareaholic-ui-button logo-button" href="//www.shareaholic.com" target="_blank"><i class="ui-icon ui-logo"></i></a>      <button class="email-button">Email This</button>      <button class="all-button">View All Services</button>      <a class="shareaholic-ui-button privacy" href="//www.shareaholic.com/privacy" target="_blank">Privacy</a>    </p>  </div></div>'}.call(this),function(){Shareaholic.templates.recommendation='<div class="shareaholic-recommendation recommendation-{{index}}"> <a href="{{url}}" class="recommendation-article-link" rel="norewrite" {{#if sponsored}}target="_blank"{{/if}}>   <i class="shareaholic-image {{color_class}} {{#if thumbnail}}has-recommendation-image{{/if}}" {{#if thumbnail}} style="background-image: url({{thumbnail}})" {{/if}}>     <span class="recommendation-placeholder-title">{{title}}</span>     <img src="{{impression_url}}" class="recommendation-impression-image" alt="" nopin="nopin" />   </i>   <div class="recommendation-article-title">{{title}}</div>   <div class="recommendation-article-summary">{{description}}</div> </a> {{#if sponsored}} <span class="sponsored-recommendation-credit">{{site_name}}</span> {{/if}}</div>',Shareaholic.prototype.Handlebars.registerPartial("recommendation",Shareaholic.templates.recommendation)}.call(this),function(){Shareaholic.templates.recommendation_preview='<article class="shareaholic-mobile-recommendation-preview" data-url="{{url}}">  <div class="shareaholic-image-well">    <div class="shareaholic-image" style="background-image: url({{thumbnail}})"></div>  </div>  <h3 class="shareaholic-preview-title">{{mobile_preview_title}}</h3></article>',Shareaholic.prototype.Handlebars.registerPartial("recommendation_preview",Shareaholic.templates.recommendation_preview)}.call(this),function(){Shareaholic.templates.share_result='<div class="shareaholic-share-result {{result_class}}">  <div class="result-icon-big icon-{{result_class}}"></div>  <div class="result-message">{{message}}</div>  <div class="result-remedy">{{remedy}}</div>  <div class="result-action">    {{#compare auth_account_type "twitter"}}      <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />    {{/compare}}    {{#compare auth_account_type "facebook"}}      <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />    {{/compare}}    {{#if show_retry_button}}      <button class="retry-button button-primary">Retry</button>    {{/if}}  </div></div>'}.call(this),function(){Shareaholic.templates.share_result_panel_multi='<div class="shareaholic-share-result-multi">  <div class="result-message">{{message}}</div>  <div class="result-remedy">{{remedy}}</div>  <ul class="share-status-widgets fit-{{shares.length}}">  {{#each shares}}    <li class="share-status-widget" data-auth-id="{{this.authentication_id}}" title="{{this.username}}">      <img src="{{this.avatar_url}}" alt="Avatar" />      <div class="status-indicator">        <i class="icon-waiting"></i>      </div>    </li>  {{/each}}  </ul>  <div class="result-action">    <div class="authentication-buttons">      <img alt="Connect with Twitter" class="auth-connect-button" data-service="twitter" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_twitter.png" />      <img alt="Connect with Facebook" class="auth-connect-button" data-service="facebook" src="//dsms0mj1bbhn4.cloudfront.net/assets/services/connect_with_facebook.gif" />    </div>    <button class="retry-button button-primary">Retry</button>  </div></div>'}.call(this),function(){Shareaholic.templates.twitter='<div>  <h1>Share this on {{name}}</h1>  <form>    <textarea>This is a tweet. via @Shareaholic</textarea>    <button type="submit">{{submit_text}}</button>  </form></div>'}.call(this),function(){Shareaholic.templates.twitter_post_preview='<div class="shareaholic-twitter-post-preview">    <p class="tweet-text">{{message}}</p></div>'}.call(this),function(){window.Shareaholic||(window.Shareaholic={}),window.Shareaholic.BASE_URL="//shareaholic.com",window.Shareaholic.ORIGIN_URL="https://shareaholic.com",window.Shareaholic.TRAFFIC_URL="//traffic.shareaholic.com",window.Shareaholic.IMAGES_URL="//images.shareaholic.com",window.Shareaholic.RECOMMENDATIONS_URL="//recommendations.shareaholic.com"}.call(this),window.Shareaholic=window.Shareaholic||{},Shareaholic.SERVICES={facebook:{title:"Facebook",nickname:"facebook",locale:"en-US",redirect_url:"http://www.facebook.com/sharer.php?src=bm&u=${link}&t=${title}&v=3",handler:"share_via_shareaholic"},twitter:{title:"Twitter",nickname:"twitter",locale:"en-US",redirect_url:"http://twitter.com/intent/tweet?text=${template}&source=${source}&related=shareaholic,meattle",handler:"share_via_shareaholic"},google_plus:{title:"Google+",nickname:"google_plus",locale:"en-US",redirect_url:"https://plus.google.com/share?url=${link}",handler:"share_via_redirect"},email_this:{title:"Email This",nickname:"email_this",locale:"en-US",redirect_url:"mailto:?subject=${title}&body=Link: ${link}%0A%0A${notes}%0A%0A--%0Asent via ${source}",handler:"share_via_redirect"},delicious:{title:"Delicious",nickname:"delicious",locale:"en-US",redirect_url:"http://delicious.com/save?url=${link}&title=${title}&notes=${notes}",handler:"share_via_redirect"},reddit:{title:"Reddit",nickname:"reddit",locale:"en-US",redirect_url:"http://reddit.com/submit?url=${link}&title=${title}",handler:"share_via_redirect"},google_mail:{title:"Google Mail",nickname:"google_mail",locale:"en-US",redirect_url:"https://mail.google.com/mail/?ui=2&view=cm&fs=1&tf=1&su=${title}&body=Link: ${link} (sent via ${source}) %0D%0A%0D%0A----%0D%0A ${notes}",handler:"share_via_redirect"},google_bookmarks:{title:"Google Bookmarks",nickname:"google_bookmarks",locale:"en-US",redirect_url:"http://www.google.com/bookmarks/mark?op=edit&bkmk=${link}&title=${title}&annotation=${notes}",handler:"share_via_redirect"},linkedin:{title:"LinkedIn",nickname:"linkedin",locale:"en-US",redirect_url:"http://www.linkedin.com/shareArticle?mini=true&url=${link}&title=${title}&summary=${notes}&source=${source}",handler:"share_via_redirect"},pinterest:{title:"Pinterest",nickname:"pinterest",locale:"en-US",redirect_url:"https://pinterest.com/pin/create/button/?url=${link}&media=${media_link}&description=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:void((function(){var e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)})());"},yahoo_bookmarks:{title:"Yahoo Bookmarks",nickname:"yahoo_bookmarks",locale:"en-US",redirect_url:"http://bookmarks.yahoo.com/toolbar/savebm?u=${link}&t=${title}&ref=${source}",handler:"share_via_redirect"},amazon_us_wish_list:{title:"Amazon (US) Wish List",nickname:"amazon_us_wish_list",locale:"en-US",redirect_url:"http://www.amazon.com/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,x='undefined',u='http://www.amazon.com/gp/wishlist/add';if(typeof s!='object')l.href=u+'?u='+e(l)+'&t='+e(d.title);function g(){if(d.readyState&&d.readyState!='complete'){setTimeout(g,200);}else{if(typeof AUWLBook==x)s.setAttribute('src',u+'.js?loc='+e(l)),d.body.appendChild(s);function f(){(typeof AUWLBook==x)?setTimeout(f,200):AUWLBook.showPopover();}f();}}g();}())"},digg:{title:"Digg",nickname:"digg",locale:"en-US",redirect_url:"http://digg.com/submit?phase=2&url=${link}&title=${title}&bodytext=${notes}",handler:"share_via_redirect"},stumbleupon:{title:"StumbleUpon",nickname:"stumbleupon",locale:"en-US",redirect_url:"http://www.stumbleupon.com/submit?url=${link}&title=${title}",handler:"share_via_redirect"},evernote:{title:"Evernote",nickname:"evernote",locale:"en-US",redirect_url:"https://www.evernote.com/clip.action?url=${link}&title=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title);}})();"},bebo:{title:"Bebo",nickname:"bebo",locale:"en-US",redirect_url:"http://www.bebo.com/c/share?Url=${link}&Title=${title}&TUUID=49057325-25e8-4241-b062-87f2b1693e3d&MID=8594136688",handler:"share_via_redirect"},google_apps_mail:{title:"Google Apps Mail",nickname:"google_apps_mail",locale:"en-US",redirect_url:"https://mail.google.com/mail/?ui=2&view=cm&fs=1&tf=1&su=${title}&body=Link: ${link} (sent via ${source}) %0D%0A%0D%0A ${notes}",handler:"share_via_redirect"},amazon_uk_wish_list:{title:"Amazon (UK) Wish List",nickname:"amazon_uk_wish_list",locale:"en-US",redirect_url:"http://www.amazon.co.uk/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,o='object',n='AUWLBookenGB',u='http://www.amazon.co.uk/wishlist/add',r='readyState',T=setTimeout,a='setAttribute',g=function(){d[r]&&d[r]!='complete'?T(g,200):!w[n]?(s[a]('charset','UTF-8'),s[a]('src',u+'.js?loc='+e(l)+'&b='+n),d.body.appendChild(s),f()):f()},f=function(){!w[n]?T(f,200):w[n].showPopover()};typeof s!=o?l.href=u+'?u='+e(l)+'&t='+e(d.title):g()}())"},amazon_ca_wish_list:{title:"Amazon (CA) Wish List",nickname:"amazon_ca_wish_list",locale:"en-US",redirect_url:"http://www.amazon.ca/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,x='undefined',u='http://www.amazon.ca/gp/wishlist/add';if(typeof s!='object')l.href=u+'?u='+e(l)+'&t='+e(d.title);function g(){if(d.readyState&&d.readyState!='complete'){setTimeout(g,200);}else{if(typeof AUWLBook==x)s.setAttribute('src',u+'.js?loc='+e(l)),d.body.appendChild(s);function f(){(typeof AUWLBook==x)?setTimeout(f,200):AUWLBook.showPopover();}f();}}g();}())"},amazon_de_wish_list:{title:"Amazon (DE) Wish List",nickname:"amazon_de_wish_list",locale:"de",redirect_url:"http://www.amazon.de/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,o='object',n='AUWLBookenGB',u='http://www.amazon.de/wishlist/add',r='readyState',T=setTimeout,a='setAttribute',g=function(){d[r]&&d[r]!='complete'?T(g,200):!w[n]?(s[a]('charset','UTF-8'),s[a]('src',u+'.js?loc='+e(l)+'&b='+n),d.body.appendChild(s),f()):f()},f=function(){!w[n]?T(f,200):w[n].showPopover()};typeof s!=o?l.href=u+'?u='+e(l)+'&t='+e(d.title):g()}())"},amazon_fr_wish_list:{title:"Amazon (FR) Wish List",nickname:"amazon_fr_wish_list",locale:"fr",redirect_url:"http://www.amazon.fr/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,o='object',n='AUWLBookfrFR',u='http://www.amazon.fr/wishlist/add',r='readyState',T=setTimeout,a='setAttribute',g=function(){d[r]&&d[r]!='complete'?T(g,200):!w[n]?(s[a]('charset','UTF-8'),s[a]('src',u+'.js?loc='+e(l)+'&b='+n),d.body.appendChild(s),f()):f()},f=function(){!w[n]?T(f,200):w[n].showPopover()};typeof s!=o?l.href=u+'?u='+e(l)+'&t='+e(d.title):g()}())"},amazon_jp_wish_list:{title:"Amazon (JP) Wish List",nickname:"amazon_jp_wish_list",locale:"ja",redirect_url:"http://www.amazon.co.jp/wishlist/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,o='object',n='AUWLBookfrFR',u='http://www.amazon.co.jp/wishlist/add',r='readyState',T=setTimeout,a='setAttribute',g=function(){d[r]&&d[r]!='complete'?T(g,200):!w[n]?(s[a]('charset','UTF-8'),s[a]('src',u+'.js?loc='+e(l)+'&b='+n),d.body.appendChild(s),f()):f()},f=function(){!w[n]?T(f,200):w[n].showPopover()};typeof s!=o?l.href=u+'?u='+e(l)+'&t='+e(d.title):g()}())"},quora:{title:"Quora",nickname:"quora",locale:"en-US",redirect_url:"http://www.quora.com/boardservices/bookmarklet?v=1&url=${link}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var d=document,w=window,e=w.getSelection,k=d.getSelection,x=d.selection,s=(e?e():(k)?k():(x?x.createRange().text:0)),f='http://www.quora.com/board/bookmarklet',l=d.location,e=encodeURIComponent,p='?v=1&url='+e(l.href),u=f+p;try{if(!/^(.*\\.)?quora[^.]*$/.test(l.host))throw(0);}catch(z){a =function(){if(!w.open(u,'_blank','toolbar=0,scrollbars=no,resizable=1,status=1,width=430,height=400'))l.href=u;};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else a();}void(0)"},mister_wong:{title:"Mister-Wong",nickname:"mister_wong",locale:"en-US",redirect_url:"http://www.mister-wong.com/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},mister_wong_de:{title:"Mister-Wong DE",nickname:"mister_wong_de",locale:"de",redirect_url:"http://www.mister-wong.de/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},mister_wong_es:{title:"Mister-Wong ES",nickname:"mister_wong_es",locale:"es",redirect_url:"http://www.mister-wong.es/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},mister_wong_cn:{title:"Mister-Wong CN",nickname:"mister_wong_cn",locale:"zh-CN",redirect_url:"http://www.mister-wong.cn/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},mister_wong_fr:{title:"Mister-Wong FR",nickname:"mister_wong_fr",locale:"fr",redirect_url:"http://www.mister-wong.fr/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},mister_wong_ru:{title:"Mister-Wong RU",nickname:"mister_wong_ru",locale:"ru",redirect_url:"http://www.mister-wong.ru/index.php?action=addurl&bm_url=${link}&bm_description=${title}&bm_notice=${notes}&plugin=shareaholic",handler:"share_via_redirect"},windows_live_favorites:{title:"Windows Live Favorites",nickname:"windows_live_favorites",locale:"en-US",redirect_url:"https://skydrive.live.com/sharefavorite.aspx/.SharedFavorites?url=${link}&title=${title}",handler:"share_via_redirect"},printfriendly:{title:"PrintFriendly",nickname:"printfriendly",locale:"en-US",redirect_url:"http://www.printfriendly.com/print?url=${link}&partner=${source}",handler:"share_via_redirect"},tumblr:{title:"Tumblr",nickname:"tumblr",locale:"en-US",redirect_url:"http://www.tumblr.com/share?v=3&u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var d=document,w=window,e=w.getSelection,k=d.getSelection,x=d.selection,s=(e?e():(k)?k():(x?x.createRange().text:0)),f='http://www.tumblr.com/share',l=d.location,e=encodeURIComponent,p='?v=3&u='+e(l.href) +'&t='+e(d.title) +'&s='+e(s),u=f+p;try{if(!/^(.*\\.)?tumblr[^.]*$/.test(l.host))throw(0);tstbklt();}catch(z){a =function(){if(!w.open(u,'t','toolbar=0,resizable=0,status=1,width=450,height=430'))l.href=u;};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else a();}void(0);"},wordpress_blog:{title:"WordPress Blog",nickname:"wordpress_blog",locale:"en-US",redirect_url:"http://www.addtoany.com/ext/wordpress/press_this?linkurl=${link}&linkname=${title}&linknote=${notes}",handler:"share_via_redirect"},diigo:{title:"Diigo",nickname:"diigo",locale:"en-US",redirect_url:"http://www.diigo.com/post?url=${link}&title=${title}&desc=${notes}",handler:"share_via_redirect"},yc_hacker_news:{title:"YC Hacker News",nickname:"yc_hacker_news",locale:"en-US",redirect_url:"http://news.ycombinator.com/submitlink?u=${link}&t=${title}&sref=${source}",handler:"share_via_redirect"},techmeme:{title:"Techmeme",nickname:"techmeme",locale:"en-US",redirect_url:"http://twitter.com/home/?status=tip @techmeme ${title} - ${short_link}&source=${source}",handler:"share_via_redirect"},box_net:{title:"Box.net",nickname:"box_net",locale:"en-US",redirect_url:"https://www.box.net/api/1.0/import?url=${link}&name=${title}&description=${notes}&import_as=link",handler:"share_via_redirect"},yammer:{title:"Yammer",nickname:"yammer",locale:"en-US",redirect_url:"http://www.yammer.com/home/bookmarklet?t=${title}&u=${link}&s=${notes}&source=${source}",handler:"share_via_redirect"},facebook_send:{title:"Facebook Send",nickname:"facebook_send",locale:"en-US",redirect_url:"https://www.facebook.com/dialog/send?app_id=207766518608&name=${title}&link=${link}&description=${notes}&redirect_uri=http://www.shareaholic.com/",handler:"share_via_redirect"},shareaholic_archive:{title:"Read Later",nickname:"shareaholic_archive",locale:"en-US",redirect_url:"https://www.shareaholic.com/post?action=bookmark&v=1&link=${link}&title=${title}&notes=${notes}&tags=${tags}&source=${source}",handler:"share_via_redirect"},hotmail:{title:"Hotmail",nickname:"hotmail",locale:"en-US",redirect_url:"http://mail.live.com/?rru=compose%3Fsubject%3D${title}%26body%3D${link} via ${source} %0D%0A%0D%0A----%0D%0A ${notes}",handler:"share_via_redirect"},aol_mail:{title:"AOL Mail",nickname:"aol_mail",locale:"en-US",redirect_url:"http://webmail.aol.com/25045/aol/en-us/Mail/compose-message.aspx?subject=${title}&body=${link}",handler:"share_via_redirect"},yahoo_mail:{title:"Yahoo! Mail",nickname:"yahoo_mail",locale:"en-US",redirect_url:"http://compose.mail.yahoo.com/?Subject=${title}&body=Link: ${link} (sent via ${source}) ---- ${notes}",handler:"share_via_redirect"},instapaper:{title:"Instapaper",nickname:"instapaper",locale:"en-US",redirect_url:"http://www.instapaper.com/edit?url=${link}&title=${title}&summary=${notes}",handler:"share_via_redirect"},msdn:{title:"MSDN",nickname:"msdn",locale:"en-US",redirect_url:"http://social.msdn.microsoft.com/en-US/action/Create/s/E/?url=${link}&bm=true&ttl=${title}&d=${notes}",handler:"share_via_redirect"},orkut:{title:"Orkut",nickname:"orkut",locale:"en-US",redirect_url:"http://promote.orkut.com/preview?nt=orkut.com&du=${link}&tt=${link}&uc=${notes}",handler:"share_via_redirect"},soup_io:{title:"Soup.io",nickname:"soup_io",locale:"en-US",redirect_url:"http://www.soup.io/bookmarklet?v=5&u=${link}&t=${title}&s=${notes}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var es=['body','frameset','head'];var u='http://www.soup.io/';var fn='soup_bookmarklet_'+(Math.floor(Math.random()*100000));window.open(u+'bookmarklet-loading.html',fn,'toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400');try{var s=document.createElement('script');s.setAttribute('src',u+'bookmarklet/js/'+ fn +'/5');for (var i=0;i<es.length;i++) {var e=document.getElementsByTagName(es[i])[0];if(e){e.appendChild(s);break;}}}catch(e){alert('This doesnt work here.');}void(0);"},plurk:{title:"Plurk",nickname:"plurk",locale:"en-US",redirect_url:"http://www.plurk.com/m?content=${link}&qualifier=shares",handler:"share_via_redirect"},arto:{title:"Arto",nickname:"arto",locale:"en-US",redirect_url:"http://www.arto.com/section/linkshare/?lu=${link}&ln=${title}",handler:"share_via_redirect"},hootsuite:{title:"HootSuite",nickname:"hootsuite",locale:"en-US",redirect_url:"http://hootsuite.com/network/hootlet?address=${link}&title=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var d=document,w=window,f='http://hootsuite.com/twitter/bookmark-tool-v2?',l=d.location,e=encodeURIComponent,p='address='+e(l.href)+'&title='+e(d.title),u=f+p;a=function(){if(!w.open(u,'t','scrollbars=1,toolbar=0,location=0,resizable=0,status=0,width=555,height=570'))l.href=u;};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else a();void(0);"},buzzfeed:{title:"BuzzFeed",nickname:"buzzfeed",locale:"en-US",redirect_url:"http://www.buzzfeed.com/bookmarklet_qp?type=link&link=${link}&title=${title}&text=${notes}",handler:"share_via_redirect"},inbound_org:{title:"Inbound.org",nickname:"inbound_org",locale:"en-US",redirect_url:"http://inbound.org/?url=${link}&title=${title}",handler:"share_via_redirect"},wanelo:{title:"Wanelo",nickname:"wanelo",locale:"en-US",redirect_url:"http://wanelo.com/p/post?bookmarklet=&images%5B%5D=&url=${link}&title=${title}&price=&shop=&source=shareaholic",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:void ((function(url){if(!window.waneloBookmarklet){var productURL=encodeURIComponent(url),cacheBuster=Math.floor(Math.random()*1e3),element=document.createElement('script');element.setAttribute('src','//wanelo.com/bookmarklet/3/setup?*='+cacheBuster+'&url='+productURL),element.onload=init,element.setAttribute('type','text/javascript'),document.getElementsByTagName('head')[0].appendChild(element)}else init();function init(){window.waneloBookmarklet()}})(window.location.href))"},aim:{title:"AIM",nickname:"aim",locale:"en-US",redirect_url:"http://share.aim.com/share/?url=${link}&title=${title}",handler:"share_via_redirect"},buzzster:{title:"Buzzster",nickname:"buzzster",locale:"en-US",redirect_url:"http://www.buzzster.com/share?v=5;link=${link}&subject=${title}&comment=${notes}&src=${source}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var s=document.createElement('script');s.src='//www.shareaholic.com/media/js/bookmarklets/buzzster.js';s.type='text/javascript';void(document.getElementsByTagName('head')[0].appendChild(s));"},stumpedia:{title:"Stumpedia",nickname:"stumpedia",locale:"en-US",redirect_url:"http://www.stumpedia.com/submit?url=${link}&title=${title}",handler:"share_via_redirect"},identi_ca:{title:"Identi.ca",nickname:"identi_ca",locale:"en-US",redirect_url:"http://identi.ca/notice/new?status_textarea=${title}%20${link}",handler:"share_via_redirect"},viadeo:{title:"Viadeo",nickname:"viadeo",locale:"en-US",redirect_url:"http://www.viadeo.com/shareit/share/?url=${link}&title=${title}",handler:"share_via_redirect"},yahoo_messenger:{title:"Yahoo Messenger",nickname:"yahoo_messenger",locale:"en-US",redirect_url:"ymsgr:sendim?m=${link}",handler:"share_via_redirect"},pinboard_in:{title:"Pinboard.in",nickname:"pinboard_in",locale:"en-US",redirect_url:"http://pinboard.in/add?url=${link}&title=${title}&description=${notes}",handler:"share_via_redirect"},amazon_universal_registry:{title:"Amazon Universal Registry",nickname:"amazon_universal_registry",locale:"en-US",redirect_url:"http://www.amazon.com/registry/add?u=${link}&t=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var w=window,l=w.location,d=w.document,s=d.createElement('script'),e=encodeURIComponent,o='object',n='AUWLBook',u='http://www.amazon.com/registry/add',r='readyState',T=setTimeout,a='setAttribute',g=function(){d[r]&&d[r]!='complete'?T(g,200):!w[n]?(s[a]('charset','UTF-8'),s[a]('src',u+'.js?loc='+e(l)),d.body.appendChild(s),f()):f()},f=function(){!w[n]?T(f,200):w[n].showPopover()};typeof s!=o?l.href=u+'?u='+e(l)+'&t='+e(d.title):g()}())"},buffer:{title:"Buffer",nickname:"buffer",locale:"en-US",redirect_url:"http://bufferapp.com/add?url=${link}&text=${title}",handler:"share_via_redirect"},flipboard:{title:"Flipboard",nickname:"flipboard",locale:"en-US",redirect_url:"https://share.flipboard.com/flipit/load?v=1.0&url=${link}&title=${title}",handler:"share_via_redirect"},mail:{title:"Mail",nickname:"mail",locale:"en-US",redirect_url:"mailto:?subject=${title}&body=Link: ${link}%0A%0A${notes}%0A%0A--%0Asent via ${source}",handler:"share_via_redirect"},bit_ly:{title:"Bit.ly",nickname:"bit_ly",locale:"en-US",redirect_url:"http://bit.ly/?v=3&u=${link}&s=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var e=document.createElement('script');e.setAttribute('language','javascript');e.setAttribute('src','http://bit.ly/bookmarklet/load.js');document.body.appendChild(e);void(0);"},kaboodle:{title:"Kaboodle",nickname:"kaboodle",locale:"en-US",redirect_url:"http://www.kaboodle.com/",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var _mg56v='0.3';(function(){var d=document;var s;try{s=d.standardCreateElement('script');}catch(e){}if(typeof(s)!='object')s=d.createElement('script');try{s.type='text/javascript';s.src='http://www.kaboodle.com/zg/g.js';s.id='c_grab_js';d.getElementsByTagName('head')[0].appendChild(s);}catch(e){ window.location ='http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u='+window.location;}})();"},we_heart_it:{title:"We Heart It",nickname:"we_heart_it",locale:"en-US",redirect_url:"",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:void((function(){var e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','https://weheartit.com/bookmarklet.js');document.body.appendChild(e)})());"},blogger_post:{title:"Blogger Post",nickname:"blogger_post",locale:"en-US",redirect_url:"http://www.blogger.com/blog_this.pyra?t=&u=${link}&l&n=${title}",handler:"share_via_redirect"},typepad_post:{title:"TypePad Post",nickname:"typepad_post",locale:"en-US",redirect_url:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title=${title}&qp_href=${link}&qp_text=${title}",handler:"share_via_redirect"},tinyurl:{title:"TinyURL",nickname:"tinyurl",locale:"en-US",redirect_url:"http://tinyurl.com/create.php?url=${link}",handler:"share_via_redirect"},boxee:{title:"Boxee",nickname:"boxee",locale:"en-US",redirect_url:"http://boxee.tv/",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var b=document.body;if(b&&!document.xmlVersion){void(z=document.createElement('script'));void(z.src='http://www.boxee.tv/bookmarklet');void(b.appendChild(z));}else{}"},springpad:{title:"SpringPad",nickname:"springpad",locale:"en-US",redirect_url:"http://springpadit.com/s?type=lifemanagr.Bookmark&url=${link}&name=${title}",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){SP_HOST='http://springpadit.com';try{var x=document.createElement('SCRIPT');x.type='text/javascript';x.src=SP_HOST+'/public/clipper_inline.js?'+(new Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=SP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title);}})();"},ning:{title:"Ning",nickname:"ning",locale:"en-US",redirect_url:"http://bookmarks.ning.com/addItem.php?url=${link}&T=${title}",handler:"share_via_redirect"},izeby:{title:"iZeby",nickname:"izeby",locale:"en-US",redirect_url:"http://izeby.com/submit.php?url=${link}",handler:"share_via_redirect"},wykop:{title:"Wykop",nickname:"wykop",locale:"pl",redirect_url:"http://www.wykop.pl/dodaj?url=${link}&title=${title}",handler:"share_via_redirect"},twitthat:{title:"TwitThat",nickname:"twitthat",locale:"en-US",redirect_url:"http://twitthat.com/go?url=${link}&title=${title}",handler:"share_via_redirect"},diigolet:{title:"Diigolet",nickname:"diigolet",locale:"en-US",redirect_url:"http://www.diigo.com/",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){s=document.createElement('script');s.type='text/javascript';s.src='http://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js';document.body.appendChild(s);})();"},fark:{title:"Fark",nickname:"fark",locale:"en-US",redirect_url:"http://cgi.fark.com/cgi/fark/submit.pl?new_url=${link}",handler:"share_via_redirect"},pocket:{title:"Pocket",nickname:"pocket",locale:"en-US",redirect_url:"https://readitlaterlist.com/save?url=${link}&title=${title}",handler:"share_via_redirect"}},Shareaholic.ALL_SERVICE_LIST=["facebook","twitter","google_plus","email_this","delicious","reddit","google_mail","google_bookmarks","linkedin","pinterest","yahoo_bookmarks","amazon_us_wish_list","digg","stumbleupon","evernote","bebo","google_apps_mail","amazon_uk_wish_list","amazon_ca_wish_list","amazon_de_wish_list","amazon_fr_wish_list","amazon_jp_wish_list","quora","mister_wong","mister_wong_de","mister_wong_es","mister_wong_cn","mister_wong_fr","mister_wong_ru","windows_live_favorites","printfriendly","tumblr","wordpress_blog","diigo","yc_hacker_news","techmeme","box_net","yammer","facebook_send","shareaholic_archive","hotmail","aol_mail","yahoo_mail","instapaper","msdn","orkut","soup_io","plurk","arto","hootsuite","buzzfeed","inbound_org","wanelo","aim","buzzster","stumpedia","identi_ca","viadeo","yahoo_messenger","pinboard_in","amazon_universal_registry","buffer","flipboard","mail","bit_ly","kaboodle","we_heart_it","blogger_post","typepad_post","tinyurl","boxee","springpad","ning","izeby","wykop","twitthat","diigolet","fark","pocket"],Shareaholic.SERVICES.all={locale:"en-US",nickname:"all",title:"More Options",handler:"show_all_services"},Shareaholic.ALL_SERVICE_LIST.push("all"),function(){window.Shareaholic||(window.Shareaholic={}),window.Shareaholic.SDK=function(){function SDK(){}return SDK.Utils=Shareaholic.Utils,SDK.services_json=Shareaholic.SERVICES,SDK.countable_services=["twitter","facebook","linkedin","pinterest","delicious"],SDK.set_endpoints=function(){return this.API_ENDPOINTS={publisher_config:"https://s3.amazonaws.com/publisher_configurations.shareaholic",user_info:""+Shareaholic.ORIGIN_URL+"/v2/user_info",recommendations_v2:"https://shareaholic.com/v2/recommendations/api",recommendations:""+Shareaholic.RECOMMENDATIONS_URL+"/v3/recommend",share:""+Shareaholic.ORIGIN_URL+"/v2/share",image:""+Shareaholic.IMAGES_URL+"/pagePic",traffic:""+Shareaholic.TRAFFIC_URL+"/e"}
},SDK.set_endpoints(),SDK.init=function(){return this.get_user_info()},SDK.share=function(e){var t,i,n;null==e&&(e={});try{return this.validate_share_params(e.data),n=e.data.service_nickname,i=e.handler||this.services_json[n].handler,Shareaholic.SDK[i].call(this,e)}catch(r){if(t=r,"ValidationError"===t.name)return Shareaholic.Utils.error("there was an error sharing:",t.message);throw t}},SDK.authenticate=function(e){var t,i,n,r,s=this;return Shareaholic.Utils.debug("in authentication SDK"),n="authentication",this.Utils.Browser.is_ie&&(Shareaholic.Utils.debug("in browser is IE. Lets creat a polling frame"),this.Utils.PostMessage.create_polling_frame(n)),i={success:function(t){return s.on_authentication_success(t,e.success)},failure:function(t){return s.on_authentication_failure(t,e.failure)}},this.Utils.PostMessage.receive(n,i),t=encodeURIComponent(""+Shareaholic.ORIGIN_URL+"/v2/authentication"),r=Shareaholic.ORIGIN_URL+("/auth/"+e.service+"?origin="+t),window.open_window=window.open(r,"connect_account","height=500,width=700")},SDK.on_authentication_success=function(e,t){return Shareaholic.Utils.debug("In Authentication Success. data: ",e),SDK.connected_accounts=e.accounts,"function"==typeof t?t(e):void 0},SDK.on_authentication_failure=function(e,t){return"function"==typeof t?t(e):void 0},SDK.get_services=function(){return Shareaholic.SERVICES?void 0:Shareaholic.Utils.load_script({src:Shareaholic.ORIGIN_URL+"/assets-development/pub/services_json.js",success:function(){return Shareaholic.SDK.services_json=window.shareaholic_services_json||Shareaholic.SERVICES,Shareaholic.Dispatcher.trigger("on_get_services_complete")}})},SDK.get_user_info=function(){var e,t=this;return Shareaholic.Utils.debug("In get_user_info"),e=this.API_ENDPOINTS.user_info,Shareaholic.Utils.jsonp({url:e,success:function(e){return Shareaholic.user_info=e,t.connected_accounts=e.accounts,Shareaholic.Dispatcher.trigger("on_get_user_info_complete",e),Shareaholic.Dispatcher.trigger("on_get_user_info_success",e)},failure:function(){return Shareaholic.user_info={},Shareaholic.Dispatcher.trigger("on_get_user_info_complete",{})}})},SDK.share_via_shareaholic=function(e){return e.data.service_nickname in this.connected_accounts?this.send_share_to_shareaholic(e):this.authenticate(e.data.service_nickname)},SDK.share_via_redirect=function(e){var t;return this.report_to_event_api(e),t=Shareaholic.Utils.compile_string(this.services_json[e.data.service_nickname].redirect_url,e.data,!0),window.open(t,"shareaholic_share_external","top=50,left=50,width=800,height=600")},SDK.share_via_bookmarklet=function(params){var bookmarklet;return Shareaholic.Utils.debug("bookmarklet"),this.report_to_event_api(params),bookmarklet=this.services_json[params.data.service_nickname].bookmarklet_url,eval(bookmarklet)},SDK.send_share_to_shareaholic=function(e){var t,i,n,r;Shareaholic.Utils.debug("In send_share_to_shareaholic"),this.validate_share_params(e.data),i=this.API_ENDPOINTS.share+"?",r=e.data;for(t in r)n=r[t],i+=""+t+"="+encodeURIComponent(n)+"&";return i=i.replace(/&$/,""),Shareaholic.Utils.ajax({success:e.success,failure:e.failure,url:i,method:"POST",withCredentials:!0})},SDK.validate_share_params=function(e){var t,i,n,r,s;for(null==e&&(e={}),n=["service_nickname","api_key","link"],t="",r=0,s=n.length;s>r;r++)i=n[r],i in e||(t+=""+i+" is missing. ");if(t.length>1)throw{name:"ValidationError",message:t}},SDK.report_to_event_api=function(e){return this.send_share_to_shareaholic(e)},SDK.has_connected_accounts=function(){return Shareaholic.Utils.is_empty(this.connected_accounts)===!1},SDK.get_v2_recommendations=function(e){var t,i=this;return Shareaholic.recommendations||(Shareaholic.recommendations={}),t={urls:e.url,n:e.internal},e.site_id&&(t.apikey=e.site_id),Shareaholic.Utils.debug("In get_v2_recommendations "+e.url),Shareaholic.Utils.ajax({url:this.API_ENDPOINTS.recommendations_v2,data:t,success:function(t){var n;return n=i.normalize_recommendation_properties(i.normalize_v2_recommendations(t.data[e.url]),e),Shareaholic.recommendations[e.url]=n,"function"==typeof e.success?e.success(n):void 0}})},SDK.get_v3_recommendations=function(e){var t,i,n=this;return Shareaholic.recommendations||(Shareaholic.recommendations={}),i={url:e.url,internal:e.internal,sponsored:e.sponsored},e.site_id&&(i.apiKey=e.site_id),Shareaholic.Utils.debug("In get_recommendations "+e.url),t={url:this.API_ENDPOINTS.recommendations,headers:{"x-shr-device-type":Shareaholic.Utils.Browser.device_type},fallback:"jsonp",callback_parameter:"jsonp",data:i,success:function(t){var i;return e.plan_id=t.id,i=n.prepare_recommendations(t,e),Shareaholic.recommendations[e.url]=i,"function"==typeof e.success?e.success(i):void 0}},Shareaholic.Utils.ajax(t)},SDK.get_recommendations=function(e){return this.get_v3_recommendations(e)},SDK.normalize_v2_recommendations=function(e){var t,i,n,r,s;for(i=[],r=0,s=e.length;s>r;r++)n=e[r],t={id:null,url:n.canonical||n.link,title:n.title,description:n.description,image_id:null,campaign_id:null,thumbnail:n.thumbnail_url||n.t_url,type:"internal"},i.push(t);return i},SDK.bucketize_recs=function(e){var t,i,n,r;for(r=e.recommendations,i=0,n=r.length;n>i;i++)t=r[i],e[t.type].push(t);return e},SDK.prepare_recommendations=function(e,t){var i,n,r,s,o;return e.internal||(e.internal=[]),e.sponsored||(e.sponsored=[]),e.recommendations&&(e=this.bucketize_recs(e)),n=e.parameters.internal,r=e.internal.length,o=e.sponsored.length,i=n-o,s=e.internal.slice(0,i).concat(e.sponsored).shufffle(),this.normalize_recommendation_properties(s,t)},SDK.normalize_recommendation_properties=function(e,t){var i,n,r,s;for(null==t&&(t={}),i={title_length:100,description_length:90,mobile_title_length:40,mobile_preview_title_length:55},t=Shareaholic.Utils.merge_objects(t,i),r=0,s=e.length;s>r;r++)n=e[r],n.plan_id=t.plan_id,n.campaign_id=n.campaign||n.campaign_id,n.image_id=n.imageId||n.image_id,n.original_title=n.title,n.original_description=n.description,n.tracking_link_url=Shareaholic.SDK.recommendation_click_url(n),n.thumbnail||(n.thumbnail=this.get_recommendation_thumbnail(n)),n.title=Shareaholic.Utils.ellipsis(n.original_title,t.title_length),n.mobile_title=Shareaholic.Utils.ellipsis(n.original_title,t.mobile_title_length),n.mobile_preview_title=Shareaholic.Utils.ellipsis(n.original_title,t.mobile_preview_title_length),n.description=Shareaholic.Utils.ellipsis(n.original_description,t.description_length),n.color_class=Shareaholic.Utils.random_color(),n.impression_url=this.impression_url(n),n.site_name=Shareaholic.Utils.site_name_from_url(n.url),n.sponsored="sponsored"===n.type,delete n.campaign,delete n.imageId;return e},SDK.get_total_share_count=function(e,t){var i,n;n=[];for(i in Shareaholic.SDK.countable_services)n.push(Shareaholic.SDK.get_share_count_from_service(e,i,t));return n},SDK.get_share_count_from_service=function(e,t,i){var n,r,s,o,a,l,c;for(t="object"==typeof t?t:[t],n={data:{url:e},success:function(e){return Shareaholic.Utils.debug("Successful share count retreival."),i(e.count)},failure:function(){return Shareaholic.Utils.debug("Failed share count retreival.")}},o={linkedin:{url:"//www.linkedin.com/countserv/count/share"},twitter:{url:"//cdn.api.twitter.com/1/urls/count.json"},facebook:{url:"//graph.facebook.com",data:{id:e},success:function(e){var t;return t=e.shares||0,i(t)}},delicious:{url:"//feeds.delicious.com/v2/json/urlinfo/data",success:function(e){var t,n;return t=(null!=(n=e[0])?n.total_posts:void 0)||0,i(t)}},pinterest:{url:"//api.pinterest.com/v1/urls/count.json"}},c=[],a=0,l=t.length;l>a;a++)r=t[a],s=o[r],!s||"https:"===window.location.protocol&&"delicious"===r?c.push(void 0):c.push(Shareaholic.Utils.jsonp(Shareaholic.Utils.merge_objects(s,n)));return c},SDK.get_recommendation_image=function(e,t){return null==t&&(t={}),this.get_image(e.image_id,t)||""},SDK.get_recommendation_thumbnail=function(e){var t;return t=this.Utils.Browser.is_retina?600:300,this.get_recommendation_image(e,{width:t})||""},SDK.get_image=function(e,t){var i;return null==t&&(t={}),i=""+this.API_ENDPOINTS.image+"/"+e,e?Shareaholic.Utils.query_string(t,i):!1},SDK.impression_url=function(e){var t;return t={a:7,r:2},e.campaign_id&&(t.c=e.campaign_id),e.plan_id&&(t.p=e.plan_id),this.traffic_link(e.url,t)},SDK.recommendation_click_url=function(e){var t;return t={a:4,r:1},e.campaign_id&&(t.c=e.campaign_id),e.plan_id&&(t.p=e.plan_id),this.traffic_link(e.url,t)},SDK.traffic_link=function(e,t){return null==t&&(t={}),t.u=e,t=Shareaholic.Utils.merge_objects(t,{a:1,r:1}),e.match(/^(https?:)?\/\/traffic\.(shareaholic|stageaholic|spreadaholic)\.com/)?e:Shareaholic.Utils.query_string(t,this.API_ENDPOINTS.traffic)},SDK}.call(this)}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}};e=sQuery,t=Shareaholic.prototype.Handlebars,window.Shareaholic.prototype.MultiSharePanel=function(){function n(e,t){this.parent_view=e,this.config=null!=t?t:{},this.auth_connect_button_click_handler=i(this.auth_connect_button_click_handler,this),this.connected_account_click_handler=i(this.connected_account_click_handler,this),this.message_mousedown_handler=i(this.message_mousedown_handler,this),this.message_new_word_handler=i(this.message_new_word_handler,this),this.message_blur_handler=i(this.message_blur_handler,this),this.message_keyup_handler=i(this.message_keyup_handler,this),this.submit_btn_click_handler=i(this.submit_btn_click_handler,this),this.add_account_btn_click_handler=i(this.add_account_btn_click_handler,this),this.update_multi_share_result_status=i(this.update_multi_share_result_status,this),this.show_multi_share_result=i(this.show_multi_share_result,this),this.show_single_share_result=i(this.show_single_share_result,this),this.on_auth_failure=i(this.on_auth_failure,this),this.on_auth_success=i(this.on_auth_success,this),this.populate_message=i(this.populate_message,this),Shareaholic.Utils.debug("Constructor"),this.init(this.config)}return n.options={},n.instances=[],n.share_buttons=[],n.e_namespace="multi_share_panel",n.prototype.init=function(e){return this.config=null!=e?e:{},Shareaholic.prototype.MultiSharePanel.instances.push(this),Shareaholic.Utils.debug(this.config),this.state={},this.preview_panes={},Shareaholic.Utils.debug("in multi-share-panel init"),this.$connected_accounts=this.parent_view.$view.find(".connected-accounts"),this.$heading=this.parent_view.$view.find("h3"),this.$message_form=this.parent_view.$view.find(".post form"),this.$message=this.parent_view.$view.find(".share-message textarea"),this.$submit_btn=this.parent_view.$view.find(".submit"),this.$character_count=this.parent_view.$view.find(".character-count"),this.$preview_panes=this.parent_view.$view.find(".preview-panes"),this.$link_preview_container=this.parent_view.$view.find("#link_preview_pane"),this.$email_btn=this.parent_view.$view.find(".email-button"),this.$all_btn=this.parent_view.$view.find(".all-button"),this.setup_events(),this.update_character_count(),this.check_ready_state(),this.toggle_link_preview_visibility()},n.prototype.setup_events=function(){var t,i=this;return t=e("body"),this.$submit_btn.on("click",this.submit_btn_click_handler),this.$message.on("keyup",this.message_keyup_handler).on("blur",this.message_blur_handler).on("mousedown",this.message_mousedown_handler),this.$email_btn.on("click",function(e){return Shareaholic.share_handlers.share_via_redirect("email_this",i.state.share_object,e),i.parent_view.hide(!0)}),this.$all_btn.on("click",function(){return Shareaholic.share_handlers.show_all_services(null,i.state.share_object)})},n.prototype.show=function(e){var t;return Shareaholic.Utils.debug("in MultiSharePanel show method",e),(null!=e?null!=(t=e.data)?t.share_object:void 0:void 0)&&(this.state.share_object=e.data.share_object),this.account_verification(e)},n.prototype.populate_account_list=function(e){var i,n;return null==e&&(e={}),Shareaholic.Utils.debug("in populate_account_list",e),(n=Shareaholic.compiled_templates).connected_accounts_list||(n.connected_accounts_list=t.compile(Shareaholic.templates.connected_accounts_list)),i=Shareaholic.compiled_templates.connected_accounts_list(this.connected_account_array()),this.$connected_accounts.html(i),this.$connected_accounts.find(".connected-account a").on("click",this.connected_account_click_handler),this.$connected_accounts.find(".new-account a").on("click",this.add_account_btn_click_handler),e.preselect_service&&this.select_connected_accounts_by_service(e.preselect_service),e.preselect_accounts?this.select_connected_accounts_by_id(e.preselect_accounts):void 0},n.prototype.account_limit=function(){return Shareaholic.SDK.connected_accounts.length>=6},n.prototype.hide_link_preview=function(e){return null==e&&(e=!1),this.$link_preview_container.hide(),this.state.attach_link_to_post=!1,e?this.state.manually_disabled_link=!0:void 0},n.prototype.show_link_preview=function(){return this.$link_preview_container.show(),this.state.attach_link_to_post=!0},n.prototype.update_link_preview=function(){var e,i,n,r,s,o,a,l,c,h,u,d=this;return(u=Shareaholic.compiled_templates).link_preview||(u.link_preview=t.compile(Shareaholic.templates.link_preview)),h=Shareaholic.compiled_templates.link_preview(this.state.share_object.params()),this.$link_preview_container.html(h),l=this.$link_preview_container.find(".thumbnail-picker"),c=this.$link_preview_container.find(".thumbnail"),i=this.$link_preview_container.find("img"),a=this.$link_preview_container.find(".previous-btn"),o=this.$link_preview_container.find(".next-btn"),e=this.$link_preview_container.find("small"),r=this.$link_preview_container.find(".close-button"),s=this.$link_preview_container.find(".link-title"),n=this.$link_preview_container.find(".link-notes"),this.state.share_object.get("images").length&&(e.html(this.state.share_object.image_location()),a.on("click",function(){return d.set_preview_image(d.state.share_object.select_previous_image(),i,e)}),o.on("click",function(){return d.set_preview_image(d.state.share_object.select_next_image(),i,e)}),c.on("click",function(){return d.set_preview_image(d.state.share_object.select_next_image(),i,e)})),r.on("click",function(){return d.hide_link_preview(!0)}),s.on("keyup."+this.e_namespace,function(){return d.state.share_object.set("title",s.text())}),n.on("keyup."+this.e_namespace,function(){return d.state.share_object.set("notes",n.text())})},n.prototype.set_preview_image=function(t,i,n){var r,s=this;return r=e("<img>"),e(".thumbnail-picker").pacify({theme:"light"}),r.on("load",function(){return i.attr("src",t),n.html(s.state.share_object.image_location()),e(".thumbnail-picker").pacify("stop")}),r.attr("src",t)},n.prototype.update_character_count=function(){var e,t,i;return this.state.character_limit?(t=this.state.character_limit-this.get_character_count(),e="warn-severe warn-mild",this.$submit_btn.removeClass("ui-disabled"),this.state.over_character_limit=!1,i="",0>t&&(this.state.over_character_limit=!0,this.$submit_btn.addClass("ui-disabled")),10>=t?i="warn-severe":20>=t&&(i="warn-mild"),this.$character_count.html(t).removeClass(e).addClass(i)):void 0},n.prototype.get_character_count=function(){var e,t,i;return i=this.get_message(),e=i.length,t=Shareaholic.Utils.find_links_in_string(i),e-=t.join("").length-22*t.length},n.prototype.pacify_panel=function(){var t;return t=e("<i>",{"class":"ui-icon ui-loading-grey"}),this.$character_count.empty().append(t),this.$message_form.pacify({theme:"light",indicator:!1}),this.$connected_accounts.pacify({theme:"light",indicator:!1}),this.$submit_btn.addClass("ui-disabled").attr("disabled","disabled")},n.prototype.unpacify_panel=function(){return this.$message_form.pacify("stop"),this.$connected_accounts.pacify("stop"),this.update_character_count(),this.check_ready_state()},n.prototype.check_ready_state=function(){return this.$submit_btn.removeClass("ui-disabled").removeAttr("disabled"),this.get_selected_accounts().length<1||this.has_no_message()||this.state.over_character_limit?this.$submit_btn.addClass("ui-disabled").attr("disabled","disabled"):void 0},n.prototype.toggle_link_preview_visibility=function(e){var t,i,n,r,s;for(this.hide_link_preview(),i=["facebook","linked_in"],-1!==i.indexOf(e)&&(this.state.manually_disabled_link=!1),s=this.get_selected_accounts(),n=0,r=s.length;r>n;n++)if(t=s[n],-1!==i.indexOf(this.get_connected_account_type(t))&&!this.state.manually_disabled_link)return this.show_link_preview(),!0},n.prototype.toggle_character_count_visibility=function(){var e,t,i,n;for(this.$character_count.hide(),this.state.over_character_limit=!1,this.state.character_limit=!1,n=this.get_selected_accounts(),t=0,i=n.length;i>t;t++)if(e=n[t],"twitter"===this.get_connected_account_type(e))return this.$character_count.css({display:"inherit"}),this.state.character_limit=140,this.update_character_count(),!0},n.prototype.has_no_message=function(){return""===this.get_message()},n.prototype.get_message=function(e){return e?this.$message.val().trim():this.$message.val()},n.prototype.populate_message=function(){var e;return Shareaholic.Utils.debug("in populate_message"),e=this.state.share_object.get("text"),this.$message.val(e)},n.prototype.account_verification=function(e){var t;return Shareaholic.Utils.debug("CONNECTED ACCOUNTS: ",Shareaholic.SDK.connected_accounts,e),Shareaholic.user_info?Shareaholic.SDK.has_connected_accounts()?(this.populate_account_list(e.data),this.populate_message(),this.shorten_links(),this.update_character_count(),this.update_link_preview(),this.check_ready_state()):(Shareaholic.Utils.debug("There are no accounts, show the Authentication panel."),this.show_auth()):(Shareaholic.Utils.debug("HAS NOT GOTTEN USER DATA YET",this),Shareaholic.show_waiting_panel("Loading Account Information"),t=this.parent_view,Shareaholic.Dispatcher.add("on_get_user_info_complete",function(){return t?(t.show(e),!0):void 0}))},n.prototype.show_auth=function(){var t,i=this;return t={template:Shareaholic.templates.connect_account_panel,title:"Connect an Account",data:{cancel_button_text:"Cancel"},onrendertemplate:function(e){return e.find(".cancel-button").on("click",function(){return Shareaholic.SDK.has_connected_accounts()?i.parent_view.show({data:{preselect_accounts:i.get_selected_accounts()}}):i.connect_account_panel.hide(!0)})},init:function(){return e(".auth-connect-button").on("click",i.auth_connect_button_click_handler)},show:function(){return Shareaholic.SDK.has_connected_accounts()?i.connect_account_panel.$view.find(".cancel-button").text("Go Back"):void 0}},this.connect_account_panel=new Shareaholic.prototype.PanelView("connect_account_panel",t,this.config.panel_namespace),this.connect_account_panel.show()},n.prototype.on_auth_success=function(e){var t,i,n,r;if(Shareaholic.Utils.debug("on_auth_success",e),this.parent_view){t=this.get_selected_accounts(),r=e.most_recent_auth;for(n in r)i=r[n],t.push(i.authentication_id);return this.parent_view.show({data:{preselect_accounts:t}})}},n.prototype.on_auth_failure=function(e){return Shareaholic.Utils.debug("on_auth_failure",e),this.connect_account_panel.display_errors(e.responseText)},n.prototype.show_single_share_result=function(e,t){var i,n,r,s=this;return r=this.get_share_result_params(e,t),i={has_footer:!1,onrendertemplate:function(e){var t;return s.$share_panel_result=e,s.$share_panel_result_message=e.find(".result-message"),s.$share_panel_result_auth_btns=e.find(".auth-connect-button"),s.$share_panel_result_retry_button=e.find(".retry-button"),null!=(t=s.$share_panel_result_auth_btns)?t.on("click",s.auth_connect_button_click_handler):void 0},init:function(){},show:function(t){var i;return null==t&&(t={}),null!=(i=s.$share_panel_result_retry_button)?i.off("click").on("click",function(){return s.parent_view.show({data:{preselect_accounts:e}})}):void 0}},this.share_result_panel=new Shareaholic.prototype.PanelView("share_result",i,this.config.panel_namespace),n=Shareaholic.Utils.merge_objects({result:t,auth_id:e},r),this.share_result_panel.show({data:n,recompile:!0}),200===t.status?this.share_result_panel.delay_hide():void 0},n.prototype.show_multi_share_result=function(e){var t,i=this;return t={has_footer:!1,onrendertemplate:function(e){return i.$multi_retry_button=e.find(".retry-button").hide(),i.$multi_auth_buttons=e.find(".auth-connect-button").hide().on("click",i.auth_connect_button_click_handler)},init:function(){},show:function(e){return null==e&&(e={}),i.multi_preselect_accounts=[],i.$multi_retry_button.off("click.shareaholic_multi_retry").on("click.shareaholic_multi_retry",function(){return i.parent_view.show({data:{preselect_accounts:i.multi_preselect_accounts}})})}},this.share_result_panel_multi=new Shareaholic.prototype.PanelView("share_result_panel_multi",t,this.config.panel_namespace),this.share_result_panel_multi.show({data:{message:"Preparing Shares...",shares:this.get_connected_accounts_by_ids(e)},recompile:!0})},n.prototype.update_multi_share_result_status=function(e,t){var i,n,r,s;return Shareaholic.Utils.debug("in update_multi_share_result_status",e),200!==t.status&&this.multi_preselect_accounts.push(e),s=this.get_share_result_params(e,t),r=this.share_result_panel_multi.$view.find(".share-status-widget"),n=r.filter("[data-auth-id='"+e+"']"),n.addClass(s.result_class),i=n.find(".status-indicator i"),i.removeClass("icon-waiting").addClass("icon-"+s.result_class).attr("title",t.message),s.show_retry_button&&this.$multi_retry_button.show(""),s.auth_account_type&&(this.$multi_retry_button.show(""),this.$multi_auth_buttons.filter("[data-service='"+s.auth_account_type+"']").show(""),this.$multi_retry_button.text("Authenticate").off("click.shareaholic_multi_retry").on("click.shareaholic_multi_retry",this.auth_connect_button_click_handler).data("service",s.auth_account_type)),r.filter(".success").length===r.length?this.share_result_panel_multi.delay_hide():void 0},n.prototype.get_share_result_params=function(e,t){var i,n,r;return i=this.get_connected_account_type(e),r=i.capitalize(),n={show_retry_button:!1,auth_account_type:!1},200===t.status?(n.message="Shazowie! Your share was successfully posted.",n.result_class="success"):(n.show_retry_button=!0,n.result_class="error",511===t.status?(n.message="Drats! Your "+r+" may not be authenticated.",n.remedy="Try clicking the authentication below and giving it another shot.",n.auth_account_type=i,n.show_retry_button=!1):502===t.status?(n.message="Dang! "+r+" appears to be unavailable.",n.remedy="Give it a couple minutes and try again later."):429===t.status?(n.message=""+r+" thinks that you are getting a little trigger happy.",n.remedy="Try switching to decaf and check back in a few."):409===t.status?(n.message="Whoa, Deja Vu. "+r+" swears that you just posted that.",n.remedy="Double check your message to make sure that it is not a duplicate."):(n.message="Great Scott! Something may be wrong in the cloud.",n.remedy="Give it a couple minutes and try again later.")),n},n.prototype.connected_account_array=function(){return this.get_connected_accounts_by_services(["facebook","twitter"])},n.prototype.get_selected_accounts=function(){var t,i;return i=[],t=this.$connected_accounts.find("ul li a.selected"),t.each(function(t,n){return i.push(e(n).data("auth-id"))}),i},n.prototype.get_connected_accounts_by_services=function(e,t){var i,n,r,s;for(null==t&&(t=!1),e="object"==typeof e?e:[e],i=[],r=0,s=e.length;s>r;r++)n=e[r],i=i.concat(this.get_connected_accounts_by_service(n,t));return i},n.prototype.get_connected_accounts_by_service=function(e,t){var i,n,r,s,o;if(null==t&&(t=!1),n=[],Shareaholic.SDK.connected_accounts[e])for(o=Shareaholic.SDK.connected_accounts[e],r=0,s=o.length;s>r;r++)i=o[r],n.push(t?i.authentication_id:i);return n},n.prototype.select_connected_accounts_by_service=function(e){var t;return t=this.$connected_accounts.find("ul li.connected-account."+e+" a"),t.trigger("click"),!0},n.prototype.select_connected_accounts_by_id=function(e){var t,i,n,r,s,o;for(e="object"==typeof e?e:[e],s=Shareaholic.Utils.remove_duplicates(e),o=[],n=0,r=s.length;r>n;n++)i=s[n],t=this.$connected_accounts.find("ul li#auth-"+i+" a"),o.push(t.trigger("click",{currentTarget:t}));return o},n.prototype.get_connected_account_type=function(e){var t,i,n,r,s,o;o=Shareaholic.SDK.connected_accounts;for(n in o)for(i=o[n],r=0,s=i.length;s>r;r++)if(t=i[r],t.authentication_id===e)return n;return!1},n.prototype.get_connected_account_by_id=function(e){var t,i,n,r,s,o;o=Shareaholic.SDK.connected_accounts;for(n in o)for(i=o[n],r=0,s=i.length;s>r;r++)if(t=i[r],t.authentication_id===e)return t;return!1},n.prototype.get_connected_accounts_by_ids=function(e){var t,i,n,r;for(e="object"==typeof e?e:[e],t=[],n=0,r=e.length;r>n;n++)i=e[n],t.push(this.get_connected_account_by_id(i));return t},n.prototype.validate_share=function(){var e,t,i,n,r,s,o=this;if(e=this.get_selected_accounts(),e.length<=0)return!1;for(e.length>1?(this.show_multi_share_result(e),n=this.update_multi_share_result_status,i=this.update_multi_share_result_status):(this.pacify_panel(),n=function(e,t){return o.show_single_share_result(e,t),o.unpacify_panel()},i=function(e,t){return o.show_single_share_result(e,t),o.unpacify_panel()}),r=0,s=e.length;s>r;r++)t=e[r],this.make_share(t,n,i);return!1},n.prototype.make_share=function(e,t,i){var n;return n={success:function(){return t(e,{status:200})},failure:function(t){return i(e,t)},data:this.state.share_object.share_request({authentication_id:e,service_nickname:this.get_connected_account_type(e)},!0)},Shareaholic.SDK.share(n)},n.prototype.shorten_links=function(){return this.state.share_object.shorten_text_links({complete:this.populate_message})},n.prototype.add_account_btn_click_handler=function(){return Shareaholic.Utils.debug("in add account click handler"),Shareaholic.Utils.report_event("ShareButtons:MultiSharePanel:ConnectAccountButtonClick"),this.show_auth()},n.prototype.submit_btn_click_handler=function(){return Shareaholic.Utils.debug("in click event"),this.validate_share(),!1},n.prototype.message_keyup_handler=function(e){var t;return this.state.share_object.set("text",this.get_message(!1)),this.update_character_count(),this.check_ready_state(),t=e.keyCode||e.which,32===t||13===t?this.message_new_word_handler(e):void 0},n.prototype.message_blur_handler=function(){return this.shorten_links()},n.prototype.message_new_word_handler=function(){return this.shorten_links()},n.prototype.message_mousedown_handler=function(){return this.shorten_links()},n.prototype.connected_account_click_handler=function(t){var i,n;return i=e(t.currentTarget),i.toggleClass("selected"),n=i.data("service"),this.selected_accounts=this.get_selected_accounts(),this.toggle_link_preview_visibility(n),this.toggle_character_count_visibility(n),this.check_ready_state(),!1},n.prototype.auth_connect_button_click_handler=function(t){var i,n,r,s=this;return i=e(t.currentTarget),r=i.data("service"),n={service:r,success:function(e){return s.on_auth_success(e)},failure:function(e){return s.on_auth_failure(e)}},Shareaholic.SDK.authenticate(n),Shareaholic.Utils.report_event("ShareButtons:ConnectAccountsPanel:AuthButtonClick",JSON.stringify({service:r}))},n}()}.call(this),function(){var e;Shareaholic.SDK.init(),e=new RegExp("en-US|"+window.navigator.language),Shareaholic.LOCALE_SERVICES_LIST=Shareaholic.ALL_SERVICE_LIST.filter(function(t){return Shareaholic.SERVICES[t].locale.match(e)}),Shareaholic.SharePreferences=new Shareaholic.prototype.SharePreferencesObject,Shareaholic.Dispatcher.trigger("on_shareaholic_tools_load")}.call(this),function(){var e;e=sQuery,window.Shareaholic.prototype.Widget=function(){function t(t,i,n,r){this.config=t,this.widget_type=i,this.app_location_id=n,this.dom_object=r,this.$dom_object=e(this.dom_object),this.widgets={},this.app_config=this.config.apps[this.widget_type],this.install_widget()}return t.instances=[],t.instantiated_apps=[],t.init=function(){var t=this;return this.initialized||(e(function(){return Shareaholic.Dispatcher.add_once("on_load_publisher_configuration",t.initialize_canvases,!0),Shareaholic.Dispatcher.add_once("on_load_publisher_configuration",t.initialize_media_share,!0)}),this.load_publisher_configuration(Shareaholic.SITE_CONFIG),this.initialized=!0),Shareaholic.Dispatcher.add_once("on_load_publisher_configuration",this.initialize_canvases,!0),Shareaholic.Dispatcher.add_once("on_load_publisher_configuration",this.initialize_media_share,!0)},t.load_publisher_configuration=function(e){var t;return Shareaholic.Utils.debug("In load_publisher_configuration for apikey: "+e),t=""+Shareaholic.SDK.API_ENDPOINTS.publisher_config+"/"+e+".json",Shareaholic.publisher_configuration={},"object"==typeof e&&null!==e?(Shareaholic.publisher_configuration=e,Shareaholic.Dispatcher.trigger("on_load_publisher_configuration")):"string"==typeof e?Shareaholic.Utils.ajax({url:t,success:function(e){return Shareaholic.publisher_configuration=e,Shareaholic.Dispatcher.trigger("on_load_publisher_configuration")},failure:function(e){return Shareaholic.publisher_configuration=Shareaholic.DefaultPublisherConfiguration,Shareaholic.Dispatcher.trigger("on_load_publisher_configuration"),Shareaholic.Utils.error(e)}}):(Shareaholic.publisher_configuration=Shareaholic.DefaultPublisherConfiguration,Shareaholic.Dispatcher.trigger("on_load_publisher_configuration"))},t.initialize_canvases=function(){var t,i,n,r,s,o,a,l,c,h,u,d;if(Shareaholic.Dispatcher.has_fired("on_window_load")){for(Shareaholic.Utils.debug("In initialize_canvases"),i=e(".shareaholic-canvas"),l=0,c=i.length;c>l;l++)r=i[l],t=e(r),o=(null!=(h=t.data("shareaholic-widgets"))?h.split(" ")[0]:void 0)||t.data("app"),o&&(n=t.data("app-id"),new Shareaholic.prototype.Widget(Shareaholic.SharePreferences.get("pub_prefs"),o,n,r));u=Shareaholic.requesters,d=[];for(a in u)s=u[a],d.push(s.load());return d}},t.initialize_media_share=function(){var e;if(Shareaholic.Dispatcher.has_fired("on_window_load")){if(Shareaholic.Utils.debug("In initialize_media_share"),e=Shareaholic.SharePreferences.get("pub_prefs").apps.share_buttons,!Shareaholic.page_info.allow_pin)return Shareaholic.Utils.debug("Publisher has set nopin meta tag"),!1;if(e.shareable_images||e.shareable_videos)return Shareaholic.prototype.MediaShare.init({images:Shareaholic.SharePreferences.get("pub_prefs").apps.share_buttons.shareable_images,videos:Shareaholic.SharePreferences.get("pub_prefs").apps.share_buttons.shareable_videos})}},t.prototype.install_widget=function(){var e=this;return this.widget_class=Shareaholic.Utils.camelcase(this.widget_type),!Shareaholic.prototype[this.widget_class]||this.$dom_object.data("shareaholic_widget_"+this.widget_type)||(Shareaholic.prototype[this.widget_class].initialized||Shareaholic.prototype[this.widget_class].init(this.app_config),this.app_location_config=this.get_valid_app_location_config(),this.widgets[this.widget_type]=new Shareaholic.prototype[this.widget_class](this.$dom_object,this.app_location_config),Shareaholic.prototype.Widget.instances.push(this),this.$dom_object.data("shareaholic_widget_"+this.widget_type,!0),this.$dom_object.data("shareaholic_widget",this),Shareaholic.prototype.Widget.instantiated_apps.indexOf(this.widget_type)>=0)?void 0:(Shareaholic.prototype.Widget.instantiated_apps.push(this.widget_type),Shareaholic.Utils.load_css({href:""+Shareaholic.ASSET_ROOT_URL+"/pub/"+this.widget_type+".css",id:""+this.widget_type+"_css",success:function(){return Shareaholic.Dispatcher.trigger("on_load_"+e.widget_type+"_css")}}))},t.prototype.destroy=function(){var e,t,i,n;if(this.dom_object.data("shareaholic_widget")){n=this.widgets;for(i in n)t=n[i],t.$container.dispose(),this.dom_object.removeData("shareaholic_widget_"+i);return e=Shareaholic.prototype.Widget.instances.indexOf(this),delete Shareaholic.prototype.Widget.instances[e],this.dom_object.removeData("shareaholic_widget"),Shareaholic.prototype.Widget.instances=Shareaholic.prototype.Widget.instances.filter(function(e){return void 0!==e})}},t.prototype.get_valid_app_location_id=function(){return this.app_location_id&&this.app_config.locations[this.app_location_id]||(this.app_location_id=this.app_config.default_location_id,this.app_location_id&&this.app_config.locations[this.app_location_id]||(this.app_location_id=Shareaholic.DefaultPublisherConfiguration.apps.recommendations.default_location_id)),this.app_location_id},t.prototype.get_valid_app_location_config=function(){return this.app_config.locations[this.get_valid_app_location_id()]},t.prototype.get_container_styles=function(){var e,t,i,n;t="",n=this.config.style;for(e in n)i=n[e],t+=""+e+":"+i+";";return t},t}.call(this)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=sQuery,window.Shareaholic.prototype.MediaShare=function(){function i(i,n,r,s,o,a){var l;this.media=i,this.type=n,this.url=r,this.media_url=s,this.title=o,this.config=null!=a?a:{},this.position_overlay=t(this.position_overlay,this),this.media_mouseenter_handler=t(this.media_mouseenter_handler,this),this.$media=e(this.media),this.$media.on("mouseenter.media_share",this.media_mouseenter_handler),this.$media.on("mouseleave.media_share",this.constructor.media_mouseleave_handler),this.$media.data("media_share",this),l={plugin:"media_share",link:this.url,link_title:this.title,link_notes:"",images:[this.media_url],message_format:Shareaholic.SharePreferences.get("message_format"),shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login,api_key:Shareaholic.prototype.ShareButtons.API_KEY},this.share_object=new Shareaholic.prototype.ShareObject(l)
}return i.current_media=null,i.init=function(t){return this.config=null!=t?t:{},this.initialized||(this.initialized=!0,this.instances=[],e(window).on("resize.media_share",Shareaholic.prototype.MediaShare.update_placement),this.create_overlay()),this.media_source="article"===this.config.source?Shareaholic.page_info.get_post_elements():e("body"),this.config.images&&this.init_images(),this.config.videos?this.init_videos():void 0},i.excluded_media=function(e){var t,i,n,r,s;for(e=Shareaholic.Utils.is_array(e)?e:[e],i=["header",".header","#header","footer",".footer","#footer",".comment"],n=[],r=0,s=e.length;s>r;r++)t=e[r],n=n.concat(i.map(function(e){return""+e+" "+t}));return n.join(",")},i.init_images=function(){var t,i,n,r,s,o,a,l;for(t=this.media_source.find("img").not(this.excluded_media("img")),l=[],o=0,a=t.length;a>o;o++)i=t[o],this.valid_image_for_sharing(i)?(n=i.src,s=Shareaholic.Utils.link_heuristic(i),r=e(i).attr("title")||Shareaholic.Utils.title_heuristic(e(i)[0]),l.push(this.instances.push(new Shareaholic.prototype.MediaShare(i,"image",s,n,r)))):l.push(void 0);return l},i.init_videos=function(){var t,i,n,r,s,o,a,l;for(t=this.media_source.find("iframe").not(this.excluded_media("iframe")),l=[],o=0,a=t.length;a>o;o++)s=t[o],this.valid_video_for_sharing(s)?(i=this.get_video_thumbnail(s.src),r=Shareaholic.Utils.link_heuristic(s),n=e(s).attr("title")||Shareaholic.Utils.title_heuristic(e(s)[0]),l.push(this.instances.push(new Shareaholic.prototype.MediaShare(s,"video",r,i,n)))):l.push(void 0);return l},i.prototype.media_mouseenter_handler=function(){var e;return this.constructor.share_buttons.update_share_object(this.share_object),clearTimeout(this.constructor.hide_timeout),this.position_overlay(),null!=(e=this.constructor.current_media)&&e.removeClass("shareaholic-media-target-hover-state"),this.$media.addClass("shareaholic-media-target-hover-state"),this.constructor.current_media=this.$media},i.media_mouseleave_handler=function(){return i.hide_timeout=setTimeout(function(){var e;return i.$overlay.hide(),i.share_object=null,null!=(e=i.current_media)?e.removeClass("shareaholic-media-target-hover-state"):void 0},100)},i.prototype.update_theme=function(e){return this.constructor.$overlay.removeClass().addClass("shareaholic-media-overlay").addClass(e)},i.is_youtube_video=function(e){var t;return t=/youtube.com/.test(e)},i.get_youtube_video_id_from_embed=function(e){var t;return t=e.match(/youtube.com\/embed\/([a-zA-Z0-9]*)\?/),null!=t?t[1]:void 0},i.get_video_thumbnail=function(e){var t;return this.is_youtube_video(e)&&(t=this.get_youtube_video_id_from_embed(e))?"http://img.youtube.com/vi/"+t+"/0.jpg":void 0},i.get_video_url=function(e){var t;return this.is_youtube_video(e)&&(t=this.get_youtube_video_id_from_embed(e))?"http://youtube.com/watch?v="+t:void 0},i.overlay_mouseover_handler=function(){return clearTimeout(i.hide_timeout)},i.is_excluded=function(e,t){var i;return i=new RegExp(t.join("|"),"i"),i.test(e)?!0:!1},i.is_included=function(e,t){var i;return i=new RegExp(t.join("|"),"i"),i.test(e)?!0:!1},i.valid_video_for_sharing=function(t){var n;return n=e(t),n.data("media_share")?!1:i.is_included(t.src,["youtube.com/embed"])?!0:!1},i.valid_image_for_sharing=function(t){var n;return n=e(t),n.data("media_share")?!1:i.is_excluded(t.src,["gravatar"])?!1:n.width()<80||n.height()<80?!1:n.width()<120&&n.height()<120?!1:"nopin"===n.attr("nopin")?!1:!0},i.prototype.position_overlay=function(){return this.constructor.$overlay.show().position({my:"left top",at:"left top",of:this.$media,collision:"none"}).css({zIndex:Shareaholic.Utils.computed_z_index(this.$media)})},i.create_overlay=function(){var t;return this.$overlay=e("<div>",{"class":"shareaholic-media-overlay"}).hide().on("mouseenter.media_share",this.overlay_mouseover_handler).on("mouseleave.media_share",this.media_mouseleave_handler).appendTo("body"),this.$buttonset=e("<div>",{"class":"shareaholic-media-buttons"}).css({width:"auto",height:40,position:"relative",top:5,left:5}).appendTo(this.$overlay),t={apps:{share_buttons:{message_format:"${title} - ${link} via @Shareaholic",locations:{1:{services:[{nickname:"pinterest",title:"Pin It",handler:"share_via_redirect"}],show_all_services_button:!1,headline_text:"",style_class:""}},default_location_id:1}}},this.share_buttons=new Shareaholic.prototype.Widget(t,"share_buttons",null,this.$buttonset).widgets.share_buttons},i.update_placement=function(){return!0},i}.call(this)}.call(this),function(){var e;e=sQuery,window.Shareaholic.prototype.Legacy=function(){function t(){}return t.instances=[],t.init=function(){var t=this;return this.initialized?void 0:(e(function(){return t.check_shrrd_settings(0)}),this.initialized=!0)},t.initialize_legacy_canvases=function(){var i,n,r,s,o,a,l,c,h;for(i=e('[class^="shr_rd"]'),h=[],l=0,c=i.length;c>l;l++)n=i[l],r=n.className.match(/(shr_rd-[0-9]+)/)[1],(o=t.settings[r].link)?(a="text"===t.settings[r].style?"text-only":"",e(n).data("link",o),s=new Shareaholic.prototype.Widget(Shareaholic.SharePreferences.get("pub_prefs"),"recommendations",null,n),t.instances.push(s),h.push(s.widgets.recommendations.update_theme(a))):h.push(void 0);return h},t.check_shrrd_settings=function(e){return e=e||0,window.SHRRD_Settings?(this.settings=window.SHRRD_Settings,this.initialize_legacy_canvases(),void 0):6>=e?window.setTimeout(function(){return t.check_shrrd_settings(e+1)},500):void 0},t}.call(this)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};e=sQuery,window.Shareaholic.prototype.ShareButtons=function(){function n(e,i){var n,r,s=this;this.$dom_object=e,this.app_location_config=i,this.force_counts=t(this.force_counts,this),this.set_counts_if_blank=t(this.set_counts_if_blank,this),this.fit_buttons_by_width=t(this.fit_buttons_by_width,this),this.optimize_button_layout=t(this.optimize_button_layout,this),(r=this.app_location_config).show_tooltip||(r.show_tooltip=!0),this.add_to_dom(),n={plugin:"share_buttons",link:this.$dom_object.data("link")||Shareaholic.Utils.link_heuristic(this.$dom_object[0]),link_title:this.$dom_object.data("title")||Shareaholic.Utils.title_heuristic(this.$dom_object[0]),link_notes:this.$dom_object.data("summary"),images:Shareaholic.Utils.get_images(this.$dom_object[0],this.$dom_object.data("image")),message_format:Shareaholic.SharePreferences.get("message_format"),shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login,api_key:Shareaholic.prototype.ShareButtons.API_KEY},this.share_object=new Shareaholic.prototype.ShareObject(n),Shareaholic.Dispatcher.add("on_get_user_info_success",function(e,t){return t.shortener_preferences.service&&s.share_object.set("shortener",t.shortener_preferences.service),t.shortener_preferences.api_key&&s.share_object.set("shortener_api_key",t.shortener_preferences.api_key),t.shortener_preferences.login?s.share_object.set("shortener_login",t.shortener_preferences.login):void 0}),this.build_services(window.services||this.app_location_config.services),Shareaholic.prototype.ShareButtons.instances.push(this)}return n.init=function(t){return this.app_config=t,this.initialized=!0,this.options={},this.instances=[],this.panel_views={},this.API_KEY="91924599fa72efd29c9123abdc5fd153",this.HEADLINE_IMAGES={"Sharing is caring!":"pub/share-buttons/share-headers-new/sharing-caring.png","Sharing is caring.":"pub/share-buttons/share-headers-new/sharing-caring-hearts.png","Share the knowledge!":"pub/share-buttons/share-headers-new/share-knowledge.png","Share the wealth!":"pub/share-buttons/share-headers-new/share-wealth.png","Share the love!":"pub/share-buttons/share-headers-new/share-love-hearts.png","Share and enjoy!":"pub/share-buttons/share-headers-new/share-enjoy.png","Sharing is sexy!":"pub/share-buttons/share-headers-new/sharing-shr.png"},e(window).on("resize",function(){var e,t,i,n,r;for(n=Shareaholic.prototype.ShareButtons.instances,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(e.optimize_button_layout());return r})},n.panel_view_configs={twitter:{template:Shareaholic.templates.twitter},linked_in:{template:Shareaholic.templates.linked_in,init:function(){return Shareaholic.Utils.debug("in linked_in init")},show:function(){return Shareaholic.Utils.debug("in linked_in show")},hide:function(){return Shareaholic.Utils.debug("in linked_in hide")}}},n.prototype.add_to_dom=function(){var t=this;return this.$container=e("<div>").addClass("shareaholic-share-buttons-container").addClass("shareaholic-ui").css("height",0).hide(),this.$wrapper=e("<div>").addClass("shareaholic-share-buttons-wrapper").addClass("shareaholic-ui").appendTo(this.$container),this.update_headline(this.app_location_config),this.$service_list=e("<ul>").addClass("shareaholic-share-buttons").appendTo(this.$wrapper),this.$dom_object.append(this.$container),this.update_theme(this.app_location_config.style_class),Shareaholic.Dispatcher.add_once("on_load_share_buttons_css",function(){return t.$container.css("height","auto").fadeIn(t.optimize_button_layout),Shareaholic.Dispatcher.trigger("on_share_buttons_load")},!0)},n.prototype.build_services=function(e){var t,i,n,r;for(null==e&&(e=[]),this.$service_list.empty(),n=0,r=e.length;r>n;n++)t=e[n],i=Shareaholic.Utils.is_object(t)?t:Shareaholic.SERVICES[t],i&&this.$service_list.append(this.build_service(i));return this.$all_services_button=this.build_service(Shareaholic.SERVICES.all),this.$service_list.append(this.$all_services_button),this.app_location_config.show_all_services_button?void 0:this.$all_services_button.hide()},n.prototype.build_service=function(t){var i,n,r,s,o,a,l,c=this;return a=t.handler,l={shorten:!1},"facebook"===t.nickname&&(a="share_via_redirect"),"twitter"===t.nickname&&Shareaholic.Utils.Browser.is_mobile&&(a="share_via_redirect",l={shorten:!0}),s=e("<li>",{title:t.title,"data-service":t.nickname}).addClass("shareaholic-share-button").on("click",function(e){return Shareaholic.share_handlers[a](t.nickname,c.share_object,l,e)}),this.app_location_config.show_tooltip&&s.tipsy({gravity:"n"}),i=e("<a>",{href:"javascript:void(0);"}).appendTo(s),r=e("<i>",{"class":"shareaholic-service-icon service-"+t.nickname}).appendTo(i),o=e("<span>",{text:"Share","class":"share-button-verb"}).appendTo(i),n=this.build_service_counter(s,t.nickname,this.share_object.get("link")),s},n.prototype.uses_counters=function(){var e;return e=/counter/,this.app_location_config.style_class&&this.app_location_config.style_class.match(e)?!0:this.app_location_config.counter&&this.app_location_config.counter.match(e)?!0:!1},n.prototype.build_service_counter=function(t,n,r){var s;return s=e("<span>",{"class":"share-button-counter",text:0}),!window.shareaholic_share_buttons_settings&&this.uses_counters()&&i.call(Shareaholic.SDK.countable_services,n)>=0&&Shareaholic.SDK.get_share_count_from_service(r,n,function(e){return parseInt(e)>0?(s.text(Shareaholic.Utils.abbreviate_number(e)),t.addClass("has-shares")):void 0}),s.prependTo(t)},n.prototype.update_theme=function(t){var i=this;return this.$container.removeClass().addClass("shareaholic-share-buttons-container shareaholic-ui").addClass(t),this.$service_list.css("display","inline-block"),this.$service_list.find("li").each(function(){return e(this).css("width",e(this).width())}),window.setTimeout(function(){return i.$service_list.css("display",""),i.$service_list.find("li").css("width","")},100)},n.prototype.update_headline=function(t){var i,n;return null!=(n=this.$heading)&&n.remove(),t.headline_text?(i=e("<img>").addClass("shareaholic-share-buttons-heading-image").attr("src",Shareaholic.ASSET_ROOT_URL+"/"+Shareaholic.prototype.ShareButtons.HEADLINE_IMAGES[t.headline_text]),this.$heading=e("<div>").addClass("shareaholic-share-buttons-heading").append(i).prependTo(this.$wrapper)):void 0},n.prototype.update_share_object=function(e){return this.share_object=e},n.prototype.update_orientation=function(e){return this.$container.removeClass().addClass("shareaholic-share-buttons").addClass(e)},n.prototype.optimize_button_layout=function(){return this.$dom_object.data("maintain-size")||this.$container.hasClass("vertical")?void 0:this.fit_buttons_by_width()},n.prototype.fit_buttons_by_width=function(){var t,i,n;return i=this.$service_list.find("li").first().outerWidth()+5||60,n=Math.floor(this.$container.width()/i),this.app_location_config.show_all_services_button&&(n-=1),t=this.$service_list.find("li").hide(),t.each(function(t,i){return e(i).show(),t!==n-1}),this.$all_services_button[this.app_location_config.show_all_services_button?"show":"hide"]()},n.prototype.set_counts_if_blank=function(){var t;return t=e(".shareaholic-share-button.has-shares",this.$service_list),t.length?void 0:this.force_counts()},n.prototype.force_counts=function(){return e(".shareaholic-share-button",this.$service_list).each(function(){var t,n,r,s;return n=e(this),s=n.data("service"),t=n.find(".share-button-counter"),i.call(Shareaholic.SDK.countable_services,s)>=0?(r=Math.floor(1e3*Math.random()),t.text(Shareaholic.Utils.abbreviate_number(r)),n.addClass("has-shares")):void 0})},n}()}.call(this),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}};e=sQuery,t=Shareaholic.prototype.Handlebars,window.Shareaholic.prototype.Recommendations=function(){function n(e,t){this.$dom_object=e,this.app_location_config=t,this.load_response_into_dom=i(this.load_response_into_dom,this),!Shareaholic.Utils.Browser.is_desktop&&Shareaholic.Utils.Browser.is_viewport_width&&Shareaholic.Dispatcher.add_once("on_init_mobile",function(){return Shareaholic.prototype.Mobile.init_recommendations()},!0),this.set_request_breakdowns(this.app_location_config.request_total),this.add_to_dom(),this.url=Shareaholic.URI.parse(this.$dom_object.data("link")).url()||Shareaholic.Utils.link_heuristic(this.$dom_object[0],!0),this.load_recommendations(this.app_location_config.recommendations||this.url),Shareaholic.prototype.Recommendations.instances.push(this),Shareaholic.prototype.Recommendations.set_recommendations_container_size()}return n.init=function(t){return this.app_config=t,this.initialized=!0,this.options={},this.attribution_url="https://shareaholic.com/publishers/recommendations/?src=relatedapp&src_ref="+encodeURIComponent(window.location.hostname),this.instances=[],this.promoted_content_levels=[0,12,25,38,50,68,75,88,100],this.set_mobile_request_breakdowns(),e(window).on("resize.recommendations",Shareaholic.prototype.Recommendations.set_recommendations_container_size),Shareaholic.Dispatcher.add("on_recommendations_load",Shareaholic.prototype.Recommendations.set_recommendations_container_size),Shareaholic.Dispatcher.trigger("on_recommendations_class_init")},n.set_mobile_request_breakdowns=function(){return this.request_limit_mobile_total=6,this.request_limit_mobile_internal=this.request_limit_mobile_total,this.request_limit_mobile_sponsored=this.calculate_percentage_amount_minimum(this.request_limit_mobile_total,this.promoted_content_percentage())},n.prototype.set_request_breakdowns=function(e){return this.request_limit_total=e,this.request_limit_total||(this.request_limit_total=Shareaholic.Utils.Browser.is_phone?4:6),this.request_limit_internal=this.request_limit_total,this.request_limit_sponsored=this.constructor.calculate_percentage_amount_minimum(this.request_limit_total,this.constructor.promoted_content_percentage())},n.promoted_content_percentage=function(){return this.app_config.promoted_content_percentage||this.promoted_content_levels[this.app_config.promoted_content_level]||0},n.calculate_percentage_amount=function(e,t){var i,n,r;for(n=0,i=r=1;e>=1?e>=r:r>=e;i=e>=1?++r:--r)100*Math.random()<t&&n++;return n},n.calculate_percentage_amount_minimum=function(e,t){var i,n;return i=e*(t/100),n=Math.floor(i),Math.random()<i-n&&n++,n},n.prototype.add_to_dom=function(){var t;return this.$container=e("<div>").addClass("shareaholic-recommendations-container").addClass("shareaholic-ui").css("height",0).hide(),t=e("<div>").addClass("shareaholic-recommendations-header").html(this.app_location_config.headline_text).appendTo(this.$container),this.$list=e("<div>").addClass("shareaholic-recommendations").addClass("shareaholic-contains-"+this.request_limit_total).appendTo(this.$container),this.$footer=e("<div>",{"class":"shareaholic-recommendations-footer"}).appendTo(this.$container),this.update_attribution(this.constructor.app_config),this.$dom_object.append(this.$container),this.update_theme(this.app_location_config.theme)},n.prototype.load_recommendations=function(e){var t;return Shareaholic.Utils.is_array(e)?this.load_response_into_dom(e):(t={url:e,site_id:Shareaholic.SITE_ID,internal:this.request_limit_internal,sponsored:this.request_limit_sponsored,success:this.load_response_into_dom},Shareaholic.SDK.get_recommendations(t))},n.prototype.load_response_into_dom=function(e){var t,i,n,r,s=this;if(!this.$list.find(".shareaholic-recommendation").length){for(this.rec_index=0,t=0,n=0,r=e.length;r>n;n++)i=e[n],(!i.type||i.type&&"internal"===i.type)&&t++,this.rec_index++,i.index=this.rec_index,this.$list.append(this.constructor.build_recommendation(i)),Shareaholic.Dispatcher.add_once("on_load_recommendations_css",function(){return s.$container.css("height","auto").fadeIn(Shareaholic.Dispatcher.trigger("on_recommendations_load"))},!0);return Shareaholic.google_track_event("Recommendations","Display Recommendation App: "+Shareaholic.Utils.Browser.platform,window.location.hostname),Shareaholic.google_track_event("Recommendations","Display Organic Recommendation Links: "+Shareaholic.Utils.Browser.platform,window.location.hostname,t)}},n.build_recommendation=function(i){var n,r,s;return(s=Shareaholic.compiled_templates).recommendation||(s.recommendation=t.compile(Shareaholic.templates.recommendation)),r=Shareaholic.compiled_templates.recommendation(i),n=e(r),n.find("a").on("mousedown",function(){return this.href=i.tracking_link_url}).on("mouseout",function(){return this.href=i.url}).on("click",function(){return Shareaholic.google_track_event("Recommendations","Click "+(i.sponsored?"Sponsored":"Organic")+" Recommendation Link: "+Shareaholic.Utils.Browser.platform,window.location.hostname),setTimeout(function(){return i.sponsored?Shareaholic.prototype.Recommendations.open_sposored_link(i.tracking_link_url):document.location.href=i.tracking_link_url},100),!1}),n},n.build_mobile_recommendation=function(i){var n,r,s;return(s=Shareaholic.compiled_templates).mobile_recommendation||(s.mobile_recommendation=t.compile(Shareaholic.templates.mobile_recommendation)),r=Shareaholic.compiled_templates.mobile_recommendation(i),n=e(r),n.find("a").on("click",function(){return Shareaholic.google_track_event("Mobile","Recommendations: Click "+(i.sponsored?"Sponsored":"Organic")+" Recommendation Link",window.location.hostname),setTimeout(function(){return i.sponsored?Shareaholic.prototype.Recommendations.open_sposored_link(i.tracking_link_url):document.location.href=i.tracking_link_url},100),!1}),n},n.open_sposored_link=function(e){return Shareaholic.Utils.Browser.is_mobile?window.open(e,"_blank","width=1000, height=600"):window.open(e,"_blank")},n.sample_recommendation_response=function(e){var t;return null==e&&(e={}),t={campaign_id:e.campaign_id,description:e.description||"Donec sed odio dui. Vestibulum id ligula porta felis euismod semper. Pellentesque ornare sem lacinia quam venenatis vestibulum.",image_id:e.image_id,plan_id:e.plan_id,title:e.title||"Morbi leo risus, porta ac consectetur vestibulum at eros.",type:e.type||"sponsored",url:e.url||"http://example.com/fake-post/"},[t]},n.build_sample_recommendation=function(e,t){var i;return null==t&&(t={}),i=Shareaholic.Utils.merge_objects(t,Shareaholic.DefaultPublisherConfiguration),i.recommendations=Shareaholic.SDK.normalize_recommendation_properties(n.sample_recommendation_response(i.rec_details)),i.request_total=1,new Shareaholic.prototype.Recommendations(e,i)},n.has_logged_impression=function(e){var t;return null!=(t=e.$element)?t.find(".recommendation-impression-image").length:void 0},n.log_mobile_impressions=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;r>i;i++)t=e[i],s.push(n.log_mobile_impression(t));return s},n.log_mobile_impression=function(t){var i;return n.has_logged_impression(t)?void 0:(i=e("<img>",{src:t.impression_url,alt:"","class":"recommendation-impression-image"}),t.$element.append(i))},n.set_recommendations_container_size=function(){return n.$recommendations_containers=e(".shareaholic-recommendations-container"),n.$recommendations_containers.each(function(){var t,i,n;return t=e(this),n=t.width(),t.removeClass("small medium large xl"),320>=n?i="small":490>=n?i="medium":640>=n?i="large":n>640&&(i="xl"),t.addClass(i)})},n.prototype.update_theme=function(e){return this.$container.removeClass().addClass("shareaholic-recommendations-container shareaholic-ui").addClass(e)},n.prototype.update_attribution=function(t){var i,n,r;return null!=(r=this.$branding)&&r.remove(),t.show_attribution?(this.$branding=e("<a>",{"class":"shareaholic-recommendations-attribution foo",target:"_blank",href:Shareaholic.prototype.Recommendations.attribution_url,title:"Powered by Shareaholic"}).appendTo(this.$footer),n=e("<span>",{"class":"shareaholic-recommendations-attribution-text",text:"[ what's this ]"}).appendTo(this.$branding),i=e("<i>",{"class":"shareaholic-recommendations-attribution-logo"}).appendTo(this.$branding)):void 0},n}.call(this)}.call(this),function(){var e;e=sQuery,window.Shareaholic.prototype.Bookmarklet=function(){function e(e){var t,i;null==e&&(e={}),this.options=e,this.options.handler=(null!=(i=Shareaholic.SERVICES[this.options.service])?i.handler:void 0)||"show_all_services",t=Shareaholic.prototype.Bookmarklet.instances[0],t?Shareaholic.share_handlers[this.options.handler](this.options.service,this.share_object):this.init(this.options)}return e.instances=[],e.API_KEY="0f5ac61b01df576c2317d7f3e9835df5",e.prototype.init=function(e){var t,i,n,r,s,o=this;return null==e&&(e={}),Shareaholic.Utils.debug("in Bookmarklet Class init"),i={plugin:"bookmarklet",link:(null!=(n=this.options.share_object_config)?n.link:void 0)||Shareaholic.Utils.get_page_url(),link_title:(null!=(r=this.options.share_object_config)?r.link_title:void 0)||Shareaholic.Utils.get_page_title(),images:Shareaholic.Utils.get_page_images(!0),message_format:(null!=(s=this.options.share_object_config)?s.message_format:void 0)||Shareaholic.SharePreferences.get("message_format"),api_key:Shareaholic.prototype.Bookmarklet.API_KEY,shortener:Shareaholic.SharePreferences.get("shortener_config").shortener,shortener_api_key:Shareaholic.SharePreferences.get("shortener_config").shortener_api_key,shortener_login:Shareaholic.SharePreferences.get("shortener_config").shortener_login},t=this.share_object=new Shareaholic.prototype.ShareObject(i),Shareaholic.Dispatcher.add("on_get_user_info_complete",function(e,t){return t.shortener_preferences.service&&o.share_object.set("shortener",t.shortener_preferences.service),t.shortener_preferences.api_key&&o.share_object.set("shortener_api_key",t.shortener_preferences.api_key),t.shortener_preferences.login?o.share_object.set("shortener_login",t.shortener_preferences.login):void 0}),Shareaholic.prototype.Bookmarklet.instances.push(this),Shareaholic.Utils.load_css({href:""+Shareaholic.ASSET_ROOT_URL+"/pub/share_buttons.css",success:function(){return Shareaholic.share_handlers[e.handler](e.service,t),Shareaholic.Dispatcher.trigger("on_load_share_buttons_css")}})},e}()}.call(this);