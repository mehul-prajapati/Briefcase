jQuery(function(a){hc.social_login&&(a("#hc_guest").click(function(b){a(".hc_input_wrap").slideToggle();b.preventDefault()}),a(document).on("click",".hc_connect",function(){var b=a(this).attr("data-provider");window.open(hc.connect_url+"?provider="+b,"social_login","scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=600,height=600,top="+(screen.height/2-300)+",left="+(screen.width/2-300));return!1}),a(document).bind("hc_logged_in",function(b,c){a(".hc_input_wrap").hide();
a(".hc_social_fields_wrap").html('<span class="hc_welcome">Welcome '+c.name+', leave your comment below. (<a href="#" class="hc_logout">Log out</a>)</span>');a(".hc_author_name").html(c.name);a("#hc_author").val(c.name);a("#hc_email").val(c.email);""!=c.profile&&(hc.photoURL=c.profile,a(".hc_avatar").attr("src",c.profile))}),a(document).on("click",".hc_logout",function(){a(this).text("Logging out...");a.post(hc.ajax_url,{action:"hc_logout",provider:hc.provider},function(a){window.location.reload()});
return!1}),a("#subscription-checkbox").click(function(){if(1==hc.logged_in&&!hc.valid_email){var b=a(".valid-email-field");a(this).is(":checked")?b.length?b.show():a(".subscription-wrap").append('<span class="valid-email-field"><br/>Please provide a valid email address: <input type="email" value="" name="hc[valid_email]" class="hc_valid_email_field"/></span>'):b.hide()}}));hc.markdown&&a("#comment").markItUp(mySettings);a("#hc_submit").click(function(){var b=a(".hc_post_status"),c=a("#comment");b.text("Validating comments...");
if(""==c.val())return b.html('<span class="hc_error"><strong>ERROR</strong>: You cannot post an empty comment.</span>'),!1;if(!hc.logged_in){author=a("#hc_author").val();email=a("#hc_email").val();if(""==author)return b.html('<span class="hc_error"><strong>ERROR</strong>: Your name field cannot be blank.</span>'),!1;if(""==email)return b.html('<span class="hc_error"><strong>ERROR</strong>: Your email field cannot be blank.</span>'),!1;if(!validate_email(email))return b.html('<span class="hc_error"><strong>ERROR</strong>: You need to enter a valid email.</span>'),
!1}if(""!=a("#hc_entry_check").val())return b.html('<span class="hc_error"><strong>ERROR</strong>: You didn\'t pass the spam test.</span>'),!1;if(a("#subscription-checkbox").is(":checked")&&(1==hc.logged_in&&!hc.valid_email)&&!validate_email(a(".hc_valid_email_field").val()))return b.html('<span class="hc_error"><strong>ERROR</strong>: Please provide a valid email address for comment notification.</span>'),!1;b.text("Submitting comment...");data=a("#hc_commentform").serialize();hc.social_login&&(data+=
"&hc[provider]="+hc.provider+"&hc[photoURL]="+hc.photoURL);a.ajax({dataType:"json",url:hc.ajax_url,type:"post",data:data,success:function(d){if(d.error)b.html('<span class="hc_error">'+d.error.message+"</span>");else if(d.success){c.val("");hc.preview&&a(".hc_preview_content").text("Leave a comment");b.html(d.success.message);var e=a("#comment_parent").val();"0"!=e?(e=a("#comment-"+e),0<e.nextAll(".children").length?e.nextAll(".children").last().after(d.success.data):e.after(d.success.data)):(e=a(".comment-list"),
0<e.length?e.append(d.success.data):(d='<h2 id="comments-title">One Comment</h2><ol class="comment-list">'+d.success.data+"</ol>",a("#comments").prepend(d)));setTimeout(function(){b.text("")},3E3);a("#cancel-comment-reply-link").trigger("click")}}});return!1});hc.preview&&(a("#hc_author").on("keyup",function(){var b=a(".hc_author_name");""!=a(this).val()?b.text(a(this).val()):b.text("Anonymous")}),a("#comment").on("keyup",function(){var b=a(".hc_preview_content");""!=a(this).val()?b.html(wpautop(wptexturize(a(this).val()))):
b.text("Leave a comment")}))});function trigger_social_login(a){jQuery(document).trigger("hc_logged_in",[a])}function validate_email(a){return RegExp(/^([\w\.\-]+)@([\w\-]+)((\.(\w){2,10})+)$/i).test(a)};
