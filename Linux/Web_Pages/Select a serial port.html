<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"><title>Select a serial port </title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7"><link rel="HOME" title="Remote Serial Console HOWTO" href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/index.html"><link rel="UP" title="Preparation" href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation.html"><link rel="PREVIOUS" title="Create fallback position" href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-fallback.html"><link rel="NEXT" title="Select a serial speed and parameters" href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-setspeed.html"></head><body class="SECTION" text="#000000" vlink="#840084" link="#0000FF" alink="#0000FF" bgcolor="#FFFFFF"><div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><th colspan="3" align="center">Remote Serial Console HOWTO</th></tr><tr><td valign="bottom" width="10%" align="left"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-fallback.html" accesskey="P">Prev</a></td><td valign="bottom" width="80%" align="center">Chapter 2. Preparation</td><td valign="bottom" width="10%" align="right"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-setspeed.html" accesskey="N">Next</a></td></tr></tbody></table><hr width="100%" align="LEFT"></div><div class="SECTION"><h1 class="SECTION"><a name="PREPARATION-SETPORT"></a>2.2. Select a serial port</h1><div class="SECTION"><h2 class="SECTION"><a name="PREPARATION-SETPORT-NAME"></a>2.2.1. Serial port names</h2><p>Linux names its serial ports in the
    <span class="PRODUCTNAME">UNIX</span> tradition.  The first serial port
    has the file name <tt class="FILENAME">/dev/ttyS0</tt>, the second serial port
    has the file name <tt class="FILENAME">/dev/ttyS1</tt>, and so on.</p><p>This differs from the <span class="PRODUCTNAME"><span class="ACRONYM">IBM</span>
    <span class="ACRONYM">PC</span></span> tradition.  The first serial
    port is named <tt class="FILENAME">COM1:</tt>, the
    second serial port is named <tt class="FILENAME">COM2:</tt>, and so on.  Up to four serial
    ports can be present on a <span class="PRODUCTNAME"><span class="ACRONYM">IBM</span>
    <span class="ACRONYM">PC/AT</span></span> computer and its
    successors.</p><p>Most boot loaders have yet another naming scheme.  The first
    serial port is numbered <tt class="LITERAL">0</tt>, the second serial
    port is numbered <tt class="LITERAL">1</tt>, and so on.</p><p>If your distribution of <span class="SYSTEMITEM">Linux</span> uses the
    <span class="APPLICATION">devfs</span> device manager then the serial
    ports have yet another name.  The first serial port is <tt class="FILENAME">/dev/tts/0</tt>, the second serial port
    is <tt class="FILENAME">/dev/tts/1</tt>, and so
    on.</p><p>The result is that the first serial port is labeled
    <tt class="FILENAME">COM1:</tt> on the chassis of
    the <span class="PRODUCTNAME"><span class="ACRONYM">IBM</span>
    <span class="ACRONYM">PC</span></span>; is known as <tt class="FILENAME">/dev/ttyS0</tt> to <span class="SYSTEMITEM">Linux</span>; is known as <tt class="FILENAME">/dev/tts/0</tt> to <span class="SYSTEMITEM">Linux</span> when configured with
    <span class="APPLICATION">devfs</span>; and is known as port
    <tt class="LITERAL">0</tt> to many boot loaders.</p><p>The examples in this <i class="CITETITLE">HOWTO</i> use this
    first serial port, as that is the serial port which most readers
    will wish to use.</p><div class="TABLE"><a name="PREPARATION-SETPORT-NAMES-MANY"></a><p><b>Table 2-1. Many names for the same serial port</b></p><table class="CALSTABLE" border="1"><thead><tr><th valign="BOTTOM" align="CENTER"><span class="PRODUCTNAME">IBM PC</span></th><th valign="BOTTOM" align="CENTER"><span class="SYSTEMITEM">Linux</span> kernel</th><th valign="BOTTOM" align="CENTER"><span class="SYSTEMITEM">Linux</span> kernel with
        <span class="APPLICATION">devfs</span></th><th valign="BOTTOM" align="CENTER">Most boot loaders</th></tr></thead><tbody><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">COM1:</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS0</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/tts/0</tt></td><td valign="TOP" align="CENTER"><tt class="LITERAL">0</tt></td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">COM2:</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS1</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/tts/1</tt></td><td valign="TOP" align="CENTER"><tt class="LITERAL">1</tt></td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">COM3:</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS2</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/tts/2</tt></td><td valign="TOP" align="CENTER"><tt class="LITERAL">2</tt></td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">COM4:</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS3</tt></td><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/tts/3</tt></td><td valign="TOP" align="CENTER"><tt class="LITERAL">3</tt></td></tr></tbody></table></div></div><div class="SECTION"><h2 class="SECTION"><a name="PREPARATION-SETPORT-INTERRUPT"></a>2.2.2. Cannot share interrupt used for console's serial
    port</h2><p>When used for a console the serial port cannot share an
    interrupt with another device.  The
    <span class="PRODUCTNAME"><span class="ACRONYM">IBM</span>
    <span class="ACRONYM">PC</span></span> devices are usually installed
    as shown in <a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-setport.html#PREPARATION-SETPORT-IBMPC">Table 2-2</a>.  If you
    use the serial port <tt class="FILENAME">/dev/ttyS0</tt> for the console then you
    should avoid sharing interrupt 4 by not installing a serial port
    <tt class="FILENAME">/dev/ttyS2</tt> in your
    <span class="ACRONYM">PC</span>.  If <tt class="FILENAME">/dev/ttyS2</tt> cannot be physically
    removed then disable it using the <b class="COMMAND">setserial</b>
    command, as shown in <a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-setport.html#PREPARATION-SETPORT-SETSERIAL">Figure 2-1</a>.</p><div class="TABLE"><a name="PREPARATION-SETPORT-IBMPC"></a><p><b>Table 2-2. Interrupts used for <span class="PRODUCTNAME"><span class="ACRONYM">IBM</span>
     <span class="ACRONYM">PC/AT</span></span> <span class="ACRONYM">RS-232</span>
     ports</b></p><table class="CALSTABLE" border="1"><thead><tr><th valign="BOTTOM" align="CENTER">Device</th><th valign="BOTTOM" align="CENTER">Interrupt</th><th valign="BOTTOM" align="CENTER">Port</th></tr></thead><tbody><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS0</tt></td><td valign="TOP" align="CENTER">4</td><td valign="TOP" align="CENTER">0x3f8</td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS1</tt></td><td valign="TOP" align="CENTER">3</td><td valign="TOP" align="CENTER">0x2f8</td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS2</tt></td><td valign="TOP" align="CENTER">4</td><td valign="TOP" align="CENTER">0x3e8</td></tr><tr><td valign="TOP" align="CENTER"><tt class="FILENAME">/dev/ttyS3</tt></td><td valign="TOP" align="CENTER">3</td><td valign="TOP" align="CENTER">0x2e8</td></tr></tbody></table></div><div class="FIGURE"><a name="PREPARATION-SETPORT-SETSERIAL"></a><p><b>Figure 2-1. Using the <b class="COMMAND">setserial</b> command in
    <tt class="FILENAME">/etc/rc.serial</tt>to disable the serial port
    <tt class="FILENAME">/dev/ttyS2</tt></b></p><table width="100%" bgcolor="#E0E0E0" border="0"><tbody><tr><td><font color="#000000"><pre class="PROGRAMLISTING"># Disable /dev/ttyS2 so interrupt 4 is not shared,
# then /dev/ttyS0 can be used as a serial console.
setserial /dev/ttyS2 uart none port 0x0 irq 0</pre></font></td></tr></tbody></table></div><p>Reading the source code suggests that the interrupt-sharing
    constraint applies to all computer architectures, not just Intel
    Architecture-32.</p></div></div><div class="NAVFOOTER"><hr width="100%" align="LEFT"><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td valign="top" width="33%" align="left"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-fallback.html" accesskey="P">Prev</a></td><td valign="top" width="34%" align="center"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/index.html" accesskey="H">Home</a></td><td valign="top" width="33%" align="right"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation-setspeed.html" accesskey="N">Next</a></td></tr><tr><td valign="top" width="33%" align="left">Create fallback position</td><td valign="top" width="34%" align="center"><a href="http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/preparation.html" accesskey="U">Up</a></td><td valign="top" width="33%" align="right">Select a serial speed and parameters</td></tr></tbody></table></div></body></html>