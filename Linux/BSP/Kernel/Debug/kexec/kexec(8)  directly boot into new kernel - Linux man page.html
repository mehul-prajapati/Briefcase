<!DOCTYPE html>
<!-- saved from url=(0032)http://linux.die.net/man/8/kexec -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>kexec(8): directly boot into new kernel - Linux man page</title>
<!--<base href="http://linux.die.net/man/8/kexec">--><base href=".">
<link rel="canonical" href="./kexec(8)  directly boot into new kernel - Linux man page_files/kexec(8)  directly boot into new kernel - Linux man page.html">
<link rel="stylesheet" type="text/css" href="./kexec(8)  directly boot into new kernel - Linux man page_files/white.css">
<link rel="shortcut icon" href="http://linux.die.net/favicon.ico" type="image/x-icon">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="kexec is a system call that enables you to load and boot into another kernel from the currently running kernel. kexec performs the function of the boot ...">
<script type="text/javascript" async="" src="./kexec(8)  directly boot into new kernel - Linux man page_files/ga.js"></script><script type="text/javascript">
<!--
var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-50820-6']);_gaq.push(['_trackPageview']);
window.google_analytics_uacct = 'UA-50820-6';
// -->
</script>
</head>

<body>
<div id="bg">
<div id="logo">
<a href="http://www.die.net/"><img src="./kexec(8)  directly boot into new kernel - Linux man page_files/logo.svg" alt="die.net" width="120" height="120" onerror="this.onerror=null; this.src=&#39;/style/logo.png&#39;"></a>
</div>
<div id="content">

<!-- google_ad_section_start -->
<h1>kexec(8) - Linux man page</h1>

<h2>Name</h2>
kexec - directly boot into a new kernel
<h2>Synopsis</h2>
<b>/sbin/kexec [-v (--version)] [-f (--force)] [-x (--no-ifdown)] [-l (--load)] [-p
(--load-panic)] [-u (--unload)] [-e (--exec)] [-t (--type)] [--mem-min=</b><i>addr</i><b>] [--mem-max=</b><i>addr</i><b>]</b>
<h2>Description</h2>
<div id="adright">
<script async="" src="./kexec(8)  directly boot into new kernel - Linux man page_files/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-5823754184406795" data-ad-slot="7130739364"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<b>kexec</b> is a system call that enables you to load and boot into another kernel from the
currently running kernel. <b>kexec</b> performs the function of the boot loader from within the kernel. The primary difference between a standard system boot
and a <b>kexec</b> boot is that the hardware initialization normally performed by the BIOS or firmware (depending on architecture) is not performed during a
<b>kexec</b> boot. This has the effect of reducing the time required for a reboot.
<p>Make sure you have selected <b>CONFIG_KEXEC=y</b> when configuring the kernel. The <b>CONFIG_KEXEC</b> option enables the <b>kexec</b> system call.
</p><h2>Usage</h2>
Using <b>kexec</b>
<p>consists of
</p><blockquote>(1) loading the kernel to be rebooted to into memory, and</blockquote>
<blockquote>(2) actually rebooting to the pre-loaded kernel.</blockquote>
<p>To load a kernel, the syntax is as follows:
</p><blockquote><b>kexec</b> -l <i>kernel-image</i> --append=<i>command-line-options</i> --initrd=<i>initrd-image</i></blockquote>
<p>where <i>kernel-image</i> is the kernel file that you intend to reboot to.
</p><p>Insert the command-line parameters that must be passed to the new kernel into <i>command-line-options</i>. Passing the exact contents of /proc/cmdline into
<i>command-line-options</i> is the safest way to ensure that correct values are passed to the rebooting kernel.
</p><p>The optional <i>initrd-image</i> is the initrd image to be used during boot.
</p><p>It's also possible to invoke <b>kexec</b> without an option parameter. In that case, kexec loads the specified kernel and then invokes
<i><b>shutdown</b>(1)</i>. If the shutdown scripts of your Linux distribution support kexec-based rebooting, they then call <b>kexec</b> <i>-e</i> just before
actually rebooting the machine. That way, the machine does a clean shutdown including all shutdown scripts.
</p><h2>Example</h2>
<p>For example, if the kernel image you want to reboot to is <b>/boot/vmlinux</b>, the contents of /proc/cmdline is <b>root=/dev/hda1</b>, and the path to the
initrd is <b>/boot/initrd</b>, then you would use the following command to load the kernel:
</p><blockquote><b>kexec</b> -l <b>/boot/vmlinux</b> --append=<b>root=/dev/hda1</b> --initrd=<b>/boot/initrd</b></blockquote>
<p>After this kernel is loaded, it can be booted to at any time using the command:
</p><blockquote><b>kexec</b> -e</blockquote>
<h2>Options</h2>
<dl compact="">
<dt><b>-e (--exec)</b>
</dt><dd>Run the currently loaded kernel.
</dd><dt><b>-f (--force)</b>
</dt><dd>Force an immediate <b>kexec</b> call, do not call <i><b>shutdown</b>(1)</i> (contrary to the default action without any option parameter). This option
performs the same actions like executing <i>-l</i> and <i>-e</i> in one call.
</dd><dt><b>-h (--help)</b>
</dt><dd>Open a help file for <b>kexec</b>.
</dd><dt><b>-l (--load)</b><i> kernel</i>
</dt><dd>Load the specified <i>kernel</i> into the current kernel.
</dd><dt><b>-p (--load-panic)</b>
</dt><dd>Load the new kernel for use on panic.
</dd><dt><b>-t (--type=</b><i>type</i><b>)</b>
</dt><dd>Specify that the new kernel is of this <i>type.</i>
</dd><dt><b>-u (--unload)</b>
</dt><dd>Unload the current <b>kexec</b> target kernel. If a capture kernel is being unloaded then specify -p with -u.
</dd><dt><b>-v (--version)</b>
</dt><dd>Return the version number of the installed utility.
</dd><dt><b>-x (--no-ifdown)</b>
</dt><dd>Shut down the running kernel, but restore the interface on reload. (If this option is used, it must be specified last.)
</dd><dt><b>--mem-min=</b><i>addr</i>
</dt><dd>Specify the lowest memory address <i>addr</i> to load code into.
</dd><dt><b>--mem-max=</b><i>addr</i>
</dt><dd>Specify the highest memory address <i>addr</i> to load code into.</dd></dl>
<h2>Supported Kernel File Types and Options</h2>
<b>Beoboot-x86</b>
<blockquote>
<dl compact="">
<dt><b>--args-elf</b>
</dt><dd>Pass ELF boot notes.
</dd><dt><b>--args-linux</b>
</dt><dd>Pass Linux kernel style options.
</dd><dt><b>-d  (--debug)</b>
</dt><dd>Enable debugging messages.
</dd><dt><b>--real-mode</b>
</dt><dd>Use the kernel's real mode entry point.</dd></dl></blockquote>
<p><b>elf-x86</b>
</p><blockquote>
<dl compact="">
<dt><b>--append=</b><i>string</i>
</dt><dd>Append <i>string</i> to the kernel command line.
</dd><dt><b>--command-line=</b><i>string</i>
</dt><dd>Set the kernel command line to <i>string</i>.
</dd><dt><b>--reuse-cmdline</b>
</dt><dd>Use the command line from the running system. When a panic kernel is loaded, it strips the crashkernel parameter automatically. The <i>BOOT_IMAGE</i>
parameter is also stripped.
</dd><dt><b>--initrd=</b><i>file</i>
</dt><dd>Use <i>file</i> as the kernel's initial ramdisk.
</dd><dt><b>--ramdisk=</b><i>file</i>
</dt><dd>Use <i>file</i> as the kernel's initial ramdisk.</dd></dl></blockquote>
<p><b>bzImage-x86</b>
</p><blockquote>
<dl compact="">
<dt><b>--append=</b><i>string</i>
</dt><dd>Append <i>string</i> to the kernel command line.
</dd><dt><b>--command-line=</b><i>string</i>
</dt><dd>Set the kernel command line to <i>string</i>.
</dd><dt><b>--reuse-cmdline</b>
</dt><dd>Use the command line from the running system. When a panic kernel is loaded, it strips the crashkernel parameter automatically. The <i>BOOT_IMAGE</i>
parameter is also stripped.
</dd><dt><b>--initrd=</b><i>file</i>
</dt><dd>Use <i>file</i> as the kernel's initial ramdisk.
</dd><dt><b>--ramdisk=</b><i>file</i>
</dt><dd>Use <i>file</i> as the kernel's initial ramdisk.
</dd><dt><b>--real-mode</b>
</dt><dd>Use real-mode entry point.</dd></dl></blockquote>
<p><b>multiboot-x86</b>
</p><blockquote>
<dl compact="">
<dt><b>--command-line=</b><i>string</i>
</dt><dd>Set the kernel command line to <i>string</i>.
</dd><dt><b>--reuse-cmdline</b>
</dt><dd>Use the command line from the running system. When a panic kernel is loaded, it strips the crashkernel parameter automatically. The <i>BOOT_IMAGE</i>
parameter is also stripped.
</dd><dt><b>--module=</b><i>mod arg1 arg2 ...</i>
</dt><dd>Load module <i>mod</i> with command-line arguments <i>arg1 arg2 ...</i> This parameter can be specified multiple times.</dd></dl></blockquote>
<h2>Architecture Options</h2>
<dl compact="">
<dt><b>--console-serial</b>
</dt><dd>Enable the serial console.
</dd><dt><b>--console-vga</b>
</dt><dd>Enable the VGA console.
</dd><dt><b>--elf32-core-headers</b>
</dt><dd>Prepare core headers in ELF32 format.
</dd><dt><b>--elf64-core-headers</b>
</dt><dd>Prepare core headers in ELF64 format.
</dd><dt><b>--reset-vga</b>
</dt><dd>Attempt to reset a standard VGA device.
</dd><dt><b>--serial=</b><i>port</i>
</dt><dd>Specify the serial <i>port</i> for debug output.
</dd><dt><b>--serial-baud=</b><i>baud_rate</i>
</dt><dd>Specify the <i>baud</i> rate of the serial port.</dd></dl>

<!-- google_ad_section_end -->
<h2>Referenced By</h2>
<b><a href="http://linux.die.net/man/5/kdump.conf" rel="nofollow">kdump.conf</a></b>(5),
<b><a href="http://linux.die.net/man/8/makedumpfile" rel="nofollow">makedumpfile</a></b>(8)
<div id="adbottom">
<script async="" src="./kexec(8)  directly boot into new kernel - Linux man page_files/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-5823754184406795" data-ad-slot="8789940313"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

</div>
<div id="menu">
<dl>
<dt>Site Search</dt>
<dd>
<form id="cse-search-box-menu" action="http://www.die.net/search/">
<input name="q" type="text" size="10">
<input type="hidden" name="sa" value="Search">
<input type="hidden" name="ie" value="ISO-8859-1">
<input type="hidden" name="cx" value="partner-pub-5823754184406795:54htp1rtx5u">
<input type="hidden" name="cof" value="FORID:9">
</form>
<script type="text/javascript">
<!--
document.forms["cse-search-box-menu"].action = "http://www.die.net/search/";
// -->
</script>
</dd></dl>



<dl>
<dt>Library</dt>
<dd><a href="http://linux.die.net/">linux docs</a></dd>
<dd><a href="http://linux.die.net/man/">linux man pages</a></dd>
<dd><a href="http://www.die.net/musings/page_load_time/">page load time</a></dd>
</dl>
<dl>
<dt>Toys</dt>
<dd><a href="http://www.die.net/earth/">world sunlight</a></dd>
<dd><a href="http://www.die.net/moon/">moon phase</a></dd>
<dd><a href="http://trace.die.net/">trace explorer</a></dd>
</dl>


<dl>
<dt><a href="http://linux.die.net/man/8/"><img src="./kexec(8)  directly boot into new kernel - Linux man page_files/back.gif" alt="Back" width="20" height="22"></a></dt><dd></dd>
</dl>
</div></div>
<script type="text/javascript">
<!--
if (top.location != self.location) top.location = self.location;
if (/[?&][pq]=/.test(document.referrer)) document.write(unescape("%3Cscript src='/style/highlight.js' type='text/javascript'%3E%3C/script%3E"));
function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'en', floatPosition: google.translate.TranslateElement.FloatPosition.TOP_RIGHT, gaTrack: true, gaId: 'UA-50820-6'});}
if (!/^en/i.test(window.navigator.userLanguage||window.navigator.language)) document.write(unescape("%3Cscript src='//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit' type='text/javascript'%3E%3C/script%3E"));
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
// -->
</script>


</body></html>