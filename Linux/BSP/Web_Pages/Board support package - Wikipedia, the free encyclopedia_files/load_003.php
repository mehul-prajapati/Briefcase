mw.loader.implement("ext.gadget.ReferenceTooltips",function(){window.pg||$(document).ready(function($){if(wgCanonicalNamespace===''||wgCanonicalNamespace==='Project'||wgCanonicalNamespace==='Help'){function toggleRT(o){mw.loader.using("jquery.cookie",function(){$.cookie("RTsettings",o+"|"+settings[1]+"|"+settings[2],{path:"/",expires:90});location.reload();})}var settings=document.cookie.split("RTsettings=")[1];settings=settings?settings.split(";")[0].split("%7C"):[1,200,+("ontouchstart"in document.documentElement)];if(settings[0]==0){var footer=$("#footer-places, #f-list");if(footer.length===0){footer=$("#footer li").parent();}footer.append($("<li>").append($("<a>").text("Enable Reference Tooltips").attr("href","javascript:(function(){})()").click(function(){toggleRT(1)})));return;}var isTouchscreen=+settings[2],timerLength=isTouchscreen?0:+settings[1],settingsMenu;$(".reference").each(function(){var tooltipNode,hideTimer,showTimer,checkFlip=false;function findRef(h){h=h.firstChild.
getAttribute("href");h=h&&h.split("#");h=h&&h[1];h=h&&document.getElementById(h);h=h&&h.nodeName=="LI"&&h;return h;}function hide(refLink){if(tooltipNode&&tooltipNode.parentNode==document.body){hideTimer=setTimeout(function(){$(tooltipNode).animate({opacity:0},100,function(){document.body.removeChild(tooltipNode)})},isTouchscreen?16:100)}else{var h=findRef(refLink);h&&(h.style.border="");}}function show(){if(!tooltipNode.parentNode||tooltipNode.parentNode.nodeType===11){document.body.appendChild(tooltipNode);checkFlip=true;}$(tooltipNode).stop().animate({opacity:1},100)
clearTimeout(hideTimer);}function openSettingsMenu(){if(settingsMenu){settingsMenu.dialog("open");}else{settingsMenu=$("<form>").append($("<button>").css("width","100%").text("Disable Reference Tooltips").button().click(function(){toggleRT(0)}),$("<br>"),$("<small>").text("Once disabled, Reference Tooltips can be re-enabled using a link in the footer of the page."),$("<hr>"),$("<label>").text("Delay before the tooltip appears (in milliseconds): ").append($("<input>").attr({"type":"number","value":settings[1],step:50,min:0,max:5000})),$("<br>"),$("<span>").text("Tooltip is activated by:"),$("<label>").append($("<input>").attr({"type":"radio","name":"RTActivate","checked":settings[2]==0&&"checked","disabled":"ontouchstart"in document.documentElement&&"disabled"}),"hovering"),$("<label>").append($("<input>").attr({"type":"radio","name":"RTActivate","checked":settings[2]==1&&"checked"}),"clicking")).submit(function(e){e.preventDefault()}).dialog({modal:true,width:500,title:
"Reference Tooltips options",buttons:{"Save settings":function(){var a=this.getElementsByTagName("input"),b=+a[0].value;$.cookie("RTsettings","1|"+(b>-1&&b<5001?b:settings[1])+(a[1].checked?"|0":"|1"),{path:"/",expires:90});location.reload();}}});}}$(this)[isTouchscreen?'click':'hover'](function(e){var _this=this;if(isTouchscreen){e.preventDefault();(tooltipNode&&tooltipNode.parentNode==document.body)||setTimeout(function(){$(document.body).on("click touchstart",function(e){e=e||event;e=e.target||e.srcElement;for(;e&&!$(e).hasClass("referencetooltip");)e=e.parentNode;if(!e){clearTimeout(showTimer);hide(_this);$(document.body).off("click touchstart",arguments.callee)}})},0);}showTimer&&clearTimeout(showTimer);showTimer=setTimeout(function(){var h=findRef(_this);if(!h){return};if(!isTouchscreen&&(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+$(window).height()>$(h).offset().top+h.offsetHeight){h.style.border="#080086 2px solid";return;}if(!
tooltipNode){tooltipNode=document.createElement("ul");tooltipNode.className="referencetooltip";var c=tooltipNode.appendChild(h.cloneNode(true));try{if(c.firstChild.nodeName!="A"){while(c.childNodes[1].nodeName=="A"&&c.childNodes[1].getAttribute("href").indexOf("#cite_ref-")!==-1){do{c.removeChild(c.childNodes[1])}while(c.childNodes[1].nodeValue==" ");}}}catch(e){mw.log(e)}c.removeChild(c.firstChild);$(tooltipNode.firstChild.insertBefore(document.createElement("span"),tooltipNode.firstChild.firstChild)).addClass("RTsettings").attr("title","Tooltip settings").click(function(){mw.loader.using(["jquery.cookie","jquery.ui.dialog"],openSettingsMenu);})
tooltipNode.appendChild(document.createElement("li"));isTouchscreen||$(tooltipNode).hover(show,hide);}show();var o=$(_this).offset(),oH=tooltipNode.offsetHeight;$(tooltipNode).css({top:o.top-oH,left:o.left-7});if(tooltipNode.offsetHeight>oH){$(tooltipNode).css({left:'auto',right:0});tooltipNode.lastChild.style.marginLeft=(o.left-tooltipNode.offsetLeft)+"px";}if(checkFlip){if(o.top<tooltipNode.offsetHeight+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)){$(tooltipNode).addClass("RTflipped").css({top:o.top+12});}else if(tooltipNode.className==="referencetooltip RTflipped"){$(tooltipNode).removeClass("RTflipped");}checkFlip=false;}},timerLength);},isTouchscreen?undefined:function(){clearTimeout(showTimer);hide(this);})});}});;},{"css":[
".referencetooltip{position:absolute;list-style:none;list-style-image:none;opacity:0;font-size:10px;margin:0;z-index:5;padding:0}.referencetooltip li{border:#080086 2px solid;max-width:260px;padding:10px 8px 13px 8px;margin:0px;background-color:#F7F7F7;box-shadow:2px 4px 2px rgba(0,0,0,0.3);-moz-box-shadow:2px 4px 2px rgba(0,0,0,0.3);-webkit-box-shadow:2px 4px 2px rgba(0,0,0,0.3)}.referencetooltip li+li{margin-left:7px;margin-top:-2px;border:0;padding:0;height:3px;width:0px;background-color:transparent;box-shadow:none;-moz-box-shadow:none;-webkit-box-shadow:none;border-top:12px #080086 solid;border-right:7px transparent solid;border-left:7px transparent solid}.referencetooltip\u003Eli+li::after{content:'';border-top:8px #F7F7F7 solid;border-right:5px transparent solid;border-left:5px transparent solid;margin-top:-12px;margin-left:-5px;z-index:1;height:0px;width:0px;display:block}.client-js body .referencetooltip li li{border:none;box-shadow:none;-moz-box-shadow:none;-webkit-box-shadow:none;height:auto;width:auto;margin:auto;padding:0;position:static}.RTflipped{padding-top:13px}.referencetooltip.RTflipped li+li{position:absolute;top:2px;border-top:0;border-bottom:12px #080086 solid}.referencetooltip.RTflipped li+li::after{border-top:0;border-bottom:8px #F7F7F7 solid;position:absolute;margin-top:7px}.RTsettings{float:right;height:16px;width:16px;cursor:pointer;background-image:url(//upload.wikimedia.org/wikipedia/commons/e/ed/Cog.png);margin-top:-9px;margin-right:-7px;-webkit-transition:opacity 0.15s;-moz-transition:opacity 0.15s;-o-transition:opacity 0.15s;-ms-transition:opacity 0.15s;transition:opacity 0.15s;opacity:0.6;filter:alpha(opacity=60)}.RTsettings:hover{opacity:1;filter:alpha(opacity=100)}.RTTarget{border:#080086 2px solid}\n/* cache key: enwiki:resourceloader:filter:minify-css:7:3c614aa75cecefe56b27b5e3c9197b7e */"
]},{});mw.loader.implement("ext.gadget.teahouse",function(){if(wgPageName=='Wikipedia:Teahouse/Questions'||wgPageName=='Wikipedia:Teahouse/Question-form2'){importScript('MediaWiki:Gadget-teahouse/content.js');};},{"css":[".wp-teahouse-question-form{position:absolute;margin-left:auto;margin-right:auto;background-color:#f4f3f0;border:1px solid #a7d7f9;padding:1em}#wp-th-question-ask{float:right}.wp-teahouse-ask a.external{background-image:none !important}.wp-teahouse-respond-form{position:absolute;margin-left:auto;margin-right:auto;background-color:#f4f3f0;border:1px solid #a7d7f9;padding:1em}.wp-th-respond{float:right}.wp-teahouse-respond a.external{background-image:none !important}\n/* cache key: enwiki:resourceloader:filter:minify-css:7:ba4e3603af357b5172e85672664d39a8 */"]},{});mw.loader.implement("jquery.makeCollapsible",function(){(function($,mw){function toggleElement($collapsible,action,$defaultToggle,options){var $collapsibleContent,$containers,hookCallback;options=options||{};
if(!$collapsible.jquery){return;}if(action!=='expand'&&action!=='collapse'){return;}if($defaultToggle===undefined){$defaultToggle=null;}if($defaultToggle!==null&&!$defaultToggle.jquery){return;}$collapsible.trigger(action==='expand'?'beforeExpand.mw-collapsible':'beforeCollapse.mw-collapsible');hookCallback=function(){$collapsible.trigger(action==='expand'?'afterExpand.mw-collapsible':'afterCollapse.mw-collapsible');};if(!options.plainMode&&$collapsible.is('table')){if($collapsible.find('> caption').length){$containers=$collapsible.find('> * > tr');}else{$containers=$collapsible.find('> tbody > tr');}if($defaultToggle){$containers=$containers.not($defaultToggle.closest('tr'));}if(action==='collapse'){if(options.instantHide){$containers.hide();hookCallback();}else{$containers.stop(true,true).fadeOut().promise().done(hookCallback);}}else{$containers.stop(true,true).fadeIn().promise().done(hookCallback);}}else if(!options.plainMode&&($collapsible.is('ul')||$collapsible.is('ol'))){
$containers=$collapsible.find('> li');if($defaultToggle){$containers=$containers.not($defaultToggle.parent());}if(action==='collapse'){if(options.instantHide){$containers.hide();hookCallback();}else{$containers.stop(true,true).slideUp().promise().done(hookCallback);}}else{$containers.stop(true,true).slideDown().promise().done(hookCallback);}}else{$collapsibleContent=$collapsible.find('> .mw-collapsible-content');if(!options.plainMode&&$collapsibleContent.length){if(action==='collapse'){if(options.instantHide){$collapsibleContent.hide();hookCallback();}else{$collapsibleContent.slideUp().promise().done(hookCallback);}}else{$collapsibleContent.slideDown().promise().done(hookCallback);}}else{if(action==='collapse'){if(options.instantHide){$collapsible.hide();hookCallback();}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeOut().promise().done(hookCallback);}else{$collapsible.slideUp().promise().done(hookCallback);}}}else{if($collapsible.is('tr')
||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeIn().promise().done(hookCallback);}else{$collapsible.slideDown().promise().done(hookCallback);}}}}}function togglingHandler($toggle,$collapsible,e,options){var wasCollapsed,$textContainer,collapseText,expandText;if(options===undefined){options={};}if(e){if(e.type==='click'&&options.linksPassthru&&$.nodeName(e.target,'a')){return;}else if(e.type==='keypress'&&e.which!==13&&e.which!==32){return;}else{e.preventDefault();e.stopPropagation();}}if(options.wasCollapsed!==undefined){wasCollapsed=options.wasCollapsed;}else{wasCollapsed=$collapsible.hasClass('mw-collapsed');}$collapsible.toggleClass('mw-collapsed',!wasCollapsed);if(options.toggleClasses){$toggle.toggleClass('mw-collapsible-toggle-collapsed',!wasCollapsed).toggleClass('mw-collapsible-toggle-expanded',wasCollapsed);}if(options.toggleText){collapseText=options.toggleText.collapseText;expandText=options.toggleText.expandText;$textContainer=$toggle.find('> a');if(!
$textContainer.length){$textContainer=$toggle;}$textContainer.text(wasCollapsed?collapseText:expandText);}toggleElement($collapsible,wasCollapsed?'expand':'collapse',$toggle,options);}$.fn.makeCollapsible=function(options){if(options===undefined){options={};}return this.each(function(){var $collapsible,collapseText,expandText,$caption,$toggle,actionHandler,buildDefaultToggleLink,premadeToggleHandler,$toggleLink,$firstItem,collapsibleId,$customTogglers,firstval;$collapsible=$(this).addClass('mw-collapsible');if($collapsible.data('mw-made-collapsible')){return;}else{$collapsible.data('mw-made-collapsible',true);}collapseText=options.collapseText||$collapsible.attr('data-collapsetext')||mw.msg('collapsible-collapse');expandText=options.expandText||$collapsible.attr('data-expandtext')||mw.msg('collapsible-expand');actionHandler=function(e,opts){var defaultOpts={toggleClasses:true,toggleText:{collapseText:collapseText,expandText:expandText}};opts=$.extend(defaultOpts,options,opts);
togglingHandler($(this),$collapsible,e,opts);};buildDefaultToggleLink=function(){return $('<a href="#"></a>').text(collapseText).wrap('<span class="mw-collapsible-toggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;').on('click.mw-collapsible keypress.mw-collapsible',actionHandler);};premadeToggleHandler=function(e,opts){var defaultOpts={toggleClasses:true,linksPassthru:true};opts=$.extend(defaultOpts,options,opts);togglingHandler($(this),$collapsible,e,opts);};if(options.$customTogglers){$customTogglers=$(options.$customTogglers);}else{collapsibleId=$collapsible.attr('id')||'';if(collapsibleId.indexOf('mw-customcollapsible-')===0){$customTogglers=$('.'+collapsibleId.replace('mw-customcollapsible','mw-customtoggle'));}}if($customTogglers&&$customTogglers.length){actionHandler=function(e,opts){var defaultOpts={};opts=$.extend(defaultOpts,options,opts);togglingHandler($(this),$collapsible,e,opts);};$toggleLink=$customTogglers;$toggleLink.on(
'click.mw-collapsible keypress.mw-collapsible',actionHandler);}else{if($collapsible.is('table')){$caption=$collapsible.find('> caption');if($caption.length){$toggle=$caption.find('> .mw-collapsible-toggle');if(!$toggle.length){$toggleLink=buildDefaultToggleLink().appendTo($caption);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler);}}else{$firstItem=$collapsible.find('tr:first th, tr:first td');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){$toggleLink=buildDefaultToggleLink().prependTo($firstItem.eq(-1));}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler);}}}else if($collapsible.is('ul')||$collapsible.is('ol')){$firstItem=$collapsible.find('li:first');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){firstval=$firstItem.attr('value');if(firstval===undefined||!firstval||firstval==='-1'||
firstval===-1){$firstItem.attr('value','1');}$toggleLink=buildDefaultToggleLink();$toggleLink.wrap('<li class="mw-collapsible-toggle-li"></li>').parent().prependTo($collapsible);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler);}}else{$toggle=$collapsible.find('> .mw-collapsible-toggle');if(!$collapsible.find('> .mw-collapsible-content').length){$collapsible.wrapInner('<div class="mw-collapsible-content"></div>');}if(!$toggle.length){$toggleLink=buildDefaultToggleLink().prependTo($collapsible);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler);}}}$toggleLink.prop('tabIndex',0);if(options.collapsed||$collapsible.hasClass('mw-collapsed')){actionHandler.call($toggleLink.get(0),null,{instantHide:true,wasCollapsed:false});}});};}(jQuery,mediaWiki));;},{"css":[
".mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none} caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}\n/* cache key: enwiki:resourceloader:filter:minify-css:7:6c1d24e90626cec584f0869483f983e7 */"]},{"collapsible-collapse":"collapse","collapsible-expand":"expand"});
/* cache key: enwiki:resourceloader:filter:minify-js:7:6a9127947ce9e410b40fa1f7bab314c7 */