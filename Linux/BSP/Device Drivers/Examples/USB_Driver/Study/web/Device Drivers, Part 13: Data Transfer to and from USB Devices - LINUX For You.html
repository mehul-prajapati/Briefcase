<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" xml:lang="en-US"><head><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/a_003.html" async=""></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/client.js" async="" type="text/javascript" id="LR1"></script><script async="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/cbgapi.loaded_2"></script><script gapi_processed="true" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/plusone.js" async="" type="text/javascript"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/count.bin" async="true" type="text/javascript"></script><link href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/buttons3.css" type="text/css" rel="stylesheet">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Device Drivers, Part 13: Data Transfer to and from USB Devices - LINUX For You</title>
        <script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/buttons.js" async="" type="text/javascript"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/widgets.js" async="" type="text/javascript"></script><script async="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/cbgapi.loaded_1"></script><script async="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/cbgapi.loaded_0"></script><script gapi_processed="true" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/plusone.js" async="" type="text/javascript"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/all.js" id="facebook-jssdk"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/ga.js" async="" type="text/javascript"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/cloudflare.js" async=""></script><script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"6bf051395f7604ae0090c3054f3eefa1",petok:"28c3307e96fec93a14fbc32c0bd0c1216dcf9f98-1392980487-1800",zone:"linuxforu.com",rocket:"0",apps:{"ga_key":{"ua":"UA-27466087-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=221574e73d/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link rel="profile" href="http://gmpg.org/xfn/11">
        <link rel="shortcut icon" href="http://www.linuxforu.com/favicon.ico" type="image/x-icon">		<link rel="stylesheet" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/style.css" type="text/css" media="all">
		<link rel="stylesheet" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery.css" type="text/css" media="all">
        <link rel="pingback" href="http://www.linuxforu.com/xmlrpc.php">
        <link rel="alternate" type="text/xml" title="RSS .92" href="http://www.linuxforu.com/feed/rss/">
        <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://www.linuxforu.com/feed/atom/">
		<!--[if lt IE 8]><link rel="stylesheet" href="http://www.linuxforu.com/wp-content/themes/unspoken/ie.css?b1cee3" type="text/css" media="all" /><![endif]-->

        
        <style type="text/css">body {font: 62.5% Helvetica, Arial, sans-serif;}</style>
        
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.18 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="This article, part of the series on Linux device drivers, continues from the previous two articles. It details the ultimate step of data transfer to and from a USB device, using your first USB driver in Linux.">
<link rel="canonical" href="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Device Drivers, Part 13: Data Transfer to and from USB Devices - LINUX For You">
<meta property="og:description" content="This article, part of the series on Linux device drivers, continues from the previous two articles. It details the ultimate step of data transfer to and from a USB device, using your first USB driver in Linux.">
<meta property="og:url" content="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/">
<meta property="og:site_name" content="LINUX For You">
<meta property="article:author" content="anil.pugalia">
<meta property="fb:admins" content="709350085,1340102256">
<meta property="og:image" content="http://www.linuxforu.com/wp-content/uploads/2011/12/usb-device-drivers-3-590x341.jpg">
<meta property="og:image" content="http://www.linuxforu.com/wp-content/uploads/2011/12/figure_19_usb_proc_window_snippet-590x448.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@linuxforyou">
<meta name="twitter:domain" content="LINUX For You">
<meta name="twitter:creator" content="@anil_pugalia">
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="LINUX For You » Feed" href="http://www.linuxforu.com/feed/">
<link rel="alternate" type="application/rss+xml" title="LINUX For You » Comments Feed" href="http://www.linuxforu.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="LINUX For You » Device Drivers, Part 13: Data Transfer to and from USB Devices Comments Feed" href="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/feed/">
<link rel="stylesheet" id="wpgform-css-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/wpgform.css" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack-widgets-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/widgets.css" type="text/css" media="all">
<link rel="stylesheet" id="sphinxStyleSheets-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/sphinxsearch.css" type="text/css" media="all">
<link rel="stylesheet" id="pre-tag-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/pre.css" type="text/css" media="all">
<link rel="stylesheet" id="core3.0-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shCore.css" type="text/css" media="all">
<link rel="stylesheet" id="core-Default3.0-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shCoreDefault.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-Default3.0-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shThemeDefault.css" type="text/css" media="all">
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery_004.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery-migrate.js"></script><style type="text/css">.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }</style>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jcarousellite_1.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/scripts.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/comment-reply.js"></script>
<meta name="generator" content="WordPress 3.6.1">

<!-- WP SyntaxHighlighter Ver.1.7.3 CSS for code Begin -->
<style type="text/css">
.syntaxhighlighter,
.syntaxhighlighter a,
.syntaxhighlighter div,
.syntaxhighlighter code,
.syntaxhighlighter table,
.syntaxhighlighter table td,
.syntaxhighlighter table tr,
.syntaxhighlighter table tbody,
.syntaxhighlighter table thead,
.syntaxhighlighter table caption,
.syntaxhighlighter textarea {
font-size: 12px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.syntaxhighlighter table caption {
/* For Title(Caption) */  
font-size: 14px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.syntaxhighlighter.nogutter td.code .line {
/* Set the left padding space when no-gutter in ver. 3.0 */  
padding-left: 3px !important;
}
.syntaxhighlighter {
/* For Chrome/Safari(WebKit) */  
/* Hide the superfluous vertical scrollbar in ver. 3.0 */  
overflow-y: hidden !important;
padding: 1px !important;
}
.widget-area.syntaxhighlighter a,
.widget-area.syntaxhighlighter div,
.widget-area.syntaxhighlighter code,
.widget-area.syntaxhighlighter table,
.widget-area.syntaxhighlighter table td,
.widget-area.syntaxhighlighter table tr,
.widget-area.syntaxhighlighter table tbody,
.widget-area.syntaxhighlighter table thead,
.widget-area.syntaxhighlighter table caption,
.widget-area.syntaxhighlighter textarea {
/* For Widget */  
font-size: 14px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.widget-area table caption {
/* For Widget */  
/* For Title(Caption) */  
font-size: 10px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
</style>
<!-- WP SyntaxHighlighter Ver.1.7.3 CSS for code End -->
<meta property="og:image" content="http://www.linuxforu.com/wp-content/uploads/2011/12/usb-device-drivers-3-150x150.jpg"><style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><style type="text/css">.logo-header a span { height: 80px; width: 270px; margin: 0 0 0 40px; }
.logo-footer span { height: 60px; }
.header-meta { background-color: #07112B; }
.header-middle { margin-bottom: 15px; }
.header-adplace img  { margin-top: 7px; margin-bottom: 0;}
.wrapper { box-shadow: 0 0 7px #53728E; }
.announcementbar { background: none repeat scroll 0 0 #FF5800;  color: #FFFFFF; font-family: tahoma; font-size: 14px; padding: 10px; text-align: center; }
#top-menu ul li a { color: #FFFFFF; }
#top-menu ul li a:hover { color: #D2E6FF; }
#navigation ul li { text-transform: uppercase; }
.footer { background-color: #07112B; }
.hentry-content { font-size: 14px; }
.slider {background-color: #FFF8E7;}
.slider-item h2 { font-size: 18px; line-height: 21px; }
.block-title2 {border-bottom: 1px solid #222222;color: #444444;}
.slider-item h2 a {color: #555555;}
.slider-item p {color: #333333;}
.slider-item-meta {color: #111111;}
.slider-item-meta a {color: #111111;}
.latest-news li { padding: 4px 0; }
.choice-item { border-right: 1px solid #FFFFFF; }
.choice-item h2 { font-size: 13px; line-height: 17px; }
.category-item h2 { font-size: 16px; line-height: 22px; }
.catlist-item h2 { font-size: 13px; margin-bottom: 0; }
.wrapper { background: none repeat scroll 0 0 #FFFFFF; }
.single .hentry-middle { float: none; width: 620px; }
.single .hentry-content { width: 610px; }
.single .hentry-sidebar { display: none; width: 0; float: none}
.single .hentry-content img { max-width: 610px; }
.hentry-content h2 { line-height: 30px; }
.hentry-content ol { margin: 0 0 15px 30px;} 
table { margin: 1px; text-align:left; }
.single .hentry-content thead { font-weight: bold; background: #EDF7FF;}
.hentry-content td { border: 1px solid #8DB5FE !important; padding: 4px 8px !important; }
code { color:#054E76; background:#EDF7FF; font-size: 90%;}
.syntaxhighlighter { border: 1px solid #EFEFEF; width: 99% !important; }
.introduction { border-bottom: 3px double #FF5800; font-family: Georgia; font-size: medium; font-style: italic; margin-bottom: 20px; padding: 10px; }
.note {background: none repeat scroll 0 0 #EDF7FF; margin-bottom: 10px; padding: 3px 10px; }
.imagecredit { background-color: #EDF7FF; border: 1px solid #8DB5FE; font-size: x-small; font-style: italic; margin: 20px; padding: 0 20px; }
.list .hentry .post-thumb img, .hentry-content img.alignleft, .hentry-content img.alignright, .hentry-content img.aligncenter { border: 1px double #EFEFEF; }
.hentry-content .alignleft, .hentry-content img.alignleft { margin: 4px 15px 4px 0; }
.hentry-content .alignright, .hentry-content img.alignright { margin: 4px 0 4px 15px;}
.single .hentry-content .wp-caption { max-width: 610px !important; background: none repeat scroll 0 0 transparent; border-bottom: 1px solid #CCCCCC; border-radius: 0 0 0 0;}
.hentry-content .wp-caption p.wp-caption-text { color: #111111; }
#comments .block-title { margin: 20px 0; }
.single .hentry-like, .single .hentry-tags { font-size: x-small; }
.hentry-content blockquote { font-family: Georgia; font-size: 110%; font-style: oblique; font-weight: normal; }
.boxmain {border: 3px double #8DB5FE;margin-bottom: 20px;}
.boxhead {padding: 0 5px; background: none repeat scroll #8DB5FE; color:#FFFFFF;}
.boxbody {padding: 0 15px;}
/* WP C-A-PLUS */
#author-info {font-size: 115%; margin: 20px 25px 20px 15px; padding: 20px; border: 2px solid #4b3e34; background: #5c4e42; color: #ffffff;}
#author-info a:hover {color: #fdb312;}
#author-info a {color: #08c5ed;}
#authorbox-title {font-size: 150%;}
.author {padding: 20px 0;}
.authorboxfix  {clear: both;}
.author-image {width: 105px; float: left;}
.author-name {float: left; width: 405px; font-size: 140%; font-weight: bold; padding-bottom: 10px; margin: 0 10px;}
.author-blurb {float: left; width: 405px; margin: 0 10px;}
.author-blurb .social-links {padding-top: 10px; font-weight: bold;}</style>	<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27466087-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
<script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/embed.js" async="" type="text/javascript"></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/count.js" type="text/javascript" async=""></script><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/count-data.js" async=""></script><script charset="UTF-8" async="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/alfie.js"></script><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/services.css"><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_reset > div{overflow:hidden}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}
.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}
.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}
.fb_iframe_widget iframe{position:absolute}
.fb_iframe_widget_lift{z-index:1}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_fluid span{width:100%}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
.fbpluginrecommendationsbarleft{left:10px}
.fbpluginrecommendationsbarright{right:10px}</style></head>
	<body data-twttr-rendered="true" class="single single-post postid-8556 single-format-standard"><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/hub.html" style="position: absolute; top: -9999em; width: 10px; height: 10px;" name="twttrHubFrameSecure" tabindex="0" allowtransparency="true" id="twttrHubFrameSecure" scrolling="no" frameborder="0"></iframe><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/hub_002.html" style="position: absolute; top: -9999em; width: 10px; height: 10px;" name="twttrHubFrame" tabindex="0" allowtransparency="true" id="twttrHubFrame" scrolling="no" frameborder="0"></iframe>
        <div class="wrapper">
											
            <div class="header">
                <div class="header-meta">

                    <div id="top-menu" class="menu-top-menu-container"><ul id="menu-top-menu" class="header-menu clear"><li id="menu-item-5544" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5544 first"><a href="http://www.linuxforu.com/write-for-linux-for-you/">Write For Us</a></li>
<li id="menu-item-5540" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5540"><a title="for Tips &amp; Tricks section of print magazine" href="http://www.linuxforu.com/submit-your-tips-tricks/">Submit Tips</a></li>
<li id="menu-item-6605" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6605"><a title="Click takes you to our publisher’s gateway" href="http://electronicsforu.com/electronicsforu/subscription/subsc2scheme.asp">Subscribe to Print Edition</a></li>
<li id="menu-item-12896" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12896"><a href="http://www.linuxforu.com/wpgforms/poll/">Have Your Say</a></li>
<li id="menu-item-12899" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12899 last"><a href="http://www.linuxforu.com/contact-us/">Contact Us</a></li>
</ul></div>
                    <div class="header-searchform">
                        	<form method="get" action="http://www.linuxforu.com">
                            <fieldset>
                                <input id="s" name="s" onfocus="if(this.value=='Search') this.value='';" onblur="if(this.value=='') this.value='Search';" value="Search" type="text">
                                <button type="submit"></button>
                            </fieldset>
                        </form>
                    </div>
                </div>
                <div class="header-middle clear">
                    <div class="logo-header offset">
                        <a href="http://www.linuxforu.com/">
                                                        <span style="background: url(http://www.linuxforu.com/wp-content/themes/unspoken/images/logo-header.png) 0 0 no-repeat;"></span>                                                    </a>
                    </div>
                    <div class="header-adplace">
                        <a class="unspoken-banner alignright" href="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/linuxforu.com" target="_blank"><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/OSI-Magazine-468x60.gif" alt="OSI 2013" title="Open Source India"></a><div class="clear"></div>                    </div>
                </div>
            </div>

						<div id="navigation" class="menu-navigation clear"><ul id="menu-navigation" class="menu"><li id="menu-item-12423" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-12423 first"><a href="http://www.linuxforu.com/">Home</a></li>
<li id="menu-item-12424" class="menu-item menu-item-type-taxonomy menu-item-object-category parent menu-item-12424"><a href="http://www.linuxforu.com/category/reviews/">Reviews</a>
<ul style="top: 40px;" class="sub-menu">
	<li id="menu-item-12426" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12426"><a href="http://www.linuxforu.com/category/reviews/distros/">Distros</a></li>
	<li id="menu-item-12425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12425"><a href="http://www.linuxforu.com/category/reviews/apps/">Apps</a></li>
	<li id="menu-item-12427" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12427"><a href="http://www.linuxforu.com/category/reviews/products/">Products</a></li>
</ul>
</li>
<li id="menu-item-12428" class="menu-item menu-item-type-taxonomy menu-item-object-category parent menu-item-12428"><a href="http://www.linuxforu.com/category/how-tos/">How-Tos</a>
<ul style="top: 40px;" class="sub-menu">
	<li id="menu-item-12429" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12429"><a href="http://www.linuxforu.com/category/how-tos/home-quick-tips/">Home / Quick Tips</a></li>
	<li id="menu-item-12432" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12432"><a href="http://www.linuxforu.com/category/how-tos/servers/">Servers</a></li>
	<li id="menu-item-12430" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12430"><a href="http://www.linuxforu.com/category/how-tos/networking/">Networking</a></li>
	<li id="menu-item-12431" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12431"><a href="http://www.linuxforu.com/category/how-tos/secure/">Security</a></li>
	<li id="menu-item-12433" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12433"><a href="http://www.linuxforu.com/category/how-tos/tools-apps/">Tools / Apps</a></li>
</ul>
</li>
<li id="menu-item-12434" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-12434"><a href="http://www.linuxforu.com/category/coding/">Coding</a></li>
<li id="menu-item-12435" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12435"><a href="http://www.linuxforu.com/category/interviews/">Interviews</a></li>
<li id="menu-item-12436" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12436"><a href="http://www.linuxforu.com/category/features/">Features</a></li>
<li id="menu-item-12437" class="menu-item menu-item-type-taxonomy menu-item-object-category parent menu-item-12437"><a href="http://www.linuxforu.com/category/overview/">Overview</a>
<ul style="top: 40px;" class="sub-menu">
	<li id="menu-item-12441" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12441"><a href="http://www.linuxforu.com/category/overview/security/">Security</a></li>
	<li id="menu-item-12443" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12443"><a href="http://www.linuxforu.com/category/overview/tips/">Tips</a></li>
	<li id="menu-item-12442" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12442"><a href="http://www.linuxforu.com/category/overview/technology/">Technology</a></li>
	<li id="menu-item-12439" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12439"><a href="http://www.linuxforu.com/category/overview/case-studies/">Case Studies</a></li>
	<li id="menu-item-12438" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12438"><a href="http://www.linuxforu.com/category/overview/applications-overview/">Applications</a></li>
	<li id="menu-item-12440" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12440"><a href="http://www.linuxforu.com/category/overview/concepts/">Concepts</a></li>
</ul>
</li>
<li id="menu-item-12444" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12444"><a href="http://www.linuxforu.com/category/blogs/">Blogs</a></li>
<li id="menu-item-12445" class="menu-item menu-item-type-custom menu-item-object-custom parent menu-item-12445"><a href="#">Series</a>
<ul style="top: 40px;" class="sub-menu">
	<li id="menu-item-12446" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12446"><a href="http://www.linuxforu.com/tag/linux-device-drivers-series/">Device Drivers</a></li>
	<li id="menu-item-12447" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12447"><a href="http://www.linuxforu.com/tag/lisp-tears-of-joy-series/">Lisp Programming</a></li>
	<li id="menu-item-12448" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12448"><a href="http://www.linuxforu.com/tag/securing-apache-series/">Apache Security</a></li>
	<li id="menu-item-12449" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12449"><a href="http://www.linuxforu.com/tag/advanced-nmap-series/">Advanced NMAP</a></li>
</ul>
</li>
<li id="menu-item-12450" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12450 last"><a href="http://www.linuxforu.com/category/sysadmins/">IT Admin</a></li>
</ul></div>						
	          <div class="middle clear">

                
<div class="br" id="content">


<div id="post-8556" class="post-8556 post type-post status-publish format-standard hentry category-coding category-developers tag-data-transfers tag-depmod tag-device-id tag-kernel-space tag-lfy-december-2011 tag-linux-device-drivers tag-linux-device-drivers-series tag-pci-device-drivers tag-pen-drive tag-product-id tag-scsi tag-universal-serial-bus tag-usb tag-usb-device-driver tag-usb-devices tag-usb-driver tag-usb-storage-driver tag-vendor-id single">

    <div class="hentry-meta">
        <h1>Device Drivers, Part 13: Data Transfer to and from USB Devices</h1>
        <p class="hentry-meta-data">By <a href="http://www.linuxforu.com/author/anil-kumar-pugalia/" title="Posts by Anil Kumar Pugalia" rel="author">Anil Kumar Pugalia</a> on December 29, 2011 in <a href="http://www.linuxforu.com/category/coding/" title="View all posts in Coding" rel="category tag">Coding</a>, <a href="http://www.linuxforu.com/category/developers/" title="View all posts in Developers" rel="category tag">Developers</a> · <a data-disqus-identifier="8556 http://www.linuxforu.com/?p=8556" href="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/#disqus_thread" title="Comment on Device Drivers, Part 13: Data Transfer to and from USB Devices">86 Comments</a></p>
    </div>

    <div class="hentry-container clear">
                <div class="hentry-middle">
            <div class="hentry-content clear">
                <p><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/usb-device-drivers-3-590x341.jpg" alt="USB device drivers" title="USB device drivers" class="aligncenter size-large wp-image-8558" width="590" height="341"></p>
<div class="introduction">This article, which is part of the <a href="http://www.linuxforu.com/tag/linux-device-drivers-series/">series on Linux device drivers</a>, continues from the previous <a href="http://www.linuxforu.com/2011/10/usb-drivers-in-linux-1/" title="Device Drivers, Part 11: USB Drivers in Linux">two</a> <a href="http://www.linuxforu.com/2011/11/usb-drivers-in-linux-2/" title="Device Drivers, Part 12: USB Drivers in Linux Continued">articles</a>. It details the ultimate step of data transfer to and from a USB device, using your first USB driver in Linux.</div>
<p>Pugs continued, “To answer your question about how a driver 
selectively registers or skips a particular interface of a USB device, 
you need to understand the significance of the return value of the <code>probe()</code>
 callback.” Note that the USB core would invoke probe for all the 
interfaces of a detected device, except the ones which are already 
registered — thus, while doing it for the first time, it will probe for 
all interfaces. Now, if the probe returns 0, it means the driver has 
registered for that interface. Returning an error code indicates not 
registering for it. That’s all. “That was simple,” commented Shweta.</p>
<p>“Now, let’s talk about the ultimate — data transfers to and from a USB device,” continued Pugs. </p>
<p>“But before that, tell me, what is this MODULE_DEVICE_TABLE? This has
 been bothering me since you explained the USB device ID table macros,” 
asked Shweta, urging Pugs to slow down. </p>
<p>“That’s trivial stuff. It is mainly for the user-space <code>depmod</code>,” he said. ‘Module’ is another term for a driver, which can be dynamically loaded/unloaded. The macro <code>MODULE_DEVICE_TABLE</code> generates two variables in a module’s read-only section, which is extracted by <code>depmod</code> and stored in global map files under <code>/lib/modules/&lt;kernel_version&gt;</code>. Two such files are <code>modules.usbmap</code> and <code>modules.pcimap</code>,
 for USB and PCI device drivers, respectively. This enables auto-loading
 of these drivers, as we saw the usb-storage driver getting auto-loaded.</p>
<h2>USB data transfer</h2>
<p>“Time for USB data transfers. Let’s build upon the USB device driver 
coded in our previous sessions, using the same handy JetFlash pen drive 
from Transcend, with vendor ID <code>0x058f</code> and product ID <code>0x6387</code>,” said Pugs, enthusiastically.</p>
<p>USB, being a hardware protocol, forms the usual horizontal layer in 
the kernel space. And hence, for it to provide an interface to 
user-space, it has to connect through one of the vertical layers. As the
 character (driver) vertical has already been discussed, it is the 
current preferred choice for the connection with the USB horizontal, in 
order to understand the complete data transfer flow. </p>
<p>Also, we do not need to get a free unreserved character major number,
 but can use the character major number 180, reserved for USB-based 
character device files. Moreover, to achieve this complete character 
driver logic with the USB horizontal in one go, the following are the 
APIs declared in <code>&lt;linux/usb.h&gt;</code>:</p>
<div><div id="highlighter_745879" class="syntaxhighlighter nogutter notranslate c"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c color1 bold">int</code> <code class="c plain">usb_register_dev(</code><code class="c keyword bold">struct</code> <code class="c plain">usb_interface *intf, </code><code class="c keyword bold">struct</code> <code class="c plain">usb_class_driver *class_driver);</code></div><div class="line number2 index1 alt1"><code class="c keyword bold">void</code> <code class="c plain">usb_deregister_dev(</code><code class="c keyword bold">struct</code> <code class="c plain">usb_interface *intf, </code><code class="c keyword bold">struct</code> <code class="c plain">usb_class_driver *class_driver);</code></div></div></td></tr></tbody></table></div></div>
<p>Usually, we would expect these functions to be invoked in the 
constructor and the destructor of a module, respectively. However, to 
achieve the hot-plug-n-play behaviour for the (character) device files 
corresponding to USB devices, these are instead invoked in the probe and
 disconnect callbacks, respectively. </p>
<p>The first parameter in the above functions is the interface pointer 
received as the first parameter in both probe and disconnect. The second
 parameter, <code>struct usb_class_driver</code>, needs to be populated with the suggested device file name and the set of device file operations, before invoking <code>usb_register_dev</code>. For the actual usage, refer to the functions <code>pen_probe</code> and <code>pen_disconnect</code> in the code listing of <code>pen_driver.c</code> below.</p>
<p>Moreover, as the file operations (write, read, etc.,) are now 
provided, that is exactly where&nbsp;we need to do the data transfers to
 and from the USB device. So, <code>pen_write</code> and <code>pen_ read</code> below show the possible calls to <code>usb_bulk_msg()</code> (prototyped in <code>&lt;linux/usb.h&gt;</code>)
 to do the transfers over the pen drive’s bulk end-points 0×01 and 0×82,
 respectively. Refer to the ‘E’ lines of the middle section in Figure 1 
for the endpoint number listings of our pen drive.</p>
<div id="attachment_8557" class="wp-caption aligncenter" style="width: 590px"><a href="http://www.linuxforu.com/wp-content/uploads/2011/12/figure_19_usb_proc_window_snippet.png"><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/figure_19_usb_proc_window_snippet-590x448.png" alt="USB specifications for the pen drive" title="USB specifications for the pen drive" class="size-large wp-image-8557" width="590" height="448"></a>
<p class="wp-caption-text">Figure 1: USB specifications for the pen drive</p>
</div>
<p>
Refer to the header file <code>&lt;linux/usb.h&gt;</code> under kernel 
sources, for the complete list of USB core API prototypes for other 
endpoint-specific data transfer functions like <code>usb_control_msg()</code>, <code>usb_interrupt_msg()</code>, etc. <code>usb_rcvbulkpipe()</code>, <code>usb_sndbulkpipe()</code>, and many such other macros, also defined in <code>&lt;linux/usb.h&gt;</code>, compute the actual endpoint bit-mask to be passed to the various USB core APIs.</p>
<p>Note that a pen drive belongs to a USB mass storage class, which 
expects a set of SCSI-like commands to be transacted over the bulk 
endpoints. So, a raw read/write as shown in the code listing below may 
not really do a data transfer as expected, unless the data is 
appropriately formatted. But still, this summarises the overall code 
flow of a USB driver. To get a feel of a real working USB data transfer 
in a simple and elegant way, one would need some kind of custom USB 
device, something like the one available <a href="http://lddk.esrijan.com/">here</a>.</p>
<div><div id="highlighter_434099" class="syntaxhighlighter notranslate c"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;linux/module.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;linux/kernel.h&gt;</code></div><div class="line number3 index2 alt2"><code class="c preprocessor">#include &lt;linux/usb.h&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c preprocessor">#define MIN(a,b) (((a) &lt;= (b)) ? (a) : (b))</code></div><div class="line number6 index5 alt1"><code class="c preprocessor">#define BULK_EP_OUT 0x01</code></div><div class="line number7 index6 alt2"><code class="c preprocessor">#define BULK_EP_IN 0x82</code></div><div class="line number8 index7 alt1"><code class="c preprocessor">#define MAX_PKT_SIZE 512</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c keyword bold">static</code> <code class="c keyword bold">struct</code> <code class="c plain">usb_device *device;</code></div><div class="line number11 index10 alt2"><code class="c keyword bold">static</code> <code class="c keyword bold">struct</code> <code class="c plain">usb_class_driver </code><code class="c keyword bold">class</code><code class="c plain">;</code></div><div class="line number12 index11 alt1"><code class="c keyword bold">static</code> <code class="c plain">unsigned </code><code class="c color1 bold">char</code> <code class="c plain">bulk_buf[MAX_PKT_SIZE];</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="c keyword bold">static</code> <code class="c color1 bold">int</code> <code class="c plain">pen_open(</code><code class="c keyword bold">struct</code> <code class="c plain">inode *i, </code><code class="c keyword bold">struct</code> <code class="c plain">file *f)</code></div><div class="line number15 index14 alt2"><code class="c plain">{</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number17 index16 alt2"><code class="c plain">}</code></div><div class="line number18 index17 alt1"><code class="c keyword bold">static</code> <code class="c color1 bold">int</code> <code class="c plain">pen_close(</code><code class="c keyword bold">struct</code> <code class="c plain">inode *i, </code><code class="c keyword bold">struct</code> <code class="c plain">file *f)</code></div><div class="line number19 index18 alt2"><code class="c plain">{</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number21 index20 alt2"><code class="c plain">}</code></div><div class="line number22 index21 alt1"><code class="c keyword bold">static</code> <code class="c plain">ssize_t pen_read(</code><code class="c keyword bold">struct</code> <code class="c plain">file *f, </code><code class="c color1 bold">char</code> <code class="c plain">__user *buf, </code><code class="c color1 bold">size_t</code> <code class="c plain">cnt, loff_t *off)</code></div><div class="line number23 index22 alt2"><code class="c plain">{</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">retval;</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">read_cnt;</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Read the data from the bulk endpoint */</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">retval = usb_bulk_msg(device, usb_rcvbulkpipe(device, BULK_EP_IN),</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">bulk_buf, MAX_PKT_SIZE, &amp;read_cnt, 5000);</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">(retval)</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">printk(KERN_ERR </code><code class="c string">"Bulk message returned %d\n"</code><code class="c plain">, retval);</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">retval;</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">(copy_to_user(buf, bulk_buf, MIN(cnt, read_cnt)))</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">-EFAULT;</code></div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">MIN(cnt, read_cnt);</code></div><div class="line number41 index40 alt2"><code class="c plain">}</code></div><div class="line number42 index41 alt1"><code class="c keyword bold">static</code> <code class="c plain">ssize_t pen_write(</code><code class="c keyword bold">struct</code> <code class="c plain">file *f, </code><code class="c keyword bold">const</code> <code class="c color1 bold">char</code> <code class="c plain">__user *buf, </code><code class="c color1 bold">size_t</code> <code class="c plain">cnt, loff_t *off)</code></div><div class="line number43 index42 alt2"><code class="c plain">{</code></div><div class="line number44 index43 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">retval;</code></div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">wrote_cnt = MIN(cnt, MAX_PKT_SIZE);</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">(copy_from_user(bulk_buf, buf, MIN(cnt, MAX_PKT_SIZE)))</code></div><div class="line number48 index47 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number49 index48 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">-EFAULT;</code></div><div class="line number50 index49 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Write the data into the bulk endpoint */</code></div><div class="line number53 index52 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">retval = usb_bulk_msg(device, usb_sndbulkpipe(device, BULK_EP_OUT),</code></div><div class="line number54 index53 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">bulk_buf, MIN(cnt, MAX_PKT_SIZE), &amp;wrote_cnt, 5000);</code></div><div class="line number55 index54 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">(retval)</code></div><div class="line number56 index55 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number57 index56 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">printk(KERN_ERR </code><code class="c string">"Bulk message returned %d\n"</code><code class="c plain">, retval);</code></div><div class="line number58 index57 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">retval;</code></div><div class="line number59 index58 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">wrote_cnt;</code></div><div class="line number62 index61 alt1"><code class="c plain">}</code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="c keyword bold">static</code> <code class="c keyword bold">struct</code> <code class="c plain">file_operations fops =</code></div><div class="line number65 index64 alt2"><code class="c plain">{</code></div><div class="line number66 index65 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.open = pen_open,</code></div><div class="line number67 index66 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.release = pen_close,</code></div><div class="line number68 index67 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.read = pen_read,</code></div><div class="line number69 index68 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.write = pen_write,</code></div><div class="line number70 index69 alt1"><code class="c plain">};</code></div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="c keyword bold">static</code> <code class="c color1 bold">int</code> <code class="c plain">pen_probe(</code><code class="c keyword bold">struct</code> <code class="c plain">usb_interface *interface, </code><code class="c keyword bold">const</code> <code class="c keyword bold">struct</code> <code class="c plain">usb_device_id *id)</code></div><div class="line number73 index72 alt2"><code class="c plain">{</code></div><div class="line number74 index73 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">retval;</code></div><div class="line number75 index74 alt2">&nbsp;</div><div class="line number76 index75 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">device = interface_to_usbdev(interface);</code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">class</code><code class="c plain">.name = </code><code class="c string">"usb/pen%d"</code><code class="c plain">;</code></div><div class="line number79 index78 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">class</code><code class="c plain">.fops = &amp;fops;</code></div><div class="line number80 index79 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">((retval = usb_register_dev(interface, &amp;</code><code class="c keyword bold">class</code><code class="c plain">)) &lt; 0)</code></div><div class="line number81 index80 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number82 index81 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Something prevented us from registering this driver */</code></div><div class="line number83 index82 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">err(</code><code class="c string">"Not able to get a minor for this device."</code><code class="c plain">);</code></div><div class="line number84 index83 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number85 index84 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code></div><div class="line number86 index85 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number87 index86 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">printk(KERN_INFO </code><code class="c string">"Minor obtained: %d\n"</code><code class="c plain">, interface-&gt;minor);</code></div><div class="line number88 index87 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">retval;</code></div><div class="line number91 index90 alt2"><code class="c plain">}</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="c keyword bold">static</code> <code class="c keyword bold">void</code> <code class="c plain">pen_disconnect(</code><code class="c keyword bold">struct</code> <code class="c plain">usb_interface *interface)</code></div><div class="line number94 index93 alt1"><code class="c plain">{</code></div><div class="line number95 index94 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">usb_deregister_dev(interface, &amp;</code><code class="c keyword bold">class</code><code class="c plain">);</code></div><div class="line number96 index95 alt1"><code class="c plain">}</code></div><div class="line number97 index96 alt2">&nbsp;</div><div class="line number98 index97 alt1"><code class="c comments">/* Table of devices that work with this driver */</code></div><div class="line number99 index98 alt2"><code class="c keyword bold">static</code> <code class="c keyword bold">struct</code> <code class="c plain">usb_device_id pen_table[] =</code></div><div class="line number100 index99 alt1"><code class="c plain">{</code></div><div class="line number101 index100 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{ USB_DEVICE(0x058F, 0x6387) },</code></div><div class="line number102 index101 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{} </code><code class="c comments">/* Terminating entry */</code></div><div class="line number103 index102 alt2"><code class="c plain">};</code></div><div class="line number104 index103 alt1"><code class="c plain">MODULE_DEVICE_TABLE (usb, pen_table);</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="c keyword bold">static</code> <code class="c keyword bold">struct</code> <code class="c plain">usb_driver pen_driver =</code></div><div class="line number107 index106 alt2"><code class="c plain">{</code></div><div class="line number108 index107 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.name = </code><code class="c string">"pen_driver"</code><code class="c plain">,</code></div><div class="line number109 index108 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.probe = pen_probe,</code></div><div class="line number110 index109 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.disconnect = pen_disconnect,</code></div><div class="line number111 index110 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">.id_table = pen_table,</code></div><div class="line number112 index111 alt1"><code class="c plain">};</code></div><div class="line number113 index112 alt2">&nbsp;</div><div class="line number114 index113 alt1"><code class="c keyword bold">static</code> <code class="c color1 bold">int</code> <code class="c plain">__init pen_init(</code><code class="c keyword bold">void</code><code class="c plain">)</code></div><div class="line number115 index114 alt2"><code class="c plain">{</code></div><div class="line number116 index115 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">result;</code></div><div class="line number117 index116 alt2">&nbsp;</div><div class="line number118 index117 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Register this driver with the USB subsystem */</code></div><div class="line number119 index118 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code> <code class="c plain">((result = usb_register(&amp;pen_driver)))</code></div><div class="line number120 index119 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">{</code></div><div class="line number121 index120 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">err(</code><code class="c string">"usb_register failed. Error number %d"</code><code class="c plain">, result);</code></div><div class="line number122 index121 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number123 index122 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">result;</code></div><div class="line number124 index123 alt1"><code class="c plain">}</code></div><div class="line number125 index124 alt2">&nbsp;</div><div class="line number126 index125 alt1"><code class="c keyword bold">static</code> <code class="c keyword bold">void</code> <code class="c plain">__exit pen_exit(</code><code class="c keyword bold">void</code><code class="c plain">)</code></div><div class="line number127 index126 alt2"><code class="c plain">{</code></div><div class="line number128 index127 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Deregister this driver with the USB subsystem */</code></div><div class="line number129 index128 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">usb_deregister(&amp;pen_driver);</code></div><div class="line number130 index129 alt1"><code class="c plain">}</code></div><div class="line number131 index130 alt2">&nbsp;</div><div class="line number132 index131 alt1"><code class="c plain">module_init(pen_init);</code></div><div class="line number133 index132 alt2"><code class="c plain">module_exit(pen_exit);</code></div><div class="line number134 index133 alt1">&nbsp;</div><div class="line number135 index134 alt2"><code class="c plain">MODULE_LICENSE(</code><code class="c string">"GPL"</code><code class="c plain">);</code></div><div class="line number136 index135 alt1"><code class="c plain">MODULE_AUTHOR(</code><code class="c string">"Anil Kumar Pugalia &lt;email_at_sarika-pugs_dot_com&gt;"</code><code class="c plain">);</code></div><div class="line number137 index136 alt2"><code class="c plain">MODULE_DESCRIPTION(</code><code class="c string">"USB Pen Device Driver"</code><code class="c plain">);</code></div></div></td></tr></tbody></table></div></div>
<p>As a reminder, the usual steps for any Linux device driver may be 
repeated with the above code, along with the following steps for the pen
 drive:</p>
<ul>
<li>Build the driver (<code>pen_driver.ko</code>) by running <code>make</code>.</li>
<li>Load the driver using <code>insmod pen_driver.ko</code>.</li>
<li>Plug in the pen drive (after making sure that the <code>usb-storage</code> driver is not already loaded).</li>
<li>Check for the dynamic creation of <code>/dev/pen0</code> (0 being the minor number obtained — check <code>dmesg</code> logs for the value on your system).</li>
<li>Possibly try some write/read on <code>/dev/pen0</code> (you most likely will get a connection timeout and/or broken pipe errors, because of non-conforming SCSI commands).</li>
<li>Unplug the pen drive and look for <code>/dev/pen0</code> to be gone.</li>
<li>Unload the driver using <code>rmmod pen_driver</code>.</li>
</ul>
<p>Meanwhile, Pugs hooked up his first-of-its-kind creation — the Linux 
device driver kit (LDDK) — into his system for a live demonstration of 
the USB data transfers. </p>
<p>“Aha! Finally a cool complete working USB driver,” quipped Shweta, 
excited. “Want to have more fun? We could do a block driver over it…,” 
added Pugs. “Oh! Really?” asked Shweta, with glee. “Yes. But before 
that, we need to understand the partitioning mechanisms,” commented 
Pugs.</p>
<div id="crp_related" class="crp_related">
<h5>Related Posts:</h5>
<ul>
<li><a href="http://www.linuxforu.com/2011/11/usb-drivers-in-linux-2/" class="crp_title">Device Drivers, Part 12: USB Drivers in Linux Continued</a></li>
<li><a href="http://www.linuxforu.com/2011/10/usb-drivers-in-linux-1/" class="crp_title">Device Drivers, Part 11: USB Drivers in Linux</a></li>
<li><a href="http://www.linuxforu.com/2011/05/decoding-character-device-file-operations/" class="crp_title">Device Drivers, Part 6: Decoding Character Device File…</a></li>
<li><a href="http://www.linuxforu.com/2011/04/character-device-files-creation-operations/" class="crp_title">Device Drivers, Part 5: Character Device Files —…</a></li>
<li><a href="http://www.linuxforu.com/2012/05/linux-device-drivers-module-interactions/" class="crp_title">Device Drivers, Part 17: Module Interactions</a></li>
</ul>
</div>
            </div>
            <div class="hentry-footer">
                <p class="hentry-tags">Tags: <a href="http://www.linuxforu.com/tag/data-transfers/" rel="tag">data transfers</a>, <a href="http://www.linuxforu.com/tag/depmod/" rel="tag">depmod</a>, <a href="http://www.linuxforu.com/tag/device-id/" rel="tag">device id</a>, <a href="http://www.linuxforu.com/tag/kernel-space/" rel="tag">kernel space</a>, <a href="http://www.linuxforu.com/tag/lfy-december-2011/" rel="tag">LFY December 2011</a>, <a href="http://www.linuxforu.com/tag/linux-device-drivers/" rel="tag">linux device drivers</a>, <a href="http://www.linuxforu.com/tag/linux-device-drivers-series/" rel="tag">Linux Device Drivers Series</a>, <a href="http://www.linuxforu.com/tag/pci-device-drivers/" rel="tag">pci device drivers</a>, <a href="http://www.linuxforu.com/tag/pen-drive/" rel="tag">pen drive</a>, <a href="http://www.linuxforu.com/tag/product-id/" rel="tag">product id</a>, <a href="http://www.linuxforu.com/tag/scsi/" rel="tag">SCSI</a>, <a href="http://www.linuxforu.com/tag/universal-serial-bus/" rel="tag">Universal Serial Bus</a>, <a href="http://www.linuxforu.com/tag/usb/" rel="tag">USB</a>, <a href="http://www.linuxforu.com/tag/usb-device-driver/" rel="tag">usb device driver</a>, <a href="http://www.linuxforu.com/tag/usb-devices/" rel="tag">usb devices</a>, <a href="http://www.linuxforu.com/tag/usb-driver/" rel="tag">usb driver</a>, <a href="http://www.linuxforu.com/tag/usb-storage-driver/" rel="tag">usb storage driver</a>, <a href="http://www.linuxforu.com/tag/vendor-id/" rel="tag">vendor id</a></p>                                                <div id="author-info">
                        <div id="authorbox-title">Article written by:</div>
                                                        <div class="authorboxfix"></div>
                                <div class="author">
                                        <div class="author-image">
                                                <img id="grav-6b9420b27bbb357fa9cd481711a43494-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/6b9420b27bbb357fa9cd481711a43494.jpeg" class="avatar avatar-102 photo grav-hashed grav-hijack" width="102" height="102">                                        </div>
                                        <div class="author-name">
                                                <a href="http://www.linuxforu.com/author/anil-kumar-pugalia/" title="More articles by Anil Kumar Pugalia" rel="nofollow" target="_blank">Anil Kumar Pugalia</a>
                                        </div>
                                        <div class="author-blurb">
                                                <p class="description">The
 author is a freelance trainer in Linux internals, Linux device drivers,
 embedded Linux and related topics. Prior to this, he had worked at 
Intel and Nvidia. He has been exploring Linux since 1994. A gold 
medallist from the Indian Institute of Science, Linux and 
knowledge-sharing are two of his many passions.</p>
                                                <div class="social-links"><p>Connect with him: <a href="http://profession.sarika-pugs.com/">Website</a> - <a rel="nofollow" href="http://twitter.com/anil_pugalia" target="_blank">Twitter</a> - <a rel="nofollow" href="http://facebook.com/anil.pugalia" target="_blank">Facebook</a> - <a rel="nofollow" href="http://plus.google.com/103727326491474549031" target="_blank">Google+</a></p>
                                                </div>
                                        </div>
                                </div>
                                <div class="authorboxfix"></div>
                                        </div>
                                <div class="hentry-navigation">
                    <div class="hentry-navigation-inn clear">
                                                    <a class="hentry-navigation-prev" href="http://www.linuxforu.com/2011/12/loading-library-files-in-cpp/">
                                <em>Previous Post</em>
                                <span>Loading Library Files in C++</span>
                            </a>
                                                    <a class="hentry-navigation-next" href="http://www.linuxforu.com/2011/12/getting-started-with-systemtap/">
                                <em>Next Post</em>
                                <span>Getting Started with SystemTap</span>
                            </a>
                                                    <div class="hentry-navigation-line"></div>
                    </div>
                </div>

                
            </div>
        </div>
				        <div class="hentry-sidebar">
            
            
            
            
        </div>
				
                <div style="position: fixed; top: 20px;" id="sharebox">
             <div class="share-item"><iframe style="width: 55px; height: 62px;" data-twttr-rendered="true" title="Twitter Tweet Button" class="twitter-share-button twitter-tweet-button twitter-count-vertical" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/tweet_button.html" allowtransparency="true" id="twitter-widget-0" scrolling="no" frameborder="0"></iframe><script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/widgets_002.js"></script></div>
            <div class="share-item">
<div class=" fb_reset" id="fb-root"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/xd_arbiter.html" style="border: medium none;" tab-index="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_http" allowtransparency="true" name="fb_xdm_frame_http" scrolling="no" frameborder="0"></iframe><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/xd_arbiter_002.html" style="border: medium none;" tab-index="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_https" allowtransparency="true" name="fb_xdm_frame_https" scrolling="no" frameborder="0"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div fb-iframe-plugin-query="app_id=&amp;href=http%3A%2F%2Fwww.linuxforu.com%2F2011%2F12%2Fdata-transfers-to-from-usb-devices%2F&amp;layout=box_count&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=49" fb-xfbml-state="parsed" class="fb-like fb_iframe_widget" data-send="false" data-href="http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/" data-layout="box_count" data-width="49" data-show-faces="false"><span style="vertical-align: top; width: 0px; height: 0px;"><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/like.xhtml" style="border: medium none; visibility: hidden; width: 0px; height: 0px;" title="fb:like Facebook Social Plugin" allowtransparency="true" name="f2e8d6be931b0aa" scrolling="no" width="49px" frameborder="0" height="1000px"></iframe></span></div>
						</div>
<div class="share-item">
<div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 50px; height: 60px;"><iframe title="+1" data-gapiattached="true" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/fastbutton.html" name="I0_1392980502212" id="I0_1392980502212" vspace="0" tabindex="0" style="position: static; top: 0px; width: 50px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 60px;" marginwidth="0" marginheight="0" hspace="0" scrolling="no" width="100%" frameborder="0"></iframe></div>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
						</div>
            <div class="share-item"><script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/button2.html"></script></div>
            <div class="share-item"><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/hostedbadge.html"></script><iframe id="iframe-stmblpn-widget-1" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/a.html" style="overflow: hidden; margin: 0px; padding: 0px; border: 0px none;" allowtransparency="true" scrolling="no" width="50" frameborder="0" height="60"></iframe> <script type="text/javascript">   (function() {     var li = document.createElement('script'); li.type = 'text/javascript'; li.async = true;     li.src = window.location.protocol + '//platform.stumbleupon.com/1/widgets.js';     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(li, s);   })(); </script></div>
<div class="share-item"><script type="text/javascript"> (function() { var s = document.createElement('SCRIPT'), s1 = document.getElementsByTagName('SCRIPT')[0]; s.type = 'text/javascript'; s.async = true; s.src = 'http://widgets.digg.com/buttons.js'; s1.parentNode.insertBefore(s, s1); })(); </script> <span class="db-wrapper db-clear db-medium"><span><span class="db-container db-submit"><span class="db-body db-medium"><span class="db-count"></span><span class="db-copy"></span><a class="db-anchor">digg</a></span></span></span></span></div>
        </div>
        
    </div>

    <div class="clear"></div>

    
<div id="disqus_thread"><iframe verticalscrolling="no" horizontalscrolling="no" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/a_002.html" style="width: 100% ! important; border: medium none ! important; overflow: hidden ! important; height: 6552px ! important;" title="Disqus" tabindex="0" allowtransparency="true" data-disqus-uid="2" id="dsq-2" scrolling="no" width="100%" frameborder="0"></iframe></div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://www.linuxforu.com/2011/12/data-transfers-to-from-usb-devices/';
    var disqus_identifier = '8556 http://www.linuxforu.com/?p=8556';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'linuxforyou';
    var disqus_title = "Device Drivers, Part 13: Data Transfer to and from USB Devices";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=8556';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
    var facebookXdReceiverPath = 'http://www.linuxforu.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/www.linuxforu.com\/2011\/12\/data-transfers-to-from-usb-devices\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
        dsq.src = 'http' + '://' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.73';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

</div> <!-- .single -->


</div><!-- #content -->

<div id="sidebar">
    <div id="search-3" class="widget_search widget"><form role="search" method="get" id="searchform" class="searchform" action="http://www.linuxforu.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input name="s" id="s" type="text">
					<input id="searchsubmit" value="Search" type="submit">
				</div>
			</form></div><div id="text-5" class="widget_text widget">			<div class="textwidget"><a href="http://electronicsforu.com/electronicsforu/subscription/subsc2scheme.asp" title="Click takes you to our publisher's site" target="_blank"><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/300x250-new.gif" style="box-shadow: 0 0 3px #999999; padding: 4px;"></a></div>
		</div><div id="wpshower_getconnected-3" class="unspoken-getconnected widget"><h3 class="widget-title">Get Connected</h3><ul>
				<li class="feed">
					<a href="http://feeds.feedburner.com/LinuxForYou">RSS Feed</a>
				</li>

		
				<li class="twitter">
					<a href="https://twitter.com/#%21/linuxforyou">Twitter</a>
				</li>

		</ul></div><div id="wpshower_adplace-26" class="unspoken-adplace widget"><script type="text/javascript"><!--
google_ad_client = "pub-8234370613268639";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "006699";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" scrolling="no" width="300" frameborder="0" height="250"></iframe></ins></ins>
</div><div id="wpshower_adplace-28" class="unspoken-adplace widget"><a class="unspoken-banner aligncenter" href="http://www.enterpriseciosummit.com/" target="_blank"><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/CIO-200p-x-150p.jpg" alt="CIO Summit" title="CIO Summit"></a><div class="clear"></div></div><div id="text-7" class="widget_text widget">			<div class="textwidget"><!-- Place this tag in the <head> of your document -->
<link href="https://plus.google.com/104556966235097268920" rel="publisher"><script type="text/javascript">
window.___gcfg = {lang: 'en'};
(function() 
{var po = document.createElement("script");
po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(po, s);
})();</script><!-- Place this tag where you want the badge to render --><div id="___plus_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 106px;"><iframe title="+Badge" data-gapiattached="true" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/badge.html" name="I0_1392980509637" id="I0_1392980509637" vspace="0" tabindex="0" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 106px;" marginwidth="0" marginheight="0" hspace="0" scrolling="no" width="100%" frameborder="0"></iframe></div></div>
		</div><div id="text-3" class="widget_text widget">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=241865729181918";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><div fb-iframe-plugin-query="app_id=&amp;header=true&amp;href=http%3A%2F%2Fwww.facebook.com%2Fopensourceforu&amp;locale=en_US&amp;sdk=joey&amp;show_faces=true&amp;stream=false&amp;width=300" fb-xfbml-state="parsed" class="fb-like-box fb_iframe_widget" data-href="http://www.facebook.com/opensourceforu" data-width="300" data-show-faces="true" data-stream="false" data-header="true"><span style="vertical-align: top; width: 0px; height: 0px;"><iframe src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/like_box.xhtml" style="border: medium none; visibility: hidden; width: 0px; height: 0px;" title="fb:like_box Facebook Social Plugin" allowtransparency="true" name="f1dc5997082fa1e" scrolling="no" width="300px" frameborder="0" height="1000px"></iframe></span></div></div>
		</div><div id="text-4" class="widget_text widget">			<div class="textwidget"><script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'search',
  search: 'linuxforyou',
  interval: 30000,
  title: 'Complete Magazine on Open Source',
  subject: '@LinuxForYou',
  width: 'auto',
  height: 350,
  theme: {
    shell: {
      background: '#188cc2',
      color: '#ffffff'
    },
    tweets: {
      background: '#ffffff',
      color: '#444444',
      links: '#0079c9'
    }
  },
  features: {
    scrollbar: false,
    loop: true,
    live: true,
    behavior: 'default'
  }
}).render().start();
</script></div>
		</div><div id="wpshower_tabs-3" class="unspoken-tabs widget"><div class="tabs-section"><ul class="tabs-list"><li class="tabs-current">Popular</li><li>Comments</li><li>Tag cloud</li></ul><div class="tabs-box visible"><div id="wpshower_popular_posts-3" class="unspoken_popular_posts widget"><span class="no-title">Popular</span><ul>
            <li class="hentry-thumb clear">
                <span class="hentry-thumb-image"><a href="http://www.linuxforu.com/2013/12/open-source-technology/"></a></span>
                <span class="hentry-thumb-meta ">December 10, 2013 · <a href="http://www.linuxforu.com/2013/12/open-source-technology/#comments">4 Comments</a> · <a class="url fn n" href="http://www.linuxforu.com/author/diksha-p-gupta/" title="View all posts by Diksha P Gupta">Diksha P Gupta</a></span>
                <span class="hentry-thumb-title "><a href="http://www.linuxforu.com/2013/12/open-source-technology/">“We are where we are because of open source technology”</a></span>
             </li>

        
            <li class="hentry-thumb clear">
                <span class="hentry-thumb-image"><a href="http://www.linuxforu.com/2013/11/want-freedom-initiate-linux-life-today/"></a></span>
                <span class="hentry-thumb-meta ">November 1, 2013 · <a href="http://www.linuxforu.com/2013/11/want-freedom-initiate-linux-life-today/#comments">3 Comments</a> · <a class="url fn n" href="http://www.linuxforu.com/author/shobhit-gupta/" title="View all posts by Shobhit Gupta">Shobhit Gupta</a></span>
                <span class="hentry-thumb-title "><a href="http://www.linuxforu.com/2013/11/want-freedom-initiate-linux-life-today/">Want Freedom? Initiate Linux In Your Life Today</a></span>
             </li>

        
            <li class="hentry-thumb clear">
                <span class="hentry-thumb-image"><a href="http://www.linuxforu.com/2014/02/learn-write-apps-firefox-os/"><img src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/firefox-50x50.jpg" class="attachment-micro wp-post-image" alt="Learn How to Write Apps for the  Firefox OS" title="Learn How to Write Apps for the  Firefox OS" width="50" height="50"></a></span>
                <span class="hentry-thumb-meta offset">February 14, 2014 · <a href="http://www.linuxforu.com/2014/02/learn-write-apps-firefox-os/#comments">2 Comments</a> · <a class="url fn n" href="http://www.linuxforu.com/author/sahil-chelaramani/" title="View all posts by Sahil Chelaramani">Sahil Chelaramani</a></span>
                <span class="hentry-thumb-title offset"><a href="http://www.linuxforu.com/2014/02/learn-write-apps-firefox-os/">Learn How to Write Apps for the  Firefox OS</a></span>
             </li>

        
            <li class="hentry-thumb clear">
                <span class="hentry-thumb-image"><a href="http://www.linuxforu.com/2013/12/look-top-three-network-monitoring-tools/"></a></span>
                <span class="hentry-thumb-meta ">December 10, 2013 · <a href="http://www.linuxforu.com/2013/12/look-top-three-network-monitoring-tools/#comments">2 Comments</a> · <a class="url fn n" href="http://www.linuxforu.com/author/prashant-phatak/" title="View all posts by Prashant Phatak">Prashant Phatak</a></span>
                <span class="hentry-thumb-title "><a href="http://www.linuxforu.com/2013/12/look-top-three-network-monitoring-tools/">A Look at the Top Three Network Monitoring Tools</a></span>
             </li>

        
            <li class="hentry-thumb clear">
                <span class="hentry-thumb-image"><a href="http://www.linuxforu.com/2014/02/top-10-open-source-security-tools/"></a></span>
                <span class="hentry-thumb-meta ">February 6, 2014 · <a href="http://www.linuxforu.com/2014/02/top-10-open-source-security-tools/#comments">2 Comments</a> · <a class="url fn n" href="http://www.linuxforu.com/author/kannan-k/" title="View all posts by Kannan K">Kannan K</a></span>
                <span class="hentry-thumb-title "><a href="http://www.linuxforu.com/2014/02/top-10-open-source-security-tools/">Top 10 Open Source security tools</a></span>
             </li>

        </ul></div></div><div class="tabs-box"><div id="wpshower_recent_comments-3" class="unspoken_recent_comments widget"><span class="no-title">Comments</span><ul>
            <li class="hentry-thumb hentry-thumb-comment clear">
                <span class="hentry-thumb-image"><img id="grav-8edd5f25f110c322a025690bcfcd8339-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/8edd5f25f110c322a025690bcfcd8339.png" class="avatar avatar-50 photo grav-hashed grav-hijack" width="50" height="50"></span>
                <span class="hentry-thumb-meta offset">February 14, 2014</span>
                <span class="hentry-thumb-title offset">Saheel                    <span>—</span> <a href="http://www.linuxforu.com/2014/02/learn-write-apps-firefox-os/#comment-6421" title="Comment on post &quot;Learn How to Write Apps for the  Firefox OS&quot;">try www.learnstreet.com</a></span>
             </li>

        
            <li class="hentry-thumb hentry-thumb-comment clear">
                <span class="hentry-thumb-image"><img id="grav-7f874ad2f365d7afb4b4ac8ca98b3606-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/7f874ad2f365d7afb4b4ac8ca98b3606.png" class="avatar avatar-50 photo grav-hashed grav-hijack" width="50" height="50"></span>
                <span class="hentry-thumb-meta offset">February 14, 2014</span>
                <span class="hentry-thumb-title offset">Noufal P                    <span>—</span> <a href="http://www.linuxforu.com/2011/05/decoding-character-device-file-operations/#comment-6420" title="Comment on post &quot;Device Drivers, Part 6: Decoding Character Device File Operations&quot;">final code for copying all data?</a></span>
             </li>

        
            <li class="hentry-thumb hentry-thumb-comment clear">
                <span class="hentry-thumb-image"><img id="grav-0dbb1d88dbbf81124922120b25765649-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/0dbb1d88dbbf81124922120b25765649.png" class="avatar avatar-50 photo grav-hashed grav-hijack" width="50" height="50"></span>
                <span class="hentry-thumb-meta offset">February 14, 2014</span>
                <span class="hentry-thumb-title offset">Kaushal Kishore                    <span>—</span> <a href="http://www.linuxforu.com/2014/02/learn-write-apps-firefox-os/#comment-6419" title="Comment on post &quot;Learn How to Write Apps for the  Firefox OS&quot;">ur article on FFOS app developement was enlightening!
Kindly suggest ideas,websites to learn JScript,HTML5,CSS..Thanks!</a></span>
             </li>

        
            <li class="hentry-thumb hentry-thumb-comment clear">
                <span class="hentry-thumb-image"><img id="grav-7797485138b6b4dc775214e0cfd61ef7-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/7797485138b6b4dc775214e0cfd61ef7.png" class="avatar avatar-50 photo grav-hashed grav-hijack" width="50" height="50"></span>
                <span class="hentry-thumb-meta offset">February 14, 2014</span>
                <span class="hentry-thumb-title offset">aashik                    <span>—</span> <a href="http://www.linuxforu.com/2010/12/getting-started-with-rtlinux/#comment-6418" title="Comment on post &quot;Getting Started with RTLinux&quot;">How to then copy this created operating system to another system ?</a></span>
             </li>

        
            <li class="hentry-thumb hentry-thumb-comment clear">
                <span class="hentry-thumb-image"><img id="grav-2527b7c61f45f02d98a9cc4ec7fc602c-0" alt="" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/2527b7c61f45f02d98a9cc4ec7fc602c.png" class="avatar avatar-50 photo grav-hashed grav-hijack" width="50" height="50"></span>
                <span class="hentry-thumb-meta offset">February 13, 2014</span>
                <span class="hentry-thumb-title offset">Bejoy Mathews                    <span>—</span> <a href="http://www.linuxforu.com/2010/11/data-centre-automation-puppet-master-client-setup/#comment-6417" title="Comment on post &quot;Puppet Data Centre Automation Solution, Part 1: Setting Up Master &amp; Client&quot;">and still people are using Puppet and looking for articles :)</a></span>
             </li>

        </ul></div></div><div class="tabs-box"><div id="simpletags-3" class="widget-simpletags widget"><span class="no-title">Tag cloud</span>
<!-- Generated by Simple Tags 2.3.2 - http://wordpress.org/extend/plugins/simple-tags -->
	<div class="st-tag-cloud">
	<a href="http://www.linuxforu.com/tag/google/" id="tag-link-592" class="st-tags t4" title="61 topics" rel="tag" style="font-size:12.67pt; color:#888888;">Google</a>
<a href="http://www.linuxforu.com/tag/fedora/" id="tag-link-490" class="st-tags t4" title="58 topics" rel="tag" style="font-size:12.67pt; color:#888888;">Fedora</a>
<a href="http://www.linuxforu.com/tag/web-server/" id="tag-link-1634" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">Web server</a>
<a href="http://www.linuxforu.com/tag/kernel/" id="tag-link-809" class="st-tags t1" title="25 topics" rel="tag" style="font-size:8pt; color:#cccccc;">kernel</a>
<a href="http://www.linuxforu.com/tag/lfy-march-2012/" id="tag-link-5165" class="st-tags t1" title="25 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY March 2012</a>
<a href="http://www.linuxforu.com/tag/india/" id="tag-link-701" class="st-tags t2" title="37 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">India</a>
<a href="http://www.linuxforu.com/tag/distro-review/" id="tag-link-401" class="st-tags t1" title="22 topics" rel="tag" style="font-size:8pt; color:#cccccc;">distro review</a>
<a href="http://www.linuxforu.com/tag/gnome/" id="tag-link-570" class="st-tags t1" title="27 topics" rel="tag" style="font-size:8pt; color:#cccccc;">GNOME</a>
<a href="http://www.linuxforu.com/tag/lfy-february-2012/" id="tag-link-4678" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY February 2012</a>
<a href="http://www.linuxforu.com/tag/programming/" id="tag-link-1225" class="st-tags t1" title="32 topics" rel="tag" style="font-size:8pt; color:#cccccc;">programming</a>
<a href="http://www.linuxforu.com/tag/apache/" id="tag-link-98" class="st-tags t2" title="34 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">Apache</a>
<a href="http://www.linuxforu.com/tag/operating-systems/" id="tag-link-2261" class="st-tags t1" title="27 topics" rel="tag" style="font-size:8pt; color:#cccccc;">operating systems</a>
<a href="http://www.linuxforu.com/tag/oracle/" id="tag-link-1125" class="st-tags t1" title="30 topics" rel="tag" style="font-size:8pt; color:#cccccc;">Oracle</a>
<a href="http://www.linuxforu.com/tag/javascript/" id="tag-link-774" class="st-tags t1" title="30 topics" rel="tag" style="font-size:8pt; color:#cccccc;">JavaScript</a>
<a href="http://www.linuxforu.com/tag/web-applications/" id="tag-link-2351" class="st-tags t2" title="40 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">web applications</a>
<a href="http://www.linuxforu.com/tag/lfy-june-2011/" id="tag-link-2496" class="st-tags t1" title="26 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY June 2011</a>
<a href="http://www.linuxforu.com/tag/lfy-april-2012/" id="tag-link-5316" class="st-tags t1" title="28 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY April 2012</a>
<a href="http://www.linuxforu.com/tag/facebook/" id="tag-link-484" class="st-tags t1" title="23 topics" rel="tag" style="font-size:8pt; color:#cccccc;">Facebook</a>
<a href="http://www.linuxforu.com/tag/ubuntu/" id="tag-link-1539" class="st-tags t7" title="96 topics" rel="tag" style="font-size:17.33pt; color:#434343;">ubuntu</a>
<a href="http://www.linuxforu.com/tag/ram/" id="tag-link-1817" class="st-tags t1" title="28 topics" rel="tag" style="font-size:8pt; color:#cccccc;">RAM</a>
<a href="http://www.linuxforu.com/tag/php/" id="tag-link-1181" class="st-tags t3" title="53 topics" rel="tag" style="font-size:11.11pt; color:#9e9e9e;">PHP</a>
<a href="http://www.linuxforu.com/tag/ethernet/" id="tag-link-1759" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">Ethernet</a>
<a href="http://www.linuxforu.com/tag/api/" id="tag-link-105" class="st-tags t1" title="26 topics" rel="tag" style="font-size:8pt; color:#cccccc;">API</a>
<a href="http://www.linuxforu.com/tag/open-source/" id="tag-link-1094" class="st-tags t2" title="36 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">open source</a>
<a href="http://www.linuxforu.com/tag/java/" id="tag-link-763" class="st-tags t5" title="77 topics" rel="tag" style="font-size:14.22pt; color:#717171;">Java</a>
<a href="http://www.linuxforu.com/tag/mysql/" id="tag-link-1009" class="st-tags t4" title="65 topics" rel="tag" style="font-size:12.67pt; color:#888888;">MySQL</a>
<a href="http://www.linuxforu.com/tag/xml/" id="tag-link-2131" class="st-tags t1" title="29 topics" rel="tag" style="font-size:8pt; color:#cccccc;">xml</a>
<a href="http://www.linuxforu.com/tag/c/" id="tag-link-224" class="st-tags t3" title="47 topics" rel="tag" style="font-size:11.11pt; color:#9e9e9e;">C</a>
<a href="http://www.linuxforu.com/tag/foss/" id="tag-link-521" class="st-tags t1" title="26 topics" rel="tag" style="font-size:8pt; color:#cccccc;">FOSS</a>
<a href="http://www.linuxforu.com/tag/python/" id="tag-link-1244" class="st-tags t4" title="60 topics" rel="tag" style="font-size:12.67pt; color:#888888;">python</a>
<a href="http://www.linuxforu.com/tag/android/" id="tag-link-79" class="st-tags t5" title="69 topics" rel="tag" style="font-size:14.22pt; color:#717171;">Android</a>
<a href="http://www.linuxforu.com/tag/cc/" id="tag-link-232" class="st-tags t1" title="22 topics" rel="tag" style="font-size:8pt; color:#cccccc;">C/C++</a>
<a href="http://www.linuxforu.com/tag/lfy-january-2011/" id="tag-link-2809" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY January 2011</a>
<a href="http://www.linuxforu.com/tag/unix/" id="tag-link-1561" class="st-tags t1" title="33 topics" rel="tag" style="font-size:8pt; color:#cccccc;">unix</a>
<a href="http://www.linuxforu.com/tag/lfy-july-2011/" id="tag-link-848" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY July 2011</a>
<a href="http://www.linuxforu.com/tag/linux/" id="tag-link-865" class="st-tags t10" title="123 topics" rel="tag" style="font-size:22pt; color:#000000;">Linux</a>
<a href="http://www.linuxforu.com/tag/security/" id="tag-link-22" class="st-tags t2" title="35 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">Security</a>
<a href="http://www.linuxforu.com/tag/firewall/" id="tag-link-506" class="st-tags t1" title="27 topics" rel="tag" style="font-size:8pt; color:#cccccc;">firewall</a>
<a href="http://www.linuxforu.com/tag/http/" id="tag-link-662" class="st-tags t1" title="26 topics" rel="tag" style="font-size:8pt; color:#cccccc;">http</a>
<a href="http://www.linuxforu.com/tag/gpl/" id="tag-link-602" class="st-tags t1" title="22 topics" rel="tag" style="font-size:8pt; color:#cccccc;">GPL</a>
<a href="http://www.linuxforu.com/tag/windows/" id="tag-link-1647" class="st-tags t2" title="38 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">Windows</a>
<a href="http://www.linuxforu.com/tag/microsoft/" id="tag-link-964" class="st-tags t2" title="40 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">Microsoft</a>
<a href="http://www.linuxforu.com/tag/red-hat/" id="tag-link-1272" class="st-tags t1" title="33 topics" rel="tag" style="font-size:8pt; color:#cccccc;">Red Hat</a>
<a href="http://www.linuxforu.com/tag/html/" id="tag-link-661" class="st-tags t2" title="43 topics" rel="tag" style="font-size:9.56pt; color:#b5b5b5;">html</a>
<a href="http://www.linuxforu.com/tag/lfy-may-2011/" id="tag-link-849" class="st-tags t1" title="24 topics" rel="tag" style="font-size:8pt; color:#cccccc;">LFY May 2011</a></div>

</div></div></div></div></div><!-- #sidebar -->

            </div> <!-- .middle -->
            <div class="bottom-widgetarea">
                <div class="bottom-widgetarea-inn clear">
                                                        </div>
            </div>
            <div class="footer clear">

            <div class="menu-footer clear"><ul id="menu-navigation-footer" class="menu"><li id="menu-item-26" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-26"><a href="http://www.linuxforu.com/category/reviews/">Reviews</a></li>
<li id="menu-item-27" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-27"><a href="http://www.linuxforu.com/category/how-tos/">How-Tos</a></li>
<li id="menu-item-28" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-28"><a href="http://www.linuxforu.com/category/coding/">Coding</a></li>
<li id="menu-item-5530" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5530"><a href="http://www.linuxforu.com/category/interviews/">Interviews</a></li>
<li id="menu-item-29" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-29"><a href="http://www.linuxforu.com/category/features/">Features</a></li>
<li id="menu-item-5548" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5548"><a href="http://www.linuxforu.com/category/overview/">Overview</a></li>
<li id="menu-item-32" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-32"><a href="http://www.linuxforu.com/category/blogs/">Blogs</a></li>
</ul></div>
                <div style="height: 126px;" class="footer-leftpart">
                    <a class="logo-footer" href="http://www.linuxforu.com/">
                                                    <span style="background: url(http://www.linuxforu.com/wp-content/themes/unspoken/images/logo-footer.png) 0 0 no-repeat;"></span>                                            </a>
                </div>
                <div style="height: 126px;" class="footer-middlepart">
                    <div class="footer-searchform">
                        <form method="get" id="searchform" action="http://www.linuxforu.com">
                            <fieldset>
                                <input name="s" onfocus="if(this.value=='Search') this.value='';" onblur="if(this.value=='') this.value='Search';" value="Search" type="text">
                            </fieldset>
                        </form>
                    </div>
                    <div class="footer-tags">
                        <p>Popular tags</p><a href="http://www.linuxforu.com/tag/linux/" title="Linux" class="linux">Linux</a>, <a href="http://www.linuxforu.com/tag/ubuntu/" title="ubuntu" class="ubuntu">ubuntu</a>, <a href="http://www.linuxforu.com/tag/java/" title="Java" class="java">Java</a>, <a href="http://www.linuxforu.com/tag/android/" title="Android" class="android">Android</a>, <a href="http://www.linuxforu.com/tag/mysql/" title="MySQL" class="mysql">MySQL</a>, <a href="http://www.linuxforu.com/tag/google/" title="Google" class="google">Google</a>, <a href="http://www.linuxforu.com/tag/python/" title="python" class="python">python</a>, <a href="http://www.linuxforu.com/tag/fedora/" title="Fedora" class="fedora">Fedora</a>, <a href="http://www.linuxforu.com/tag/php/" title="PHP" class="php">PHP</a>, <a href="http://www.linuxforu.com/tag/c/" title="C" class="c">C</a>, <a href="http://www.linuxforu.com/tag/html/" title="html" class="html">html</a>, <a href="http://www.linuxforu.com/tag/microsoft/" title="Microsoft" class="microsoft">Microsoft</a>, <a href="http://www.linuxforu.com/tag/web-applications/" title="web applications" class="web-applications">web applications</a>, <a href="http://www.linuxforu.com/tag/windows/" title="Windows" class="windows">Windows</a>, <a href="http://www.linuxforu.com/tag/india/" title="India" class="india">India</a>, <a href="http://www.linuxforu.com/tag/open-source/" title="open source" class="open-source">open source</a>, <a href="http://www.linuxforu.com/tag/security/" title="Security" class="security">Security</a>, <a href="http://www.linuxforu.com/tag/apache/" title="Apache" class="apache">Apache</a>, <a href="http://www.linuxforu.com/tag/red-hat/" title="Red Hat" class="red-hat">Red Hat</a>, <a href="http://www.linuxforu.com/tag/unix/" title="unix" class="unix">unix</a>, <a href="http://www.linuxforu.com/tag/programming/" title="programming" class="programming">programming</a>, <a href="http://www.linuxforu.com/tag/javascript/" title="JavaScript" class="javascript">JavaScript</a>, <a href="http://www.linuxforu.com/tag/oracle/" title="Oracle" class="oracle">Oracle</a>, <a href="http://www.linuxforu.com/tag/xml/" title="xml" class="xml">xml</a>, <a href="http://www.linuxforu.com/tag/ram/" title="RAM" class="ram">RAM</a>, <a href="http://www.linuxforu.com/tag/lfy-april-2012/" title="LFY April 2012" class="lfy-april-2012">LFY April 2012</a>, <a href="http://www.linuxforu.com/tag/firewall/" title="firewall" class="firewall">firewall</a>, <a href="http://www.linuxforu.com/tag/gnome/" title="GNOME" class="gnome">GNOME</a>, <a href="http://www.linuxforu.com/tag/operating-systems/" title="operating systems" class="operating-systems">operating systems</a>, <a href="http://www.linuxforu.com/tag/api/" title="API" class="api">API</a>                    </div>
                </div>

            <ul style="height: 126px;" id="menu-footer-left-linkset" class="footer-linkset"><li id="menu-item-33" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-33"><a href="http://www.linuxforu.com/category/everyone/">For You &amp; Me</a></li>
<li id="menu-item-3257" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3257"><a href="http://www.linuxforu.com/category/developers/">Developers</a></li>
<li id="menu-item-5536" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5536"><a href="http://www.linuxforu.com/category/sysadmins/">Sysadmins</a></li>
<li id="menu-item-11294" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11294"><a href="http://www.linuxforu.com/category/power-users/">Open Gurus</a></li>
<li id="menu-item-11293" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11293"><a href="http://www.linuxforu.com/category/cxo/">CXOs</a></li>
<li id="menu-item-3258" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3258"><a href="http://www.linuxforu.com/category/columns/">Columns</a></li>
</ul>
            
            </div><!-- .footer -->
            <div class="copyrights">
                <p>All published articles are released under <a href="http://creativecommons.org/licenses/by-nc/3.0/" target="_blank">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>, unless otherwise noted.<br><a href="http://www.linuxforu.com/">LINUX For You</a> is powered by <a href="http://wordpress.org/" target="_blank&gt;">WordPress</a>, which gladly sits on top of a <a href="http://www.centos.org/" target="_blank">CentOS</a>-based <a href="http://en.wikipedia.org/wiki/LAMP_%28software_bundle%29" target="_blank">LEMP stack</a>.</p>
                            </div>
            <div class="credits">
            
<a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/88x31.png"></a>.
            </div>
            <div class="clear"></div>
        </div><iframe tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/postmessageRelay.html" id="oauth2relay1402167441" name="oauth2relay1402167441"></iframe> <!-- .wrapper -->

            <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'linuxforyou';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) url = url[0];
                    else url = url[1]
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
                        s.src = 'http' + '://' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script>

<!-- WP SyntaxHighlighter Ver.1.7.3 Begin -->
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shCore.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shAutoloader.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/shBrushXml.js"></script>
<script type="text/javascript">//<![CDATA[
	SyntaxHighlighter.autoloader(
	"bash shell	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0"
	,"cpp c	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0"
	,"c# c-sharp csharp	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0"
	,"css	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js?ver=3.0"
	,"delphi pas pascal	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDelphi.js?ver=3.0"
	,"diff patch	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDiff.js?ver=3.0"
	,"erl erlang	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushErlang.js?ver=3.0"
	,"groovy	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushGroovy.js?ver=3.0"
	,"java	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0"
	,"js jscript javascript	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0"
	,"perl pl	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPerl.js?ver=3.0"
	,"php	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0"
	,"plain text	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js?ver=3.0"
	,"py python	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0"
	,"rails ror ruby rb	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0"
	,"scala	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushScala.js?ver=3.0"
	,"sql	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSql.js?ver=3.0"
	,"vb vbnet	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushVb.js?ver=3.0"
	,"xml xhtml xslt html	http://www.linuxforu.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0"
	);
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['quick-code'] = true;
	SyntaxHighlighter.defaults['title'] = '';
	SyntaxHighlighter.defaults['class-name'] = 'notranslate';
	SyntaxHighlighter.defaults['collapse'] = false;
	SyntaxHighlighter.defaults['first-line'] = 1;
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['smart-tabs'] = true;
	SyntaxHighlighter.defaults['tab-size'] = 4;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = "Can't find brush for: ";
	SyntaxHighlighter.config.strings.brushNotHtmlScript = "Brush wasn't configured for html-script option: ";
	SyntaxHighlighter.all();
	
//]]></script>
<!-- WP SyntaxHighlighter Ver.1.7.3 End -->
	<div style="display:none">
	<div class="grofile-hash-map-6b9420b27bbb357fa9cd481711a43494">
	</div>
	<div class="grofile-hash-map-8edd5f25f110c322a025690bcfcd8339">
	</div>
	<div class="grofile-hash-map-7f874ad2f365d7afb4b4ac8ca98b3606">
	</div>
	<div class="grofile-hash-map-0dbb1d88dbbf81124922120b25765649">
	</div>
	<div class="grofile-hash-map-7797485138b6b4dc775214e0cfd61ef7">
	</div>
	<div class="grofile-hash-map-2527b7c61f45f02d98a9cc4ec7fc602c">
	</div>
	</div>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery_002.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery_003.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wpgform_script_vars = {"required":"This field is required.","remote":"Please fix this field.","email":"Please enter a valid email address.","url":"Please enter a valid URL.","date":"Please enter a valid date.","dateISO":"Please enter a valid date (ISO).","number":"Please enter a valid number.","digits":"Please enter only digits.","creditcard":"Please enter a valid credit card number.","equalTo":"Please enter the same value again.,","accept":"Please enter a value with a valid extension.","maxlength":"Please enter no more than {0} characters.","minlength":"Please enter at least {0} characters.","rangelength":"Please enter a value between {0} and {1} characters long.","range":"Please enter a value between {0} and {1}.","max":"Please enter a value less than or equal to {0}.","min":"Please enter a value greater than or equal to {0}."};
/* ]]> */
</script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/wpgform.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/jquery_005.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.linuxforu.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/scripts_002.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/devicepx-jetpack.js"></script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/wpgroho.js"></script>

	<script src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/e-201408.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.5',blog:'12329356',post:'8556',tz:'5.5'});
	var load_cmc = function(){linktracker_init(12329356,8556,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><img id="wpstats" src="Device%20Drivers,%20Part%2013:%20Data%20Transfer%20to%20and%20from%20USB%20Devices%20-%20LINUX%20For%20You_files/g.gif" alt="">
        <script type="text/javascript">/* CloudFlare analytics upgrade */
</script>
	

<div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div></body><iframe src="" style="display: none;"></iframe></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using disk: enhanced
Database Caching 39/77 queries in 0.057 seconds using apc
Object Caching 3602/3791 objects using apc

 Served from: www.linuxforu.com @ 2014-02-21 13:45:29 by W3 Total Cache -->